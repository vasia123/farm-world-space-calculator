/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function t(t,e){const i=new Set(t.split(","));return e?t=>i.has(t.toLowerCase()):t=>i.has(t)}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const e={},i=[],n=()=>{},s=()=>!1,o=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),r=t=>t.startsWith("onUpdate:"),l=Object.assign,a=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},c=Object.prototype.hasOwnProperty,h=(t,e)=>c.call(t,e),u=Array.isArray,d=t=>"[object Map]"===w(t),f=t=>"[object Set]"===w(t),p=t=>"[object Date]"===w(t),m=t=>"function"==typeof t,v=t=>"string"==typeof t,g=t=>"symbol"==typeof t,b=t=>null!==t&&"object"==typeof t,_=t=>(b(t)||m(t))&&m(t.then)&&m(t.catch),y=Object.prototype.toString,w=t=>y.call(t),S=t=>w(t).slice(8,-1),k=t=>"[object Object]"===w(t),E=t=>v(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,C=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},M=/-(\w)/g,O=x((t=>t.replace(M,((t,e)=>e?e.toUpperCase():"")))),T=/\B([A-Z])/g,P=x((t=>t.replace(T,"-$1").toLowerCase())),L=x((t=>t.charAt(0).toUpperCase()+t.slice(1))),N=x((t=>t?`on${L(t)}`:"")),I=(t,e)=>!Object.is(t,e),R=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},A=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},z=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let D;const F=()=>D||(D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function W(t){if(u(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],s=v(n)?B(n):W(n);if(s)for(const t in s)e[t]=s[t]}return e}if(v(t)||b(t))return t}const U=/;(?![^(]*\))/g,V=/:([^]+)/,$=/\/\*[^]*?\*\//g;function B(t){const e={};return t.replace($,"").split(U).forEach((t=>{if(t){const i=t.split(V);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function j(t){let e="";if(v(t))e=t;else if(u(t))for(let i=0;i<t.length;i++){const n=j(t[i]);n&&(e+=n+" ")}else if(b(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const H=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Y(t){return!!t||""===t}function G(t,e){if(t===e)return!0;let i=p(t),n=p(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=g(t),n=g(e),i||n)return t===e;if(i=u(t),n=u(e),i||n)return!(!i||!n)&&function(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=G(t[n],e[n]);return i}(t,e);if(i=b(t),n=b(e),i||n){if(!i||!n)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t){const n=t.hasOwnProperty(i),s=e.hasOwnProperty(i);if(n&&!s||!n&&s||!G(t[i],e[i]))return!1}}return String(t)===String(e)}function X(t,e){return t.findIndex((t=>G(t,e)))}const Z=t=>v(t)?t:null==t?"":u(t)||b(t)&&(t.toString===y||!m(t.toString))?JSON.stringify(t,K,2):String(t),K=(t,e)=>e&&e.__v_isRef?K(t,e.value):d(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i],n)=>(t[Q(e,n)+" =>"]=i,t)),{})}:f(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>Q(t)))}:g(e)?Q(e):!b(e)||u(e)||k(e)?e:String(e),Q=(t,e="")=>{var i;return g(t)?`Symbol(${null!=(i=t.description)?i:e})`:t};
/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let q,J;class tt{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=q,!t&&q&&(this.index=(q.scopes||(q.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=q;try{return q=this,t()}finally{q=e}}}on(){q=this}off(){q=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function et(t){return new tt(t)}function it(){return q}class nt{constructor(t,e,i,n){this.fn=t,this.trigger=e,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(t,e=q){e&&e.active&&e.effects.push(t)}(this,n)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,ht();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(e.computed.value,this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),ut()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=lt,e=J;try{return lt=!0,J=this,this._runnings++,st(this),this.fn()}finally{ot(this),this._runnings--,J=e,lt=t}}stop(){var t;this.active&&(st(this),ot(this),null==(t=this.onStop)||t.call(this),this.active=!1)}}function st(t){t._trackId++,t._depsLength=0}function ot(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)rt(t.deps[e],t);t.deps.length=t._depsLength}}function rt(t,e){const i=t.get(e);void 0!==i&&e._trackId!==i&&(t.delete(e),0===t.size&&t.cleanup())}let lt=!0,at=0;const ct=[];function ht(){ct.push(lt),lt=!1}function ut(){const t=ct.pop();lt=void 0===t||t}function dt(){at++}function ft(){for(at--;!at&&mt.length;)mt.shift()()}function pt(t,e,i){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&rt(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const mt=[];function vt(t,e,i){dt();for(const n of t.keys()){let i;n._dirtyLevel<e&&(null!=i?i:i=t.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n._dirtyLevel=e),n._shouldSchedule&&(null!=i?i:i=t.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||2===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&mt.push(n.scheduler)))}ft()}const gt=(t,e)=>{const i=new Map;return i.cleanup=t,i.computed=e,i},bt=new WeakMap,_t=Symbol(""),yt=Symbol("");function wt(t,e,i){if(lt&&J){let e=bt.get(t);e||bt.set(t,e=new Map);let n=e.get(i);n||e.set(i,n=gt((()=>e.delete(i)))),pt(J,n)}}function St(t,e,i,n,s,o){const r=bt.get(t);if(!r)return;let l=[];if("clear"===e)l=[...r.values()];else if("length"===i&&u(t)){const t=Number(n);r.forEach(((e,i)=>{("length"===i||!g(i)&&i>=t)&&l.push(e)}))}else switch(void 0!==i&&l.push(r.get(i)),e){case"add":u(t)?E(i)&&l.push(r.get("length")):(l.push(r.get(_t)),d(t)&&l.push(r.get(yt)));break;case"delete":u(t)||(l.push(r.get(_t)),d(t)&&l.push(r.get(yt)));break;case"set":d(t)&&l.push(r.get(_t))}dt();for(const a of l)a&&vt(a,4);ft()}const kt=t("__proto__,__v_isRef,__isVue"),Et=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(g)),Ct=xt();function xt(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const i=fe(this);for(let e=0,s=this.length;e<s;e++)wt(i,0,e+"");const n=i[e](...t);return-1===n||!1===n?i[e](...t.map(fe)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){ht(),dt();const i=fe(this)[e].apply(this,t);return ft(),ut(),i}})),t}function Mt(t){const e=fe(this);return wt(e,0,t),e.hasOwnProperty(t)}class Ot{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){const n=this._isReadonly,s=this._isShallow;if("__v_isReactive"===e)return!n;if("__v_isReadonly"===e)return n;if("__v_isShallow"===e)return s;if("__v_raw"===e)return i===(n?s?se:ne:s?ie:ee).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=u(t);if(!n){if(o&&h(Ct,e))return Reflect.get(Ct,e,i);if("hasOwnProperty"===e)return Mt}const r=Reflect.get(t,e,i);return(g(e)?Et.has(e):kt(e))?r:(n||wt(t,0,e),s?r:ye(r)?o&&E(e)?r:r.value:b(r)?n?le(r):oe(r):r)}}class Tt extends Ot{constructor(t=!1){super(!1,t)}set(t,e,i,n){let s=t[e];if(!this._isShallow){const e=he(s);if(ue(i)||he(i)||(s=fe(s),i=fe(i)),!u(t)&&ye(s)&&!ye(i))return!e&&(s.value=i,!0)}const o=u(t)&&E(e)?Number(e)<t.length:h(t,e),r=Reflect.set(t,e,i,n);return t===fe(n)&&(o?I(i,s)&&St(t,"set",e,i):St(t,"add",e,i)),r}deleteProperty(t,e){const i=h(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&i&&St(t,"delete",e,void 0),n}has(t,e){const i=Reflect.has(t,e);return g(e)&&Et.has(e)||wt(t,0,e),i}ownKeys(t){return wt(t,0,u(t)?"length":_t),Reflect.ownKeys(t)}}class Pt extends Ot{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Lt=new Tt,Nt=new Pt,It=new Tt(!0),Rt=t=>t,At=t=>Reflect.getPrototypeOf(t);function zt(t,e,i=!1,n=!1){const s=fe(t=t.__v_raw),o=fe(e);i||(I(e,o)&&wt(s,0,e),wt(s,0,o));const{has:r}=At(s),l=n?Rt:i?ve:me;return r.call(s,e)?l(t.get(e)):r.call(s,o)?l(t.get(o)):void(t!==s&&t.get(e))}function Dt(t,e=!1){const i=this.__v_raw,n=fe(i),s=fe(t);return e||(I(t,s)&&wt(n,0,t),wt(n,0,s)),t===s?i.has(t):i.has(t)||i.has(s)}function Ft(t,e=!1){return t=t.__v_raw,!e&&wt(fe(t),0,_t),Reflect.get(t,"size",t)}function Wt(t){t=fe(t);const e=fe(this);return At(e).has.call(e,t)||(e.add(t),St(e,"add",t,t)),this}function Ut(t,e){e=fe(e);const i=fe(this),{has:n,get:s}=At(i);let o=n.call(i,t);o||(t=fe(t),o=n.call(i,t));const r=s.call(i,t);return i.set(t,e),o?I(e,r)&&St(i,"set",t,e):St(i,"add",t,e),this}function Vt(t){const e=fe(this),{has:i,get:n}=At(e);let s=i.call(e,t);s||(t=fe(t),s=i.call(e,t)),n&&n.call(e,t);const o=e.delete(t);return s&&St(e,"delete",t,void 0),o}function $t(){const t=fe(this),e=0!==t.size,i=t.clear();return e&&St(t,"clear",void 0,void 0),i}function Bt(t,e){return function(i,n){const s=this,o=s.__v_raw,r=fe(o),l=e?Rt:t?ve:me;return!t&&wt(r,0,_t),o.forEach(((t,e)=>i.call(n,l(t),l(e),s)))}}function jt(t,e,i){return function(...n){const s=this.__v_raw,o=fe(s),r=d(o),l="entries"===t||t===Symbol.iterator&&r,a="keys"===t&&r,c=s[t](...n),h=i?Rt:e?ve:me;return!e&&wt(o,0,a?yt:_t),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function Ht(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function Yt(){const t={get(t){return zt(this,t)},get size(){return Ft(this)},has:Dt,add:Wt,set:Ut,delete:Vt,clear:$t,forEach:Bt(!1,!1)},e={get(t){return zt(this,t,!1,!0)},get size(){return Ft(this)},has:Dt,add:Wt,set:Ut,delete:Vt,clear:$t,forEach:Bt(!1,!0)},i={get(t){return zt(this,t,!0)},get size(){return Ft(this,!0)},has(t){return Dt.call(this,t,!0)},add:Ht("add"),set:Ht("set"),delete:Ht("delete"),clear:Ht("clear"),forEach:Bt(!0,!1)},n={get(t){return zt(this,t,!0,!0)},get size(){return Ft(this,!0)},has(t){return Dt.call(this,t,!0)},add:Ht("add"),set:Ht("set"),delete:Ht("delete"),clear:Ht("clear"),forEach:Bt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{t[s]=jt(s,!1,!1),i[s]=jt(s,!0,!1),e[s]=jt(s,!1,!0),n[s]=jt(s,!0,!0)})),[t,i,e,n]}const[Gt,Xt,Zt,Kt]=Yt();function Qt(t,e){const i=e?t?Kt:Zt:t?Xt:Gt;return(e,n,s)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(h(i,n)&&n in e?i:e,n,s)}const qt={get:Qt(!1,!1)},Jt={get:Qt(!1,!0)},te={get:Qt(!0,!1)},ee=new WeakMap,ie=new WeakMap,ne=new WeakMap,se=new WeakMap;function oe(t){return he(t)?t:ae(t,!1,Lt,qt,ee)}function re(t){return ae(t,!1,It,Jt,ie)}function le(t){return ae(t,!0,Nt,te,ne)}function ae(t,e,i,n,s){if(!b(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const r=(l=t).__v_skip||!Object.isExtensible(l)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(S(l));var l;if(0===r)return t;const a=new Proxy(t,2===r?n:i);return s.set(t,a),a}function ce(t){return he(t)?ce(t.__v_raw):!(!t||!t.__v_isReactive)}function he(t){return!(!t||!t.__v_isReadonly)}function ue(t){return!(!t||!t.__v_isShallow)}function de(t){return ce(t)||he(t)}function fe(t){const e=t&&t.__v_raw;return e?fe(e):t}function pe(t){return Object.isExtensible(t)&&A(t,"__v_skip",!0),t}const me=t=>b(t)?oe(t):t,ve=t=>b(t)?le(t):t;class ge{constructor(t,e,i,n){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new nt((()=>t(this._value)),(()=>_e(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=fe(this);return t._cacheable&&!t.effect.dirty||!I(t._value,t._value=t.effect.run())||_e(t,4),be(t),t.effect._dirtyLevel>=2&&_e(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function be(t){var e;lt&&J&&(t=fe(t),pt(J,null!=(e=t.dep)?e:t.dep=gt((()=>t.dep=void 0),t instanceof ge?t:void 0)))}function _e(t,e=4,i){const n=(t=fe(t)).dep;n&&vt(n,e)}function ye(t){return!(!t||!0!==t.__v_isRef)}function we(t){return ke(t,!1)}function Se(t){return ke(t,!0)}function ke(t,e){return ye(t)?t:new Ee(t,e)}class Ee{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:fe(t),this._value=e?t:me(t)}get value(){return be(this),this._value}set value(t){const e=this.__v_isShallow||ue(t)||he(t);t=e?t:fe(t),I(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:me(t),_e(this,4))}}function Ce(t){return ye(t)?t.value:t}const xe={get:(t,e,i)=>Ce(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const s=t[e];return ye(s)&&!ye(i)?(s.value=i,!0):Reflect.set(t,e,i,n)}};function Me(t){return ce(t)?t:new Proxy(t,xe)}class Oe{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return t=fe(this._object),e=this._key,null==(i=bt.get(t))?void 0:i.get(e);var t,e,i}}function Te(t,e,i){const n=t[e];return ye(n)?n:new Oe(t,e,i)}
/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pe(t,e,i,n){try{return n?t(...n):t()}catch(s){Ne(s,e,i)}}function Le(t,e,i,n){if(m(t)){const s=Pe(t,e,i,n);return s&&_(s)&&s.catch((t=>{Ne(t,e,i)})),s}const s=[];for(let o=0;o<t.length;o++)s.push(Le(t[o],e,i,n));return s}function Ne(t,e,i,n=!0){e&&e.vnode;if(e){let n=e.parent;const s=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${i}`;for(;n;){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,s,o))return;n=n.parent}const r=e.appContext.config.errorHandler;if(r)return void Pe(r,null,10,[t,s,o])}}let Ie=!1,Re=!1;const Ae=[];let ze=0;const De=[];let Fe=null,We=0;const Ue=Promise.resolve();let Ve=null;function $e(t){const e=Ve||Ue;return t?e.then(this?t.bind(this):t):e}function Be(t){Ae.length&&Ae.includes(t,Ie&&t.allowRecurse?ze+1:ze)||(null==t.id?Ae.push(t):Ae.splice(function(t){let e=ze+1,i=Ae.length;for(;e<i;){const n=e+i>>>1,s=Ae[n],o=Ge(s);o<t||o===t&&s.pre?e=n+1:i=n}return e}(t.id),0,t),je())}function je(){Ie||Re||(Re=!0,Ve=Ue.then(Ze))}function He(t,e,i=(Ie?ze+1:0)){for(;i<Ae.length;i++){const e=Ae[i];if(e&&e.pre){if(t&&e.id!==t.uid)continue;Ae.splice(i,1),i--,e()}}}function Ye(t){if(De.length){const t=[...new Set(De)].sort(((t,e)=>Ge(t)-Ge(e)));if(De.length=0,Fe)return void Fe.push(...t);for(Fe=t,We=0;We<Fe.length;We++)Fe[We]();Fe=null,We=0}}const Ge=t=>null==t.id?1/0:t.id,Xe=(t,e)=>{const i=Ge(t)-Ge(e);if(0===i){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function Ze(t){Re=!1,Ie=!0,Ae.sort(Xe);try{for(ze=0;ze<Ae.length;ze++){const t=Ae[ze];t&&!1!==t.active&&Pe(t,null,14)}}finally{ze=0,Ae.length=0,Ye(),Ie=!1,Ve=null,(Ae.length||De.length)&&Ze()}}function Ke(t,i,...n){if(t.isUnmounted)return;const s=t.vnode.props||e;let o=n;const r=i.startsWith("update:"),l=r&&i.slice(7);if(l&&l in s){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:i,trim:r}=s[t]||e;r&&(o=n.map((t=>v(t)?t.trim():t))),i&&(o=n.map(z))}let a,c=s[a=N(i)]||s[a=N(O(i))];!c&&r&&(c=s[a=N(P(i))]),c&&Le(c,t,6,o);const h=s[a+"Once"];if(h){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,Le(h,t,6,o)}}function Qe(t,e,i=!1){const n=e.emitsCache,s=n.get(t);if(void 0!==s)return s;const o=t.emits;let r={},a=!1;if(!m(t)){const n=t=>{const i=Qe(t,e,!0);i&&(a=!0,l(r,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return o||a?(u(o)?o.forEach((t=>r[t]=null)):l(r,o),b(t)&&n.set(t,r),r):(b(t)&&n.set(t,null),null)}function qe(t,e){return!(!t||!o(e))&&(e=e.slice(2).replace(/Once$/,""),h(t,e[0].toLowerCase()+e.slice(1))||h(t,P(e))||h(t,e))}let Je=null,ti=null;function ei(t){const e=Je;return Je=t,ti=t&&t.type.__scopeId||null,e}function ii(t){ti=t}function ni(){ti=null}function si(t){const{type:e,vnode:i,proxy:n,withProxy:s,props:o,propsOptions:[l],slots:a,attrs:c,emit:h,render:u,renderCache:d,data:f,setupState:p,ctx:m,inheritAttrs:v}=t;let g,b;const _=ei(t);try{if(4&i.shapeFlag){const t=s||n,e=t;g=is(u.call(e,t,d,o,p,f,m)),b=c}else{const t=e;0,g=is(t.length>1?t(o,{attrs:c,slots:a,emit:h}):t(o,null)),b=e.props?c:oi(c)}}catch(w){Dn.length=0,Ne(w,t,1),g=Qn(An)}let y=g;if(b&&!1!==v){const t=Object.keys(b),{shapeFlag:e}=y;t.length&&7&e&&(l&&t.some(r)&&(b=ri(b,l)),y=qn(y,b))}return i.dirs&&(y=qn(y),y.dirs=y.dirs?y.dirs.concat(i.dirs):i.dirs),i.transition&&(y.transition=i.transition),g=y,ei(_),g}const oi=t=>{let e;for(const i in t)("class"===i||"style"===i||o(i))&&((e||(e={}))[i]=t[i]);return e},ri=(t,e)=>{const i={};for(const n in t)r(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function li(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const o=n[s];if(e[o]!==t[o]&&!qe(i,o))return!0}return!1}const ai="components",ci=Symbol.for("v-ndc");function hi(t){return v(t)?function(t,e,i=!0,n=!1){const s=Je||as;if(s){const i=s.type;if(t===ai){const t=ys(i,!1);if(t&&(t===e||t===O(e)||t===L(O(e))))return i}const o=ui(s[t]||i[t],e)||ui(s.appContext[t],e);return!o&&n?i:o}}(ai,t,!1)||t:t||ci}function ui(t,e){return t&&(t[e]||t[O(e)]||t[L(O(e))])}const di=Symbol.for("v-scx"),fi=()=>un(di),pi={};function mi(t,e,i){return vi(t,e,i)}function vi(t,i,{immediate:s,deep:o,flush:r,once:l,onTrack:c,onTrigger:h}=e){if(i&&l){const t=i;i=(...e)=>{t(...e),x()}}const d=as,f=t=>!0===o?t:_i(t,!1===o?1:void 0);let p,v,g=!1,b=!1;if(ye(t)?(p=()=>t.value,g=ue(t)):ce(t)?(p=()=>f(t),g=!0):u(t)?(b=!0,g=t.some((t=>ce(t)||ue(t))),p=()=>t.map((t=>ye(t)?t.value:ce(t)?f(t):m(t)?Pe(t,d,2):void 0))):p=m(t)?i?()=>Pe(t,d,2):()=>(v&&v(),Le(t,d,3,[y])):n,i&&o){const t=p;p=()=>_i(t())}let _,y=t=>{v=E.onStop=()=>{Pe(t,d,4),v=E.onStop=void 0}};if(vs){if(y=n,i?s&&Le(i,d,3,[p(),b?[]:void 0,y]):p(),"sync"!==r)return n;{const t=fi();_=t.__watcherHandles||(t.__watcherHandles=[])}}let w=b?new Array(t.length).fill(pi):pi;const S=()=>{if(E.active&&E.dirty)if(i){const t=E.run();(o||g||(b?t.some(((t,e)=>I(t,w[e]))):I(t,w)))&&(v&&v(),Le(i,d,3,[t,w===pi?void 0:b&&w[0]===pi?[]:w,y]),w=t)}else E.run()};let k;S.allowRecurse=!!i,"sync"===r?k=S:"post"===r?k=()=>Mn(S,d&&d.suspense):(S.pre=!0,d&&(S.id=d.uid),k=()=>Be(S));const E=new nt(p,n,k),C=it(),x=()=>{E.stop(),C&&a(C.effects,E)};return i?s?S():w=E.run():"post"===r?Mn(E.run.bind(E),d&&d.suspense):E.run(),_&&_.push(x),x}function gi(t,e,i){const n=this.proxy,s=v(t)?t.includes(".")?bi(n,t):()=>n[t]:t.bind(n,n);let o;m(e)?o=e:(o=e.handler,i=e);const r=ds(this),l=vi(s,o.bind(n),i);return r(),l}function bi(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function _i(t,e,i=0,n){if(!b(t)||t.__v_skip)return t;if(e&&e>0){if(i>=e)return t;i++}if((n=n||new Set).has(t))return t;if(n.add(t),ye(t))_i(t.value,e,i,n);else if(u(t))for(let s=0;s<t.length;s++)_i(t[s],e,i,n);else if(f(t)||d(t))t.forEach((t=>{_i(t,e,i,n)}));else if(k(t))for(const s in t)_i(t[s],e,i,n);return t}function yi(t,i){if(null===Je)return t;const n=_s(Je)||Je.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<i.length;o++){let[t,r,l,a=e]=i[o];t&&(m(t)&&(t={mounted:t,updated:t}),t.deep&&_i(r),s.push({dir:t,instance:n,value:r,oldValue:void 0,arg:l,modifiers:a}))}return t}function wi(t,e,i,n){const s=t.dirs,o=e&&e.dirs;for(let r=0;r<s.length;r++){const l=s[r];o&&(l.oldValue=o[r].value);let a=l.dir[n];a&&(ht(),Le(a,i,8,[t.el,l,t,e]),ut())}}
/*! #__NO_SIDE_EFFECTS__ */function Si(t,e){return m(t)?(()=>l({name:t.name},e,{setup:t}))():t}const ki=t=>!!t.type.__asyncLoader,Ei=t=>t.type.__isKeepAlive;function Ci(t,e){Mi(t,"a",e)}function xi(t,e){Mi(t,"da",e)}function Mi(t,e,i=as){const n=t.__wdc||(t.__wdc=()=>{let e=i;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(Ti(e,n,i),i){let t=i.parent;for(;t&&t.parent;)Ei(t.parent.vnode)&&Oi(n,e,i,t),t=t.parent}}function Oi(t,e,i,n){const s=Ti(e,t,n,!0);zi((()=>{a(n[e],s)}),i)}function Ti(t,e,i=as,n=!1){if(i){const s=i[t]||(i[t]=[]),o=e.__weh||(e.__weh=(...n)=>{if(i.isUnmounted)return;ht();const s=ds(i),o=Le(e,i,t,n);return s(),ut(),o});return n?s.unshift(o):s.push(o),o}}const Pi=t=>(e,i=as)=>(!vs||"sp"===t)&&Ti(t,((...t)=>e(...t)),i),Li=Pi("bm"),Ni=Pi("m"),Ii=Pi("bu"),Ri=Pi("u"),Ai=Pi("bum"),zi=Pi("um"),Di=Pi("sp"),Fi=Pi("rtg"),Wi=Pi("rtc");function Ui(t,e=as){Ti("ec",t,e)}function Vi(t,e,i,n){let s;const o=i&&i[n];if(u(t)||v(t)){s=new Array(t.length);for(let i=0,n=t.length;i<n;i++)s[i]=e(t[i],i,void 0,o&&o[i])}else if("number"==typeof t){s=new Array(t);for(let i=0;i<t;i++)s[i]=e(i+1,i,void 0,o&&o[i])}else if(b(t))if(t[Symbol.iterator])s=Array.from(t,((t,i)=>e(t,i,void 0,o&&o[i])));else{const i=Object.keys(t);s=new Array(i.length);for(let n=0,r=i.length;n<r;n++){const r=i[n];s[n]=e(t[r],r,n,o&&o[n])}}else s=[];return i&&(i[n]=s),s}const $i=t=>t?ps(t)?_s(t)||t.proxy:$i(t.parent):null,Bi=l(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$i(t.parent),$root:t=>$i(t.root),$emit:t=>t.emit,$options:t=>Qi(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Be(t.update)}),$nextTick:t=>t.n||(t.n=$e.bind(t.proxy)),$watch:t=>gi.bind(t)}),ji=(t,i)=>t!==e&&!t.__isScriptSetup&&h(t,i),Hi={get({_:t},i){const{ctx:n,setupState:s,data:o,props:r,accessCache:l,type:a,appContext:c}=t;let u;if("$"!==i[0]){const a=l[i];if(void 0!==a)switch(a){case 1:return s[i];case 2:return o[i];case 4:return n[i];case 3:return r[i]}else{if(ji(s,i))return l[i]=1,s[i];if(o!==e&&h(o,i))return l[i]=2,o[i];if((u=t.propsOptions[0])&&h(u,i))return l[i]=3,r[i];if(n!==e&&h(n,i))return l[i]=4,n[i];Gi&&(l[i]=0)}}const d=Bi[i];let f,p;return d?("$attrs"===i&&wt(t,0,i),d(t)):(f=a.__cssModules)&&(f=f[i])?f:n!==e&&h(n,i)?(l[i]=4,n[i]):(p=c.config.globalProperties,h(p,i)?p[i]:void 0)},set({_:t},i,n){const{data:s,setupState:o,ctx:r}=t;return ji(o,i)?(o[i]=n,!0):s!==e&&h(s,i)?(s[i]=n,!0):!h(t.props,i)&&(("$"!==i[0]||!(i.slice(1)in t))&&(r[i]=n,!0))},has({_:{data:t,setupState:i,accessCache:n,ctx:s,appContext:o,propsOptions:r}},l){let a;return!!n[l]||t!==e&&h(t,l)||ji(i,l)||(a=r[0])&&h(a,l)||h(s,l)||h(Bi,l)||h(o.config.globalProperties,l)},defineProperty(t,e,i){return null!=i.get?t._.accessCache[e]=0:h(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function Yi(t){return u(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Gi=!0;function Xi(t){const e=Qi(t),i=t.proxy,s=t.ctx;Gi=!1,e.beforeCreate&&Zi(e.beforeCreate,t,"bc");const{data:o,computed:r,methods:l,watch:a,provide:c,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:v,updated:g,activated:_,deactivated:y,beforeDestroy:w,beforeUnmount:S,destroyed:k,unmounted:E,render:C,renderTracked:x,renderTriggered:M,errorCaptured:O,serverPrefetch:T,expose:P,inheritAttrs:L,components:N,directives:I,filters:R}=e;if(h&&function(t,e,i=n){u(t)&&(t=en(t));for(const n in t){const i=t[n];let s;s=b(i)?"default"in i?un(i.from||n,i.default,!0):un(i.from||n):un(i),ye(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[n]=s}}(h,s,null),l)for(const n in l){const t=l[n];m(t)&&(s[n]=t.bind(i))}if(o){const e=o.call(i,i);b(e)&&(t.data=oe(e))}if(Gi=!0,r)for(const u in r){const t=r[u],e=m(t)?t.bind(i,i):m(t.get)?t.get.bind(i,i):n,o=!m(t)&&m(t.set)?t.set.bind(i):n,l=ws({get:e,set:o});Object.defineProperty(s,u,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(a)for(const n in a)Ki(a[n],s,i,n);if(c){const t=m(c)?c.call(i):c;Reflect.ownKeys(t).forEach((e=>{hn(e,t[e])}))}function A(t,e){u(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(d&&Zi(d,t,"c"),A(Li,f),A(Ni,p),A(Ii,v),A(Ri,g),A(Ci,_),A(xi,y),A(Ui,O),A(Wi,x),A(Fi,M),A(Ai,S),A(zi,E),A(Di,T),u(P))if(P.length){const e=t.exposed||(t.exposed={});P.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});C&&t.render===n&&(t.render=C),null!=L&&(t.inheritAttrs=L),N&&(t.components=N),I&&(t.directives=I)}function Zi(t,e,i){Le(u(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function Ki(t,e,i,n){const s=n.includes(".")?bi(i,n):()=>i[n];if(v(t)){const i=e[t];m(i)&&mi(s,i)}else if(m(t))mi(s,t.bind(i));else if(b(t))if(u(t))t.forEach((t=>Ki(t,e,i,n)));else{const n=m(t.handler)?t.handler.bind(i):e[t.handler];m(n)&&mi(s,n,t)}}function Qi(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,l=o.get(e);let a;return l?a=l:s.length||i||n?(a={},s.length&&s.forEach((t=>qi(a,t,r,!0))),qi(a,e,r)):a=e,b(e)&&o.set(e,a),a}function qi(t,e,i,n=!1){const{mixins:s,extends:o}=e;o&&qi(t,o,i,!0),s&&s.forEach((e=>qi(t,e,i,!0)));for(const r in e)if(n&&"expose"===r);else{const n=Ji[r]||i&&i[r];t[r]=n?n(t[r],e[r]):e[r]}return t}const Ji={data:tn,props:on,emits:on,methods:sn,computed:sn,beforeCreate:nn,created:nn,beforeMount:nn,mounted:nn,beforeUpdate:nn,updated:nn,beforeDestroy:nn,beforeUnmount:nn,destroyed:nn,unmounted:nn,activated:nn,deactivated:nn,errorCaptured:nn,serverPrefetch:nn,components:sn,directives:sn,watch:function(t,e){if(!t)return e;if(!e)return t;const i=l(Object.create(null),t);for(const n in e)i[n]=nn(t[n],e[n]);return i},provide:tn,inject:function(t,e){return sn(en(t),en(e))}};function tn(t,e){return e?t?function(){return l(m(t)?t.call(this,this):t,m(e)?e.call(this,this):e)}:e:t}function en(t){if(u(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function nn(t,e){return t?[...new Set([].concat(t,e))]:e}function sn(t,e){return t?l(Object.create(null),t,e):e}function on(t,e){return t?u(t)&&u(e)?[...new Set([...t,...e])]:l(Object.create(null),Yi(t),Yi(null!=e?e:{})):e}function rn(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ln=0;function an(t,e){return function(i,n=null){m(i)||(i=l({},i)),null==n||b(n)||(n=null);const s=rn(),o=new WeakSet;let r=!1;const a=s.app={_uid:ln++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:ks,get config(){return s.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&m(t.install)?(o.add(t),t.install(a,...e)):m(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(s.mixins.includes(t)||s.mixins.push(t),a),component:(t,e)=>e?(s.components[t]=e,a):s.components[t],directive:(t,e)=>e?(s.directives[t]=e,a):s.directives[t],mount(o,l,c){if(!r){const h=Qn(i,n);return h.appContext=s,!0===c?c="svg":!1===c&&(c=void 0),l&&e?e(h,o):t(h,o,c),r=!0,a._container=o,o.__vue_app__=a,_s(h.component)||h.component.proxy}},unmount(){r&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(s.provides[t]=e,a),runWithContext(t){const e=cn;cn=a;try{return t()}finally{cn=e}}};return a}}let cn=null;function hn(t,e){if(as){let i=as.provides;const n=as.parent&&as.parent.provides;n===i&&(i=as.provides=Object.create(n)),i[t]=e}else;}function un(t,e,i=!1){const n=as||Je;if(n||cn){const s=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:cn._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&m(e)?e.call(n&&n.proxy):e}}function dn(t,i,n,s){const[o,r]=t.propsOptions;let l,a=!1;if(i)for(let e in i){if(C(e))continue;const c=i[e];let u;o&&h(o,u=O(e))?r&&r.includes(u)?(l||(l={}))[u]=c:n[u]=c:qe(t.emitsOptions,e)||e in s&&c===s[e]||(s[e]=c,a=!0)}if(r){const i=fe(n),s=l||e;for(let e=0;e<r.length;e++){const l=r[e];n[l]=fn(o,i,l,s[l],t,!h(s,l))}}return a}function fn(t,e,i,n,s,o){const r=t[i];if(null!=r){const t=h(r,"default");if(t&&void 0===n){const t=r.default;if(r.type!==Function&&!r.skipFactory&&m(t)){const{propsDefaults:o}=s;if(i in o)n=o[i];else{const r=ds(s);n=o[i]=t.call(null,e),r()}}else n=t}r[0]&&(o&&!t?n=!1:!r[1]||""!==n&&n!==P(i)||(n=!0))}return n}function pn(t,n,s=!1){const o=n.propsCache,r=o.get(t);if(r)return r;const a=t.props,c={},d=[];let f=!1;if(!m(t)){const e=t=>{f=!0;const[e,i]=pn(t,n,!0);l(c,e),i&&d.push(...i)};!s&&n.mixins.length&&n.mixins.forEach(e),t.extends&&e(t.extends),t.mixins&&t.mixins.forEach(e)}if(!a&&!f)return b(t)&&o.set(t,i),i;if(u(a))for(let i=0;i<a.length;i++){const t=O(a[i]);mn(t)&&(c[t]=e)}else if(a)for(const e in a){const t=O(e);if(mn(t)){const i=a[e],n=c[t]=u(i)||m(i)?{type:i}:l({},i);if(n){const e=bn(Boolean,n.type),i=bn(String,n.type);n[0]=e>-1,n[1]=i<0||e<i,(e>-1||h(n,"default"))&&d.push(t)}}}const p=[c,d];return b(t)&&o.set(t,p),p}function mn(t){return"$"!==t[0]&&!C(t)}function vn(t){if(null===t)return"null";if("function"==typeof t)return t.name||"";if("object"==typeof t){return t.constructor&&t.constructor.name||""}return""}function gn(t,e){return vn(t)===vn(e)}function bn(t,e){return u(e)?e.findIndex((e=>gn(e,t))):m(e)&&gn(e,t)?0:-1}const _n=t=>"_"===t[0]||"$stable"===t,yn=t=>u(t)?t.map(is):[is(t)],wn=(t,e,i)=>{if(e._n)return e;const n=function(t,e=Je,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&Vn(-1);const s=ei(e);let o;try{o=t(...i)}finally{ei(s),n._d&&Vn(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}(((...t)=>yn(e(...t))),i);return n._c=!1,n},Sn=(t,e,i)=>{const n=t._ctx;for(const s in t){if(_n(s))continue;const i=t[s];if(m(i))e[s]=wn(0,i,n);else if(null!=i){const t=yn(i);e[s]=()=>t}}},kn=(t,e)=>{const i=yn(e);t.slots.default=()=>i},En=(t,e)=>{if(32&t.vnode.shapeFlag){const i=e._;i?(t.slots=fe(e),A(e,"_",i)):Sn(e,t.slots={})}else t.slots={},e&&kn(t,e);A(t.slots,Gn,1)},Cn=(t,i,n)=>{const{vnode:s,slots:o}=t;let r=!0,a=e;if(32&s.shapeFlag){const t=i._;t?n&&1===t?r=!1:(l(o,i),n||1!==t||delete o._):(r=!i.$stable,Sn(i,o)),a=i}else i&&(kn(t,i),a={default:1});if(r)for(const e in o)_n(e)||null!=a[e]||delete o[e]};function xn(t,i,n,s,o=!1){if(u(t))return void t.forEach(((t,e)=>xn(t,i&&(u(i)?i[e]:i),n,s,o)));if(ki(s)&&!o)return;const r=4&s.shapeFlag?_s(s.component)||s.component.proxy:s.el,l=o?null:r,{i:c,r:d}=t,f=i&&i.r,p=c.refs===e?c.refs={}:c.refs,g=c.setupState;if(null!=f&&f!==d&&(v(f)?(p[f]=null,h(g,f)&&(g[f]=null)):ye(f)&&(f.value=null)),m(d))Pe(d,c,12,[l,p]);else{const e=v(d),i=ye(d);if(e||i){const s=()=>{if(t.f){const i=e?h(g,d)?g[d]:p[d]:d.value;o?u(i)&&a(i,r):u(i)?i.includes(r)||i.push(r):e?(p[d]=[r],h(g,d)&&(g[d]=p[d])):(d.value=[r],t.k&&(p[t.k]=d.value))}else e?(p[d]=l,h(g,d)&&(g[d]=l)):i&&(d.value=l,t.k&&(p[t.k]=l))};l?(s.id=-1,Mn(s,n)):s()}}}const Mn=function(t,e){var i;e&&e.pendingBranch?u(t)?e.effects.push(...t):e.effects.push(t):(u(i=t)?De.push(...i):Fe&&Fe.includes(i,i.allowRecurse?We+1:We)||De.push(i),je())};function On(t){return function(t,s){F().__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:a,createText:c,createComment:u,setText:d,setElementText:f,parentNode:p,nextSibling:m,setScopeId:v=n,insertStaticContent:g}=t,b=(t,e,i,n=null,s=null,o=null,r=void 0,l=null,a=!!e.dynamicChildren)=>{if(t===e)return;t&&!Yn(t,e)&&(n=J(t),X(t,s,o,!0),t=null),-2===e.patchFlag&&(a=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:u}=e;switch(c){case Rn:y(t,e,i,n);break;case An:w(t,e,i,n);break;case zn:null==t&&S(e,i,n,r);break;case In:D(t,e,i,n,s,o,r,l,a);break;default:1&u?x(t,e,i,n,s,o,r,l,a):6&u?W(t,e,i,n,s,o,r,l,a):(64&u||128&u)&&c.process(t,e,i,n,s,o,r,l,a,st)}null!=h&&s&&xn(h,t&&t.ref,o,e||t,!e)},y=(t,e,i,n)=>{if(null==t)o(e.el=c(e.children),i,n);else{const i=e.el=t.el;e.children!==t.children&&d(i,e.children)}},w=(t,e,i,n)=>{null==t?o(e.el=u(e.children||""),i,n):e.el=t.el},S=(t,e,i,n)=>{[t.el,t.anchor]=g(t.children,e,i,n,t.el,t.anchor)},k=({el:t,anchor:e},i,n)=>{let s;for(;t&&t!==e;)s=m(t),o(t,i,n),t=s;o(e,i,n)},E=({el:t,anchor:e})=>{let i;for(;t&&t!==e;)i=m(t),r(t),t=i;r(e)},x=(t,e,i,n,s,o,r,l,a)=>{"svg"===e.type?r="svg":"math"===e.type&&(r="mathml"),null==t?M(e,i,n,s,o,r,l,a):N(t,e,s,o,r,l,a)},M=(t,e,i,n,s,r,c,h)=>{let u,d;const{props:p,shapeFlag:m,transition:v,dirs:g}=t;if(u=t.el=a(t.type,r,p&&p.is,p),8&m?f(u,t.children):16&m&&L(t.children,u,null,n,s,Tn(t,r),c,h),g&&wi(t,null,n,"created"),T(u,t,t.scopeId,c,n),p){for(const e in p)"value"===e||C(e)||l(u,e,null,p[e],r,t.children,n,s,q);"value"in p&&l(u,"value",null,p.value,r),(d=p.onVnodeBeforeMount)&&os(d,n,t)}g&&wi(t,null,n,"beforeMount");const b=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(s,v);b&&v.beforeEnter(u),o(u,e,i),((d=p&&p.onVnodeMounted)||b||g)&&Mn((()=>{d&&os(d,n,t),b&&v.enter(u),g&&wi(t,null,n,"mounted")}),s)},T=(t,e,i,n,s)=>{if(i&&v(t,i),n)for(let o=0;o<n.length;o++)v(t,n[o]);if(s){if(e===s.subTree){const e=s.vnode;T(t,e,e.scopeId,e.slotScopeIds,s.parent)}}},L=(t,e,i,n,s,o,r,l,a=0)=>{for(let c=a;c<t.length;c++){const a=t[c]=l?ns(t[c]):is(t[c]);b(null,a,e,i,n,s,o,r,l)}},N=(t,i,n,s,o,r,a)=>{const c=i.el=t.el;let{patchFlag:h,dynamicChildren:u,dirs:d}=i;h|=16&t.patchFlag;const p=t.props||e,m=i.props||e;let v;if(n&&Pn(n,!1),(v=m.onVnodeBeforeUpdate)&&os(v,n,i,t),d&&wi(i,t,n,"beforeUpdate"),n&&Pn(n,!0),u?I(t.dynamicChildren,u,c,n,s,Tn(i,o),r):a||j(t,i,c,null,n,s,Tn(i,o),r,!1),h>0){if(16&h)z(c,i,p,m,n,s,o);else if(2&h&&p.class!==m.class&&l(c,"class",null,m.class,o),4&h&&l(c,"style",p.style,m.style,o),8&h){const e=i.dynamicProps;for(let i=0;i<e.length;i++){const r=e[i],a=p[r],h=m[r];h===a&&"value"!==r||l(c,r,a,h,o,t.children,n,s,q)}}1&h&&t.children!==i.children&&f(c,i.children)}else a||null!=u||z(c,i,p,m,n,s,o);((v=m.onVnodeUpdated)||d)&&Mn((()=>{v&&os(v,n,i,t),d&&wi(i,t,n,"updated")}),s)},I=(t,e,i,n,s,o,r)=>{for(let l=0;l<e.length;l++){const a=t[l],c=e[l],h=a.el&&(a.type===In||!Yn(a,c)||70&a.shapeFlag)?p(a.el):i;b(a,c,h,null,n,s,o,r,!0)}},z=(t,i,n,s,o,r,a)=>{if(n!==s){if(n!==e)for(const e in n)C(e)||e in s||l(t,e,n[e],null,a,i.children,o,r,q);for(const e in s){if(C(e))continue;const c=s[e],h=n[e];c!==h&&"value"!==e&&l(t,e,h,c,a,i.children,o,r,q)}"value"in s&&l(t,"value",n.value,s.value,a)}},D=(t,e,i,n,s,r,l,a,h)=>{const u=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(a=a?a.concat(m):m),null==t?(o(u,i,n),o(d,i,n),L(e.children||[],i,d,s,r,l,a,h)):f>0&&64&f&&p&&t.dynamicChildren?(I(t.dynamicChildren,p,i,s,r,l,a),(null!=e.key||s&&e===s.subTree)&&Ln(t,e,!0)):j(t,e,i,d,s,r,l,a,h)},W=(t,e,i,n,s,o,r,l,a)=>{e.slotScopeIds=l,null==t?512&e.shapeFlag?s.ctx.activate(e,i,n,r,a):U(e,i,n,s,o,r,a):V(t,e,a)},U=(t,i,n,s,o,r,l)=>{const a=t.component=function(t,i,n){const s=t.type,o=(i?i.appContext:t.appContext)||rs,r={uid:ls++,vnode:t,type:s,parent:i,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new tt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pn(s,o),emitsOptions:Qe(s,o),emit:null,emitted:null,propsDefaults:e,inheritAttrs:s.inheritAttrs,ctx:e,data:e,props:e,attrs:e,slots:e,refs:e,setupState:e,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};r.ctx={_:r},r.root=i?i.root:r,r.emit=Ke.bind(null,r),t.ce&&t.ce(r);return r}(t,s,o);if(Ei(t)&&(a.ctx.renderer=st),function(t,e=!1){e&&us(e);const{props:i,children:n}=t.vnode,s=ps(t);(function(t,e,i,n=!1){const s={},o={};A(o,Gn,1),t.propsDefaults=Object.create(null),dn(t,e,s,o);for(const r in t.propsOptions[0])r in s||(s[r]=void 0);i?t.props=n?s:re(s):t.type.props?t.props=s:t.props=o,t.attrs=o})(t,i,s,e),En(t,n);const o=s?function(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=pe(new Proxy(t.ctx,Hi));const{setup:n}=i;if(n){const i=t.setupContext=n.length>1?function(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return function(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get:(e,i)=>(wt(t,0,"$attrs"),e[i])}))}(t)},slots:t.slots,emit:t.emit,expose:e}}(t):null,s=ds(t);ht();const o=Pe(n,t,0,[t.props,i]);if(ut(),s(),_(o)){if(o.then(fs,fs),e)return o.then((i=>{gs(t,i,e)})).catch((e=>{Ne(e,t,0)}));t.asyncDep=o}else gs(t,o,e)}else bs(t,e)}(t,e):void 0;e&&us(!1)}(a),a.asyncDep){if(o&&o.registerDep(a,$),!t.el){const t=a.subTree=Qn(An);w(null,t,i,n)}}else $(a,t,i,n,o,r,l)},V=(t,e,i)=>{const n=e.component=t.component;if(function(t,e,i){const{props:n,children:s,component:o}=t,{props:r,children:l,patchFlag:a}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&a>=0))return!(!s&&!l||l&&l.$stable)||n!==r&&(n?!r||li(n,r,c):!!r);if(1024&a)return!0;if(16&a)return n?li(n,r,c):!!r;if(8&a){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(r[i]!==n[i]&&!qe(c,i))return!0}}return!1}(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void B(n,e,i);n.next=e,function(t){const e=Ae.indexOf(t);e>ze&&Ae.splice(e,1)}(n.update),n.effect.dirty=!0,n.update()}else e.el=t.el,n.vnode=e},$=(t,e,i,s,o,r,l)=>{const a=()=>{if(t.isMounted){let{next:e,bu:i,u:n,parent:s,vnode:c}=t;{const i=Nn(t);if(i)return e&&(e.el=c.el,B(t,e,l)),void i.asyncDep.then((()=>{t.isUnmounted||a()}))}let h,u=e;Pn(t,!1),e?(e.el=c.el,B(t,e,l)):e=c,i&&R(i),(h=e.props&&e.props.onVnodeBeforeUpdate)&&os(h,s,e,c),Pn(t,!0);const d=si(t),f=t.subTree;t.subTree=d,b(f,d,p(f.el),J(f),t,o,r),e.el=d.el,null===u&&function({vnode:t,parent:e},i){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n!==t)break;(t=e.vnode).el=i,e=e.parent}}(t,d.el),n&&Mn(n,o),(h=e.props&&e.props.onVnodeUpdated)&&Mn((()=>os(h,s,e,c)),o)}else{let n;const{el:l,props:a}=e,{bm:c,m:h,parent:u}=t,d=ki(e);if(Pn(t,!1),c&&R(c),!d&&(n=a&&a.onVnodeBeforeMount)&&os(n,u,e),Pn(t,!0),l&&rt){const i=()=>{t.subTree=si(t),rt(l,t.subTree,t,o,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&i())):i()}else{const n=t.subTree=si(t);b(null,n,i,s,t,o,r),e.el=n.el}if(h&&Mn(h,o),!d&&(n=a&&a.onVnodeMounted)){const t=e;Mn((()=>os(n,u,t)),o)}(256&e.shapeFlag||u&&ki(u.vnode)&&256&u.vnode.shapeFlag)&&t.a&&Mn(t.a,o),t.isMounted=!0,e=i=s=null}},c=t.effect=new nt(a,n,(()=>Be(h)),t.scope),h=t.update=()=>{c.dirty&&c.run()};h.id=t.uid,Pn(t,!0),h()},B=(t,e,i)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,function(t,e,i,n){const{props:s,attrs:o,vnode:{patchFlag:r}}=t,l=fe(s),[a]=t.propsOptions;let c=!1;if(!(n||r>0)||16&r){let n;dn(t,e,s,o)&&(c=!0);for(const o in l)e&&(h(e,o)||(n=P(o))!==o&&h(e,n))||(a?!i||void 0===i[o]&&void 0===i[n]||(s[o]=fn(a,l,o,void 0,t,!0)):delete s[o]);if(o!==l)for(const t in o)e&&h(e,t)||(delete o[t],c=!0)}else if(8&r){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let r=i[n];if(qe(t.emitsOptions,r))continue;const u=e[r];if(a)if(h(o,r))u!==o[r]&&(o[r]=u,c=!0);else{const e=O(r);s[e]=fn(a,l,e,u,t,!1)}else u!==o[r]&&(o[r]=u,c=!0)}}c&&St(t,"set","$attrs")}(t,e.props,n,i),Cn(t,e.children,i),ht(),He(t),ut()},j=(t,e,i,n,s,o,r,l,a=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,u=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void Y(c,u,i,n,s,o,r,l,a);if(256&d)return void H(c,u,i,n,s,o,r,l,a)}8&p?(16&h&&q(c,s,o),u!==c&&f(i,u)):16&h?16&p?Y(c,u,i,n,s,o,r,l,a):q(c,s,o,!0):(8&h&&f(i,""),16&p&&L(u,i,n,s,o,r,l,a))},H=(t,e,n,s,o,r,l,a,c)=>{e=e||i;const h=(t=t||i).length,u=e.length,d=Math.min(h,u);let f;for(f=0;f<d;f++){const i=e[f]=c?ns(e[f]):is(e[f]);b(t[f],i,n,null,o,r,l,a,c)}h>u?q(t,o,r,!0,!1,d):L(e,n,s,o,r,l,a,c,d)},Y=(t,e,n,s,o,r,l,a,c)=>{let h=0;const u=e.length;let d=t.length-1,f=u-1;for(;h<=d&&h<=f;){const i=t[h],s=e[h]=c?ns(e[h]):is(e[h]);if(!Yn(i,s))break;b(i,s,n,null,o,r,l,a,c),h++}for(;h<=d&&h<=f;){const i=t[d],s=e[f]=c?ns(e[f]):is(e[f]);if(!Yn(i,s))break;b(i,s,n,null,o,r,l,a,c),d--,f--}if(h>d){if(h<=f){const t=f+1,i=t<u?e[t].el:s;for(;h<=f;)b(null,e[h]=c?ns(e[h]):is(e[h]),n,i,o,r,l,a,c),h++}}else if(h>f)for(;h<=d;)X(t[h],o,r,!0),h++;else{const p=h,m=h,v=new Map;for(h=m;h<=f;h++){const t=e[h]=c?ns(e[h]):is(e[h]);null!=t.key&&v.set(t.key,h)}let g,_=0;const y=f-m+1;let w=!1,S=0;const k=new Array(y);for(h=0;h<y;h++)k[h]=0;for(h=p;h<=d;h++){const i=t[h];if(_>=y){X(i,o,r,!0);continue}let s;if(null!=i.key)s=v.get(i.key);else for(g=m;g<=f;g++)if(0===k[g-m]&&Yn(i,e[g])){s=g;break}void 0===s?X(i,o,r,!0):(k[s-m]=h+1,s>=S?S=s:w=!0,b(i,e[s],n,null,o,r,l,a,c),_++)}const E=w?function(t){const e=t.slice(),i=[0];let n,s,o,r,l;const a=t.length;for(n=0;n<a;n++){const a=t[n];if(0!==a){if(s=i[i.length-1],t[s]<a){e[n]=s,i.push(n);continue}for(o=0,r=i.length-1;o<r;)l=o+r>>1,t[i[l]]<a?o=l+1:r=l;a<t[i[o]]&&(o>0&&(e[n]=i[o-1]),i[o]=n)}}o=i.length,r=i[o-1];for(;o-- >0;)i[o]=r,r=e[r];return i}(k):i;for(g=E.length-1,h=y-1;h>=0;h--){const t=m+h,i=e[t],d=t+1<u?e[t+1].el:s;0===k[h]?b(null,i,n,d,o,r,l,a,c):w&&(g<0||h!==E[g]?G(i,n,d,2):g--)}}},G=(t,e,i,n,s=null)=>{const{el:r,type:l,transition:a,children:c,shapeFlag:h}=t;if(6&h)return void G(t.component.subTree,e,i,n);if(128&h)return void t.suspense.move(e,i,n);if(64&h)return void l.move(t,e,i,st);if(l===In){o(r,e,i);for(let t=0;t<c.length;t++)G(c[t],e,i,n);return void o(t.anchor,e,i)}if(l===zn)return void k(t,e,i);if(2!==n&&1&h&&a)if(0===n)a.beforeEnter(r),o(r,e,i),Mn((()=>a.enter(r)),s);else{const{leave:t,delayLeave:n,afterLeave:s}=a,l=()=>o(r,e,i),c=()=>{t(r,(()=>{l(),s&&s()}))};n?n(r,l,c):c()}else o(r,e,i)},X=(t,e,i,n=!1,s=!1)=>{const{type:o,props:r,ref:l,children:a,dynamicChildren:c,shapeFlag:h,patchFlag:u,dirs:d}=t;if(null!=l&&xn(l,null,i,t,!0),256&h)return void e.ctx.deactivate(t);const f=1&h&&d,p=!ki(t);let m;if(p&&(m=r&&r.onVnodeBeforeUnmount)&&os(m,e,t),6&h)Q(t.component,i,n);else{if(128&h)return void t.suspense.unmount(i,n);f&&wi(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,i,s,st,n):c&&(o!==In||u>0&&64&u)?q(c,e,i,!1,!0):(o===In&&384&u||!s&&16&h)&&q(a,e,i),n&&Z(t)}(p&&(m=r&&r.onVnodeUnmounted)||f)&&Mn((()=>{m&&os(m,e,t),f&&wi(t,null,e,"unmounted")}),i)},Z=t=>{const{type:e,el:i,anchor:n,transition:s}=t;if(e===In)return void K(i,n);if(e===zn)return void E(t);const o=()=>{r(i),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:n}=s,r=()=>e(i,o);n?n(t.el,o,r):r()}else o()},K=(t,e)=>{let i;for(;t!==e;)i=m(t),r(t),t=i;r(e)},Q=(t,e,i)=>{const{bum:n,scope:s,update:o,subTree:r,um:l}=t;n&&R(n),s.stop(),o&&(o.active=!1,X(r,t,e,i)),l&&Mn(l,e),Mn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},q=(t,e,i,n=!1,s=!1,o=0)=>{for(let r=o;r<t.length;r++)X(t[r],e,i,n,s)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():m(t.anchor||t.el);let et=!1;const it=(t,e,i)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,i),et||(et=!0,He(),Ye(),et=!1),e._vnode=t},st={p:b,um:X,m:G,r:Z,mt:U,mc:L,pc:j,pbc:I,n:J,o:t};let ot,rt;s&&([ot,rt]=s(st));return{render:it,hydrate:ot,createApp:an(it,ot)}}(t)}function Tn({type:t,props:e},i){return"svg"===i&&"foreignObject"===t||"mathml"===i&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Pn({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function Ln(t,e,i=!1){const n=t.children,s=e.children;if(u(n)&&u(s))for(let o=0;o<n.length;o++){const t=n[o];let e=s[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[o]=ns(s[o]),e.el=t.el),i||Ln(t,e)),e.type===Rn&&(e.el=t.el)}}function Nn(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Nn(e)}const In=Symbol.for("v-fgt"),Rn=Symbol.for("v-txt"),An=Symbol.for("v-cmt"),zn=Symbol.for("v-stc"),Dn=[];let Fn=null;function Wn(t=!1){Dn.push(Fn=t?null:[])}let Un=1;function Vn(t){Un+=t}function $n(t){return t.dynamicChildren=Un>0?Fn||i:null,Dn.pop(),Fn=Dn[Dn.length-1]||null,Un>0&&Fn&&Fn.push(t),t}function Bn(t,e,i,n,s,o){return $n(Kn(t,e,i,n,s,o,!0))}function jn(t,e,i,n,s){return $n(Qn(t,e,i,n,s,!0))}function Hn(t){return!!t&&!0===t.__v_isVNode}function Yn(t,e){return t.type===e.type&&t.key===e.key}const Gn="__vInternal",Xn=({key:t})=>null!=t?t:null,Zn=({ref:t,ref_key:e,ref_for:i})=>("number"==typeof t&&(t=""+t),null!=t?v(t)||ye(t)||m(t)?{i:Je,r:t,k:e,f:!!i}:t:null);function Kn(t,e=null,i=null,n=0,s=null,o=(t===In?0:1),r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Xn(e),ref:e&&Zn(e),scopeId:ti,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Je};return l?(ss(a,i),128&o&&t.normalize(a)):i&&(a.shapeFlag|=v(i)?8:16),Un>0&&!r&&Fn&&(a.patchFlag>0||6&o)&&32!==a.patchFlag&&Fn.push(a),a}const Qn=function(t,e=null,i=null,n=0,s=null,o=!1){t&&t!==ci||(t=An);if(Hn(t)){const n=qn(t,e,!0);return i&&ss(n,i),Un>0&&!o&&Fn&&(6&n.shapeFlag?Fn[Fn.indexOf(t)]=n:Fn.push(n)),n.patchFlag|=-2,n}r=t,m(r)&&"__vccOpts"in r&&(t=t.__vccOpts);var r;if(e){e=function(t){return t?de(t)||Gn in t?l({},t):t:null}(e);let{class:t,style:i}=e;t&&!v(t)&&(e.class=j(t)),b(i)&&(de(i)&&!u(i)&&(i=l({},i)),e.style=W(i))}const a=v(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:b(t)?4:m(t)?2:0;return Kn(t,e,i,n,s,a,o,!0)};function qn(t,e,i=!1){const{props:n,ref:s,patchFlag:r,children:l}=t,a=e?function(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=j([e.class,n.class]));else if("style"===t)e.style=W([e.style,n.style]);else if(o(t)){const i=e[t],s=n[t];!s||i===s||u(i)&&i.includes(s)||(e[t]=i?[].concat(i,s):s)}else""!==t&&(e[t]=n[t])}return e}(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Xn(a),ref:e&&e.ref?i&&s?u(s)?s.concat(Zn(e)):[s,Zn(e)]:Zn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==In?-1===r?16:16|r:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qn(t.ssContent),ssFallback:t.ssFallback&&qn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Jn(t=" ",e=0){return Qn(Rn,null,t,e)}function ts(t,e){const i=Qn(zn,null,t);return i.staticCount=e,i}function es(t="",e=!1){return e?(Wn(),jn(An,null,t)):Qn(An,null,t)}function is(t){return null==t||"boolean"==typeof t?Qn(An):u(t)?Qn(In,null,t.slice()):"object"==typeof t?ns(t):Qn(Rn,null,String(t))}function ns(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:qn(t)}function ss(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if(u(e))i=16;else if("object"==typeof e){if(65&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),ss(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||Gn in e?3===n&&Je&&(1===Je.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Je}}else m(e)?(e={default:e,_ctx:Je},i=32):(e=String(e),64&n?(i=16,e=[Jn(e)]):i=8);t.children=e,t.shapeFlag|=i}function os(t,e,i,n=null){Le(t,e,7,[i,n])}const rs=rn();let ls=0;let as=null;const cs=()=>as||Je;let hs,us;{const t=F(),e=(e,i)=>{let n;return(n=t[e])||(n=t[e]=[]),n.push(i),t=>{n.length>1?n.forEach((e=>e(t))):n[0](t)}};hs=e("__VUE_INSTANCE_SETTERS__",(t=>as=t)),us=e("__VUE_SSR_SETTERS__",(t=>vs=t))}const ds=t=>{const e=as;return hs(t),t.scope.on(),()=>{t.scope.off(),hs(e)}},fs=()=>{as&&as.scope.off(),hs(null)};function ps(t){return 4&t.vnode.shapeFlag}let ms,vs=!1;function gs(t,e,i){m(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:b(e)&&(t.setupState=Me(e)),bs(t,i)}function bs(t,e,i){const s=t.type;if(!t.render){if(!e&&ms&&!s.render){const e=s.template||Qi(t).template;if(e){const{isCustomElement:i,compilerOptions:n}=t.appContext.config,{delimiters:o,compilerOptions:r}=s,a=l(l({isCustomElement:i,delimiters:o},n),r);s.render=ms(e,a)}}t.render=s.render||n}{const e=ds(t);ht();try{Xi(t)}finally{ut(),e()}}}function _s(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Me(pe(t.exposed)),{get:(e,i)=>i in e?e[i]:i in Bi?Bi[i](t):void 0,has:(t,e)=>e in t||e in Bi}))}function ys(t,e=!0){return m(t)?t.displayName||t.name:t.name||e&&t.__name}const ws=(t,e)=>{const i=function(t,e,i=!1){let s,o;const r=m(t);return r?(s=t,o=n):(s=t.get,o=t.set),new ge(s,o,r||!o,i)}(t,0,vs);return i};function Ss(t,e,i){const n=arguments.length;return 2===n?b(e)&&!u(e)?Hn(e)?Qn(t,null,[e]):Qn(t,e):Qn(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&Hn(i)&&(i=[i]),Qn(t,e,i))}const ks="3.4.21",Es="undefined"!=typeof document?document:null,Cs=Es&&Es.createElement("template"),xs={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const s="svg"===e?Es.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?Es.createElementNS("http://www.w3.org/1998/Math/MathML",t):Es.createElement(t,i?{is:i}:void 0);return"select"===t&&n&&null!=n.multiple&&s.setAttribute("multiple",n.multiple),s},createText:t=>Es.createTextNode(t),createComment:t=>Es.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Es.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,s,o){const r=i?i.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),i),s!==o&&(s=s.nextSibling););else{Cs.innerHTML="svg"===n?`<svg>${t}</svg>`:"mathml"===n?`<math>${t}</math>`:t;const s=Cs.content;if("svg"===n||"mathml"===n){const t=s.firstChild;for(;t.firstChild;)s.appendChild(t.firstChild);s.removeChild(t)}e.insertBefore(s,i)}return[r?r.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},Ms=Symbol("_vtc");
/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Os=Symbol("_vod"),Ts=Symbol("_vsh"),Ps={beforeMount(t,{value:e},{transition:i}){t[Os]="none"===t.style.display?"":t.style.display,i&&e?i.beforeEnter(t):Ls(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!=!i&&(n?e?(n.beforeEnter(t),Ls(t,!0),n.enter(t)):n.leave(t,(()=>{Ls(t,!1)})):Ls(t,e))},beforeUnmount(t,{value:e}){Ls(t,e)}};function Ls(t,e){t.style.display=e?t[Os]:"none",t[Ts]=!e}const Ns=Symbol(""),Is=/(^|;)\s*display\s*:/;const Rs=/\s*!important$/;function As(t,e,i){if(u(i))i.forEach((i=>As(t,e,i)));else if(null==i&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=function(t,e){const i=Ds[e];if(i)return i;let n=O(e);if("filter"!==n&&n in t)return Ds[e]=n;n=L(n);for(let s=0;s<zs.length;s++){const i=zs[s]+n;if(i in t)return Ds[e]=i}return e}(t,e);Rs.test(i)?t.setProperty(P(n),i.replace(Rs,""),"important"):t[n]=i}}const zs=["Webkit","Moz","ms"],Ds={};const Fs="http://www.w3.org/1999/xlink";function Ws(t,e,i,n){t.addEventListener(e,i,n)}const Us=Symbol("_vei");function Vs(t,e,i,n,s=null){const o=t[Us]||(t[Us]={}),r=o[e];if(n&&r)r.value=n;else{const[i,l]=function(t){let e;if($s.test(t)){let i;for(e={};i=t.match($s);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}const i=":"===t[2]?t.slice(3):P(t.slice(2));return[i,e]}(e);if(n){const r=o[e]=function(t,e){const i=t=>{if(t._vts){if(t._vts<=i.attached)return}else t._vts=Date.now();Le(function(t,e){if(u(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,i.value),e,5,[t])};return i.value=t,i.attached=Hs(),i}(n,s);Ws(t,i,r,l)}else r&&(!function(t,e,i,n){t.removeEventListener(e,i,n)}(t,i,r,l),o[e]=void 0)}}const $s=/(?:Once|Passive|Capture)$/;let Bs=0;const js=Promise.resolve(),Hs=()=>Bs||(js.then((()=>Bs=0)),Bs=Date.now());const Ys=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;const Gs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return u(e)?t=>R(e,t):e};function Xs(t){t.target.composing=!0}function Zs(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ks=Symbol("_assign"),Qs={created(t,{modifiers:{lazy:e,trim:i,number:n}},s){t[Ks]=Gs(s);const o=n||s.props&&"number"===s.props.type;Ws(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;i&&(n=n.trim()),o&&(n=z(n)),t[Ks](n)})),i&&Ws(t,"change",(()=>{t.value=t.value.trim()})),e||(Ws(t,"compositionstart",Xs),Ws(t,"compositionend",Zs),Ws(t,"change",Zs))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:n,number:s}},o){if(t[Ks]=Gs(o),t.composing)return;const r=null==e?"":e;if((s||"number"===t.type?z(t.value):t.value)!==r){if(document.activeElement===t&&"range"!==t.type){if(i)return;if(n&&t.value.trim()===r)return}t.value=r}}},qs={deep:!0,created(t,e,i){t[Ks]=Gs(i),Ws(t,"change",(()=>{const e=t._modelValue,i=io(t),n=t.checked,s=t[Ks];if(u(e)){const t=X(e,i),o=-1!==t;if(n&&!o)s(e.concat(i));else if(!n&&o){const i=[...e];i.splice(t,1),s(i)}}else if(f(e)){const t=new Set(e);n?t.add(i):t.delete(i),s(t)}else s(no(t,n))}))},mounted:Js,beforeUpdate(t,e,i){t[Ks]=Gs(i),Js(t,e,i)}};function Js(t,{value:e,oldValue:i},n){t._modelValue=e,u(e)?t.checked=X(e,n.props.value)>-1:f(e)?t.checked=e.has(n.props.value):e!==i&&(t.checked=G(e,no(t,!0)))}const to={deep:!0,created(t,{value:e,modifiers:{number:i}},n){const s=f(e);Ws(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?z(io(t)):io(t)));t[Ks](t.multiple?s?new Set(e):e:e[0]),t._assigning=!0,$e((()=>{t._assigning=!1}))})),t[Ks]=Gs(n)},mounted(t,{value:e,modifiers:{number:i}}){eo(t,e,i)},beforeUpdate(t,e,i){t[Ks]=Gs(i)},updated(t,{value:e,modifiers:{number:i}}){t._assigning||eo(t,e,i)}};function eo(t,e,i){const n=t.multiple,s=u(e);if(!n||s||f(e)){for(let o=0,r=t.options.length;o<r;o++){const r=t.options[o],l=io(r);if(n)if(s){const t=typeof l;r.selected="string"===t||"number"===t?e.includes(i?z(l):l):X(e,l)>-1}else r.selected=e.has(l);else if(G(io(r),e))return void(t.selectedIndex!==o&&(t.selectedIndex=o))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function io(t){return"_value"in t?t._value:t.value}function no(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const so={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oo=(t,e)=>{const i=t._withKeys||(t._withKeys={}),n=e.join(".");return i[n]||(i[n]=i=>{if(!("key"in i))return;const n=P(i.key);return e.some((t=>t===n||so[t]===n))?t(i):void 0})},ro=l({patchProp:(t,e,i,n,s,l,a,c,h)=>{const u="svg"===s;"class"===e?function(t,e,i){const n=t[Ms];n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}(t,n,u):"style"===e?function(t,e,i){const n=t.style,s=v(i);let o=!1;if(i&&!s){if(e)if(v(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==i[e]&&As(n,e,"")}else for(const t in e)null==i[t]&&As(n,t,"");for(const t in i)"display"===t&&(o=!0),As(n,t,i[t])}else if(s){if(e!==i){const t=n[Ns];t&&(i+=";"+t),n.cssText=i,o=Is.test(i)}}else e&&t.removeAttribute("style");Os in t&&(t[Os]=o?n.display:"",t[Ts]&&(n.display="none"))}(t,i,n):o(e)?r(e)||Vs(t,e,0,n,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,i,n){if(n)return"innerHTML"===e||"textContent"===e||!!(e in t&&Ys(e)&&m(i));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}if(Ys(e)&&v(i))return!1;return e in t}(t,e,n,u))?function(t,e,i,n,s,o,r){if("innerHTML"===e||"textContent"===e)return n&&r(n,s,o),void(t[e]=null==i?"":i);const l=t.tagName;if("value"===e&&"PROGRESS"!==l&&!l.includes("-")){const n=null==i?"":i;return("OPTION"===l?t.getAttribute("value")||"":t.value)===n&&"_value"in t||(t.value=n),null==i&&t.removeAttribute(e),void(t._value=i)}let a=!1;if(""===i||null==i){const n=typeof t[e];"boolean"===n?i=Y(i):null==i&&"string"===n?(i="",a=!0):"number"===n&&(i=0,a=!0)}try{t[e]=i}catch(c){}a&&t.removeAttribute(e)}(t,e,n,l,a,c,h):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),function(t,e,i,n,s){if(n&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(Fs,e.slice(6,e.length)):t.setAttributeNS(Fs,e,i);else{const n=H(e);null==i||n&&!Y(i)?t.removeAttribute(e):t.setAttribute(e,n?"":i)}}(t,e,n,u))}},xs);let lo;
/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */
let ao;const co=t=>ao=t,ho=Symbol();function uo(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var fo,po;(po=fo||(fo={})).direct="direct",po.patchObject="patch object",po.patchFunction="patch function";const mo=()=>{};function vo(t,e,i,n=mo){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};var o;return!i&&it()&&(o=s,q&&q.cleanups.push(o)),s}function go(t,...e){t.slice().forEach((t=>{t(...e)}))}const bo=t=>t();function _o(t,e){t instanceof Map&&e instanceof Map&&e.forEach(((e,i)=>t.set(i,e))),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const i in e){if(!e.hasOwnProperty(i))continue;const n=e[i],s=t[i];uo(s)&&uo(n)&&t.hasOwnProperty(i)&&!ye(n)&&!ce(n)?t[i]=_o(s,n):t[i]=n}return t}const yo=Symbol();const{assign:wo}=Object;function So(t,e,i,n){const{state:s,actions:o,getters:r}=e,l=i.state.value[t];let a;return a=ko(t,(function(){l||(i.state.value[t]=s?s():{});const e=function(t){const e=u(t)?new Array(t.length):{};for(const i in t)e[i]=Te(t,i);return e}(i.state.value[t]);return wo(e,o,Object.keys(r||{}).reduce(((e,n)=>(e[n]=pe(ws((()=>{co(i);const e=i._s.get(t);return r[n].call(e,e)}))),e)),{}))}),e,i,n,!0),a}function ko(t,e,i={},n,s,o){let r;const l=wo({actions:{}},i),a={deep:!0};let c,h,u,d=[],f=[];const p=n.state.value[t];let m;function v(e){let i;c=h=!1,"function"==typeof e?(e(n.state.value[t]),i={type:fo.patchFunction,storeId:t,events:u}):(_o(n.state.value[t],e),i={type:fo.patchObject,payload:e,storeId:t,events:u});const s=m=Symbol();$e().then((()=>{m===s&&(c=!0)})),h=!0,go(d,i,n.state.value[t])}o||p||(n.state.value[t]={}),we({});const g=o?function(){const{state:t}=i,e=t?t():{};this.$patch((t=>{wo(t,e)}))}:mo;function b(e,i){return function(){co(n);const s=Array.from(arguments),o=[],r=[];let l;go(f,{args:s,name:e,store:_,after:function(t){o.push(t)},onError:function(t){r.push(t)}});try{l=i.apply(this&&this.$id===t?this:_,s)}catch(a){throw go(r,a),a}return l instanceof Promise?l.then((t=>(go(o,t),t))).catch((t=>(go(r,t),Promise.reject(t)))):(go(o,l),l)}}const _=oe({_p:n,$id:t,$onAction:vo.bind(null,f),$patch:v,$reset:g,$subscribe(e,i={}){const s=vo(d,e,i.detached,(()=>o())),o=r.run((()=>mi((()=>n.state.value[t]),(n=>{("sync"===i.flush?h:c)&&e({storeId:t,type:fo.direct,events:u},n)}),wo({},a,i))));return s},$dispose:function(){r.stop(),d=[],f=[],n._s.delete(t)}});n._s.set(t,_);const y=(n._a&&n._a.runWithContext||bo)((()=>n._e.run((()=>(r=et()).run(e)))));for(const k in y){const e=y[k];if(ye(e)&&(!ye(S=e)||!S.effect)||ce(e))o||(!p||uo(w=e)&&w.hasOwnProperty(yo)||(ye(e)?e.value=p[k]:_o(e,p[k])),n.state.value[t][k]=e);else if("function"==typeof e){const t=b(k,e);y[k]=t,l.actions[k]=e}}var w,S;return wo(_,y),wo(fe(_),y),Object.defineProperty(_,"$state",{get:()=>n.state.value[t],set:t=>{v((e=>{wo(e,t)}))}}),n._p.forEach((t=>{wo(_,r.run((()=>t({store:_,app:n._a,pinia:n,options:l}))))})),p&&o&&i.hydrate&&i.hydrate(_.$state,p),c=!0,h=!0,_}function Eo(t,e,i){let n,s;const o="function"==typeof e;function r(t,i){(t=t||(!!(as||Je||cn)?un(ho,null):null))&&co(t),(t=ao)._s.has(n)||(o?ko(n,e,s,t):So(n,s,t));return t._s.get(n)}return"string"==typeof t?(n=t,s=o?i:e):(s=t,n=t.id),r.$id=n,r}let Co={id:null,options:{accurateTrackBounce:!0,clickmap:!0,defer:!1,ecommerce:!1,params:[],userParams:{},trackHash:!1,trackLinks:!0,type:0,webvisor:!1,triggerEvent:!1},router:null,env:"development",scriptSrc:"https://mc.yandex.ru/metrika/tag.js",debug:!1,ignoreRoutes:[],skipSamePath:!0};class xo{constructor(){this.config=Co}addFileExtension(){this.config.debug}extLink(){this.config.debug}file(){this.config.debug}getClientID(){this.config.debug}hit(){this.config.debug}notBounce(){this.config.debug}params(){this.config.debug}reachGoal(){this.config.debug}replacePhones(){this.config.debug}setUserID(){this.config.debug}userParams(){this.config.debug}}function Mo(t,e){let i;try{const n=(null===window||void 0===window?void 0:window.Ya)&&window.Ya.Metrika;i=e.tryMetrika1&&n?new window.Ya.Metrika(t):new window.Ya.Metrika2(t)}catch(n){}return i||(i=new xo),function(t,e){window[`yaCounter${e.id}`]=t}(i,t),i}let Oo=new class{constructor(){this.metrika=null}setMetrika(t){this.metrika=t,this._setFunctions()}_setFunctions(){var t,e,i,n,s,o,r,l,a,c,h;const u=this.metrika;u&&(this.addFileExtension=null===(t=u.addFileExtension)||void 0===t?void 0:t.bind(u),this.extLink=null===(e=u.extLink)||void 0===e?void 0:e.bind(u),this.file=null===(i=u.file)||void 0===i?void 0:i.bind(u),this.getClientID=null===(n=u.getClientID)||void 0===n?void 0:n.bind(u),this.hit=null===(s=u.hit)||void 0===s?void 0:s.bind(u),this.notBounce=null===(o=u.notBounce)||void 0===o?void 0:o.bind(u),this.params=null===(r=u.params)||void 0===r?void 0:r.bind(u),this.reachGoal=null===(l=u.reachGoal)||void 0===l?void 0:l.bind(u),this.replacePhones=null===(a=u.replacePhones)||void 0===a?void 0:a.bind(u),this.setUserID=null===(c=u.setUserID)||void 0===c?void 0:c.bind(u),this.userParams=null===(h=u.userParams)||void 0===h?void 0:h.bind(u))}addFileExtension(t){throw new Error("Method not implemented.")}extLink(t,e){throw new Error("Method not implemented.")}file(t,e){throw new Error("Method not implemented.")}getClientID(t){throw new Error("Method not implemented.")}hit(t,e){throw new Error("Method not implemented.")}notBounce(t){throw new Error("Method not implemented.")}params(t){throw new Error("Method not implemented.")}reachGoal(t,e,i,n){throw new Error("Method not implemented.")}replacePhones(){throw new Error("Method not implemented.")}setUserID(t){throw new Error("Method not implemented.")}userParams(t){throw new Error("Method not implemented.")}},To=null;function Po(){const t=new xo;Oo.setMetrika(t)}
/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Lo="undefined"!=typeof document;const No=Object.assign;function Io(t,e){const i={};for(const n in e){const s=e[n];i[n]=Ao(s)?s.map(t):t(s)}return i}const Ro=()=>{},Ao=Array.isArray,zo=/#/g,Do=/&/g,Fo=/\//g,Wo=/=/g,Uo=/\?/g,Vo=/\+/g,$o=/%5B/g,Bo=/%5D/g,jo=/%5E/g,Ho=/%60/g,Yo=/%7B/g,Go=/%7C/g,Xo=/%7D/g,Zo=/%20/g;function Ko(t){return encodeURI(""+t).replace(Go,"|").replace($o,"[").replace(Bo,"]")}function Qo(t){return Ko(t).replace(Vo,"%2B").replace(Zo,"+").replace(zo,"%23").replace(Do,"%26").replace(Ho,"`").replace(Yo,"{").replace(Xo,"}").replace(jo,"^")}function qo(t){return null==t?"":function(t){return Ko(t).replace(zo,"%23").replace(Uo,"%3F")}(t).replace(Fo,"%2F")}function Jo(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const tr=/\/$/,er=t=>t.replace(tr,"");function ir(t,e,i="/"){let n,s={},o="",r="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(n=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),s=t(o)),l>-1&&(n=n||e.slice(0,l),r=e.slice(l,e.length)),n=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),n=t.split("/"),s=n[n.length-1];".."!==s&&"."!==s||n.push("");let o,r,l=i.length-1;for(o=0;o<n.length;o++)if(r=n[o],"."!==r){if(".."!==r)break;l>1&&l--}return i.slice(0,l).join("/")+"/"+n.slice(o).join("/")}(null!=n?n:e,i),{fullPath:n+(o&&"?")+o+r,path:n,query:s,hash:Jo(r)}}function nr(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function sr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function or(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!rr(t[i],e[i]))return!1;return!0}function rr(t,e){return Ao(t)?lr(t,e):Ao(e)?lr(e,t):t===e}function lr(t,e){return Ao(e)?t.length===e.length&&t.every(((t,i)=>t===e[i])):1===t.length&&t[0]===e}var ar,cr,hr,ur;(cr=ar||(ar={})).pop="pop",cr.push="push",(ur=hr||(hr={})).back="back",ur.forward="forward",ur.unknown="";const dr=/^[^#]+#/;function fr(t,e){return t.replace(dr,"#")+e}const pr=()=>({left:window.scrollX,top:window.scrollY});function mr(t){let e;if("el"in t){const i=t.el,n="string"==typeof i&&i.startsWith("#"),s="string"==typeof i?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!s)return;e=function(t,e){const i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function vr(t,e){return(history.state?history.state.position-e:-1)+t}const gr=new Map;let br=()=>location.protocol+"//"+location.host;function _r(t,e){const{pathname:i,search:n,hash:s}=e,o=t.indexOf("#");if(o>-1){let e=s.includes(t.slice(o))?t.slice(o).length:1,i=s.slice(e);return"/"!==i[0]&&(i="/"+i),nr(i,"")}return nr(i,t)+n+s}function yr(t,e,i,n=!1,s=!1){return{back:t,current:e,forward:i,replaced:n,position:window.history.length,scroll:s?pr():null}}function wr(t){return"string"==typeof t||"symbol"==typeof t}const Sr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kr=Symbol("");var Er,Cr;function xr(t,e){return No(new Error,{type:t,[kr]:!0},e)}function Mr(t,e){return t instanceof Error&&kr in t&&(null==e||!!(t.type&e))}(Cr=Er||(Er={}))[Cr.aborted=4]="aborted",Cr[Cr.cancelled=8]="cancelled",Cr[Cr.duplicated=16]="duplicated";const Or="[^/]+?",Tr={sensitive:!1,strict:!1,start:!0,end:!0},Pr=/[.+*?^${}()[\]/\\]/g;function Lr(t,e){let i=0;for(;i<t.length&&i<e.length;){const n=e[i]-t[i];if(n)return n;i++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Nr(t,e){let i=0;const n=t.score,s=e.score;for(;i<n.length&&i<s.length;){const t=Lr(n[i],s[i]);if(t)return t;i++}if(1===Math.abs(s.length-n.length)){if(Ir(n))return 1;if(Ir(s))return-1}return s.length-n.length}function Ir(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Rr={type:0,value:""},Ar=/[a-zA-Z0-9_]/;function zr(t,e,i){const n=function(t,e){const i=No({},Tr,e),n=[];let s=i.start?"^":"";const o=[];for(const a of t){const t=a.length?[]:[90];i.strict&&!a.length&&(s+="/");for(let e=0;e<a.length;e++){const n=a[e];let r=40+(i.sensitive?.25:0);if(0===n.type)e||(s+="/"),s+=n.value.replace(Pr,"\\$&"),r+=40;else if(1===n.type){const{value:t,repeatable:i,optional:c,regexp:h}=n;o.push({name:t,repeatable:i,optional:c});const u=h||Or;if(u!==Or){r+=10;try{new RegExp(`(${u})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+l.message)}}let d=i?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(d=c&&a.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),s+=d,r+=20,c&&(r+=-8),i&&(r+=-20),".*"===u&&(r+=-50)}t.push(r)}n.push(t)}if(i.strict&&i.end){const t=n.length-1;n[t][n[t].length-1]+=.7000000000000001}i.strict||(s+="/?"),i.end?s+="$":i.strict&&(s+="(?:/|$)");const r=new RegExp(s,i.sensitive?"":"i");return{re:r,score:n,keys:o,parse:function(t){const e=t.match(r),i={};if(!e)return null;for(let n=1;n<e.length;n++){const t=e[n]||"",s=o[n-1];i[s.name]=t&&s.repeatable?t.split("/"):t}return i},stringify:function(e){let i="",n=!1;for(const s of t){n&&i.endsWith("/")||(i+="/"),n=!1;for(const t of s)if(0===t.type)i+=t.value;else if(1===t.type){const{value:o,repeatable:r,optional:l}=t,a=o in e?e[o]:"";if(Ao(a)&&!r)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Ao(a)?a.join("/"):a;if(!c){if(!l)throw new Error(`Missing required param "${o}"`);s.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=c}}return i||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[Rr]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${i})/"${c}": ${t}`)}let i=0,n=i;const s=[];let o;function r(){o&&s.push(o),o=[]}let l,a=0,c="",h="";function u(){c&&(0===i?o.push({type:0,value:c}):1===i||2===i||3===i?(o.length>1&&("*"===l||"+"===l)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:h,repeatable:"*"===l||"+"===l,optional:"*"===l||"?"===l})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;)if(l=t[a++],"\\"!==l||2===i)switch(i){case 0:"/"===l?(c&&u(),r()):":"===l?(u(),i=1):d();break;case 4:d(),i=n;break;case 1:"("===l?i=2:Ar.test(l)?d():(u(),i=0,"*"!==l&&"?"!==l&&"+"!==l&&a--);break;case 2:")"===l?"\\"==h[h.length-1]?h=h.slice(0,-1)+l:i=3:h+=l;break;case 3:u(),i=0,"*"!==l&&"?"!==l&&"+"!==l&&a--,h="";break;default:e("Unknown state")}else n=i,i=4;return 2===i&&e(`Unfinished custom RegExp for param "${c}"`),u(),r(),s}(t.path),i),s=No(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Dr(t,e){const i=[],n=new Map;function s(t,i,n){const l=!n,a=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Wr(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}(t);a.aliasOf=n&&n.record;const c=$r(e,t),h=[a];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)h.push(No({},a,{components:n?n.record.components:a.components,path:t,aliasOf:n?n.record:a}))}let u,d;for(const e of h){const{path:h}=e;if(i&&"/"!==h[0]){const t=i.record.path,n="/"===t[t.length-1]?"":"/";e.path=i.record.path+(h&&n+h)}if(u=zr(e,i,c),n?n.alias.push(u):(d=d||u,d!==u&&d.alias.push(u),l&&t.name&&!Ur(u)&&o(t.name)),a.children){const t=a.children;for(let e=0;e<t.length;e++)s(t[e],u,n&&n.children[e])}n=n||u,(u.record.components&&Object.keys(u.record.components).length||u.record.name||u.record.redirect)&&r(u)}return d?()=>{o(d)}:Ro}function o(t){if(wr(t)){const e=n.get(t);e&&(n.delete(t),i.splice(i.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=i.indexOf(t);e>-1&&(i.splice(e,1),t.record.name&&n.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function r(t){let e=0;for(;e<i.length&&Nr(t,i[e])>=0&&(t.record.path!==i[e].record.path||!Br(t,i[e]));)e++;i.splice(e,0,t),t.record.name&&!Ur(t)&&n.set(t.record.name,t)}return e=$r({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>s(t))),{addRoute:s,resolve:function(t,e){let s,o,r,l={};if("name"in t&&t.name){if(s=n.get(t.name),!s)throw xr(1,{location:t});r=s.record.name,l=No(Fr(e.params,s.keys.filter((t=>!t.optional)).concat(s.parent?s.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&Fr(t.params,s.keys.map((t=>t.name)))),o=s.stringify(l)}else if(null!=t.path)o=t.path,s=i.find((t=>t.re.test(o))),s&&(l=s.parse(o),r=s.record.name);else{if(s=e.name?n.get(e.name):i.find((t=>t.re.test(e.path))),!s)throw xr(1,{location:t,currentLocation:e});r=s.record.name,l=No({},e.params,t.params),o=s.stringify(l)}const a=[];let c=s;for(;c;)a.unshift(c.record),c=c.parent;return{name:r,path:o,params:l,matched:a,meta:Vr(a)}},removeRoute:o,getRoutes:function(){return i},getRecordMatcher:function(t){return n.get(t)}}}function Fr(t,e){const i={};for(const n of e)n in t&&(i[n]=t[n]);return i}function Wr(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const n in t.components)e[n]="object"==typeof i?i[n]:i;return e}function Ur(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Vr(t){return t.reduce(((t,e)=>No(t,e.meta)),{})}function $r(t,e){const i={};for(const n in t)i[n]=n in e?e[n]:t[n];return i}function Br(t,e){return e.children.some((e=>e===t||Br(t,e)))}function jr(t){const e={};if(""===t||"?"===t)return e;const i=("?"===t[0]?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const t=i[n].replace(Vo," "),s=t.indexOf("="),o=Jo(s<0?t:t.slice(0,s)),r=s<0?null:Jo(t.slice(s+1));if(o in e){let t=e[o];Ao(t)||(t=e[o]=[t]),t.push(r)}else e[o]=r}return e}function Hr(t){let e="";for(let i in t){const n=t[i];if(i=Qo(i).replace(Wo,"%3D"),null==n){void 0!==n&&(e+=(e.length?"&":"")+i);continue}(Ao(n)?n.map((t=>t&&Qo(t))):[n&&Qo(n)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+i,null!=t&&(e+="="+t))}))}return e}function Yr(t){const e={};for(const i in t){const n=t[i];void 0!==n&&(e[i]=Ao(n)?n.map((t=>null==t?null:""+t)):null==n?n:""+n)}return e}const Gr=Symbol(""),Xr=Symbol(""),Zr=Symbol(""),Kr=Symbol(""),Qr=Symbol("");function qr(){let t=[];return{add:function(e){return t.push(e),()=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function Jr(t,e,i,n,s,o=(t=>t())){const r=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise(((l,a)=>{const c=t=>{var o;!1===t?a(xr(4,{from:i,to:e})):t instanceof Error?a(t):"string"==typeof(o=t)||o&&"object"==typeof o?a(xr(2,{from:e,to:t})):(r&&n.enterCallbacks[s]===r&&"function"==typeof t&&r.push(t),l())},h=o((()=>t.call(n&&n.instances[s],e,i,c)));let u=Promise.resolve(h);t.length<3&&(u=u.then(c)),u.catch((t=>a(t)))}))}function tl(t,e,i,n,s=(t=>t())){const o=[];for(const l of t)for(const t in l.components){let a=l.components[t];if("beforeRouteEnter"===e||l.instances[t])if("object"==typeof(r=a)||"displayName"in r||"props"in r||"__vccOpts"in r){const r=(a.__vccOpts||a)[e];r&&o.push(Jr(r,i,n,l,t,s))}else{let r=a();o.push((()=>r.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${l.path}"`));const r=(a=o).__esModule||"Module"===a[Symbol.toStringTag]?o.default:o;var a;l.components[t]=r;const c=(r.__vccOpts||r)[e];return c&&Jr(c,i,n,l,t,s)()}))))}}var r;return o}function el(t){const e=un(Zr),i=un(Kr),n=ws((()=>e.resolve(Ce(t.to)))),s=ws((()=>{const{matched:t}=n.value,{length:e}=t,s=t[e-1],o=i.matched;if(!s||!o.length)return-1;const r=o.findIndex(sr.bind(null,s));if(r>-1)return r;const l=nl(t[e-2]);return e>1&&nl(s)===l&&o[o.length-1].path!==l?o.findIndex(sr.bind(null,t[e-2])):r})),o=ws((()=>s.value>-1&&function(t,e){for(const i in e){const n=e[i],s=t[i];if("string"==typeof n){if(n!==s)return!1}else if(!Ao(s)||s.length!==n.length||n.some(((t,e)=>t!==s[e])))return!1}return!0}(i.params,n.value.params))),r=ws((()=>s.value>-1&&s.value===i.matched.length-1&&or(i.params,n.value.params)));return{route:n,href:ws((()=>n.value.href)),isActive:o,isExactActive:r,navigate:function(i={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(i)?e[Ce(t.replace)?"replace":"push"](Ce(t.to)).catch(Ro):Promise.resolve()}}}const il=Si({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:el,setup(t,{slots:e}){const i=oe(el(t)),{options:n}=un(Zr),s=ws((()=>({[sl(t.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[sl(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const n=e.default&&e.default(i);return t.custom?n:Ss("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:s.value},n)}}});function nl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sl=(t,e,i)=>null!=t?t:null!=e?e:i;function ol(t,e){if(!t)return null;const i=t(e);return 1===i.length?i[0]:i}const rl=Si({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const n=un(Qr),s=ws((()=>t.route||n.value)),o=un(Xr,0),r=ws((()=>{let t=Ce(o);const{matched:e}=s.value;let i;for(;(i=e[t])&&!i.components;)t++;return t})),l=ws((()=>s.value.matched[r.value]));hn(Xr,ws((()=>r.value+1))),hn(Gr,l),hn(Qr,s);const a=we();return mi((()=>[a.value,l.value,t.name]),(([t,e,i],[n,s,o])=>{e&&(e.instances[i]=t,s&&s!==e&&t&&t===n&&(e.leaveGuards.size||(e.leaveGuards=s.leaveGuards),e.updateGuards.size||(e.updateGuards=s.updateGuards))),!t||!e||s&&sr(e,s)&&n||(e.enterCallbacks[i]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const n=s.value,o=t.name,r=l.value,c=r&&r.components[o];if(!c)return ol(i.default,{Component:c,route:n});const h=r.props[o],u=h?!0===h?n.params:"function"==typeof h?h(n):h:null,d=Ss(c,No({},u,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(r.instances[o]=null)},ref:a}));return ol(i.default,{Component:d,route:n})||d}}});const ll=Si({__name:"App",setup:t=>(t,e)=>(Wn(),jn(Ce(rl)))}),al="undefined"!=typeof window,cl=(t,e=!1)=>e?Symbol.for(t):Symbol(t),hl=(t,e,i)=>ul({l:t,k:e,s:i}),ul=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),dl=t=>"number"==typeof t&&isFinite(t),fl=t=>"[object Date]"===Tl(t),pl=t=>"[object RegExp]"===Tl(t),ml=t=>Pl(t)&&0===Object.keys(t).length,vl=Object.assign;
/*!
  * shared v9.12.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */let gl;const bl=()=>gl||(gl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function _l(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const yl=Object.prototype.hasOwnProperty;function wl(t,e){return yl.call(t,e)}const Sl=Array.isArray,kl=t=>"function"==typeof t,El=t=>"string"==typeof t,Cl=t=>"boolean"==typeof t,xl=t=>null!==t&&"object"==typeof t,Ml=t=>xl(t)&&kl(t.then)&&kl(t.catch),Ol=Object.prototype.toString,Tl=t=>Ol.call(t),Pl=t=>{if(!xl(t))return!1;const e=Object.getPrototypeOf(t);return null===e||e.constructor===Object};function Ll(t){let e=t;return()=>++e}function Nl(t,e){}const Il=t=>!xl(t)||Sl(t);function Rl(t,e){if(Il(t)||Il(e))throw new Error("Invalid value");const i=[{src:t,des:e}];for(;i.length;){const{src:t,des:e}=i.pop();Object.keys(t).forEach((n=>{Il(t[n])||Il(e[n])?e[n]=t[n]:i.push({src:t[n],des:e[n]})}))}}
/*!
  * message-compiler v9.12.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Al(t,e,i){const n={start:t,end:e};return null!=i&&(n.source=i),n}const zl=/\{([0-9a-zA-Z]+)\}/g;function Dl(t,...e){return 1===e.length&&Ul(e[0])&&(e=e[0]),e&&e.hasOwnProperty||(e={}),t.replace(zl,((t,i)=>e.hasOwnProperty(i)?e[i]:""))}const Fl=Object.assign,Wl=t=>"string"==typeof t,Ul=t=>null!==t&&"object"==typeof t;function Vl(t,e=""){return t.reduce(((t,i,n)=>0===n?t+i:t+e+i),"")}const $l={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Bl={[$l.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};const jl={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Hl={[jl.EXPECTED_TOKEN]:"Expected token: '{0}'",[jl.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[jl.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[jl.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[jl.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[jl.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[jl.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[jl.EMPTY_PLACEHOLDER]:"Empty placeholder",[jl.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[jl.INVALID_LINKED_FORMAT]:"Invalid linked format",[jl.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[jl.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[jl.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[jl.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[jl.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[jl.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Yl(t,e,i={}){const{domain:n,messages:s,args:o}=i,r=Dl((s||Hl)[t]||"",...o||[]),l=new SyntaxError(String(r));return l.code=t,e&&(l.location=e),l.domain=n,l}function Gl(t){throw t}const Xl=" ",Zl="\r",Kl="\n",Ql=String.fromCharCode(8232),ql=String.fromCharCode(8233);function Jl(t){const e=t;let i=0,n=1,s=1,o=0;const r=t=>e[t]===Zl&&e[t+1]===Kl,l=t=>e[t]===ql,a=t=>e[t]===Ql,c=t=>r(t)||(t=>e[t]===Kl)(t)||l(t)||a(t),h=t=>r(t)||l(t)||a(t)?Kl:e[t];function u(){return o=0,c(i)&&(n++,s=0),r(i)&&i++,i++,s++,e[i]}return{index:()=>i,line:()=>n,column:()=>s,peekOffset:()=>o,charAt:h,currentChar:()=>h(i),currentPeek:()=>h(i+o),next:u,peek:function(){return r(i+o)&&o++,o++,e[i+o]},reset:function(){i=0,n=1,s=1,o=0},resetPeek:function(t=0){o=t},skipToPeek:function(){const t=i+o;for(;t!==i;)u();o=0}}}const ta=void 0,ea=".",ia="'",na="tokenizer";function sa(t,e={}){const i=!1!==e.location,n=Jl(t),s=()=>n.index(),o=()=>{return t=n.line(),e=n.column(),i=n.index(),{line:t,column:e,offset:i};var t,e,i},r=o(),l=s(),a={currentType:14,offset:l,startLoc:r,endLoc:r,lastType:14,lastOffset:l,lastStartLoc:r,lastEndLoc:r,braceNest:0,inLinked:!1,text:""},c=()=>a,{onError:h}=e;function u(t,e,n,...s){const o=c();if(e.column+=n,e.offset+=n,h){const n=Yl(t,i?Al(o.startLoc,e):null,{domain:na,args:s});h(n)}}function d(t,e,n){t.endLoc=o(),t.currentType=e;const s={type:e};return i&&(s.loc=Al(t.startLoc,t.endLoc)),null!=n&&(s.value=n),s}const f=t=>d(t,14);function p(t,e){return t.currentChar()===e?(t.next(),e):(u(jl.EXPECTED_TOKEN,o(),0,e),"")}function m(t){let e="";for(;t.currentPeek()===Xl||t.currentPeek()===Kl;)e+=t.currentPeek(),t.peek();return e}function v(t){const e=m(t);return t.skipToPeek(),e}function g(t){if(t===ta)return!1;const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||95===e}function b(t,e){const{currentType:i}=e;if(2!==i)return!1;m(t);const n=function(t){if(t===ta)return!1;const e=t.charCodeAt(0);return e>=48&&e<=57}("-"===t.currentPeek()?t.peek():t.currentPeek());return t.resetPeek(),n}function _(t){m(t);const e="|"===t.currentPeek();return t.resetPeek(),e}function y(t,e=!0){const i=(e=!1,n="",s=!1)=>{const o=t.currentPeek();return"{"===o?"%"!==n&&e:"@"!==o&&o?"%"===o?(t.peek(),i(e,"%",!0)):"|"===o?!("%"!==n&&!s)||!(n===Xl||n===Kl):o===Xl?(t.peek(),i(!0,Xl,s)):o!==Kl||(t.peek(),i(!0,Kl,s)):"%"===n||e},n=i();return e&&t.resetPeek(),n}function w(t,e){const i=t.currentChar();return i===ta?ta:e(i)?(t.next(),i):null}function S(t){return w(t,(t=>{const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57||95===e||36===e}))}function k(t){return w(t,(t=>{const e=t.charCodeAt(0);return e>=48&&e<=57}))}function E(t){return w(t,(t=>{const e=t.charCodeAt(0);return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}))}function C(t){let e="",i="";for(;e=k(t);)i+=e;return i}function x(t){let e="";for(;;){const i=t.currentChar();if("{"===i||"}"===i||"@"===i||"|"===i||!i)break;if("%"===i){if(!y(t))break;e+=i,t.next()}else if(i===Xl||i===Kl)if(y(t))e+=i,t.next();else{if(_(t))break;e+=i,t.next()}else e+=i,t.next()}return e}function M(t){const e=t.currentChar();switch(e){case"\\":case"'":return t.next(),`\\${e}`;case"u":return O(t,e,4);case"U":return O(t,e,6);default:return u(jl.UNKNOWN_ESCAPE_SEQUENCE,o(),0,e),""}}function O(t,e,i){p(t,e);let n="";for(let s=0;s<i;s++){const i=E(t);if(!i){u(jl.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${e}${n}${t.currentChar()}`);break}n+=i}return`\\${e}${n}`}function T(t){v(t);const e=p(t,"|");return v(t),e}function P(t,e){let i=null;switch(t.currentChar()){case"{":return e.braceNest>=1&&u(jl.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),t.next(),i=d(e,2,"{"),v(t),e.braceNest++,i;case"}":return e.braceNest>0&&2===e.currentType&&u(jl.EMPTY_PLACEHOLDER,o(),0),t.next(),i=d(e,3,"}"),e.braceNest--,e.braceNest>0&&v(t),e.inLinked&&0===e.braceNest&&(e.inLinked=!1),i;case"@":return e.braceNest>0&&u(jl.UNTERMINATED_CLOSING_BRACE,o(),0),i=L(t,e)||f(e),e.braceNest=0,i;default:{let n=!0,s=!0,r=!0;if(_(t))return e.braceNest>0&&u(jl.UNTERMINATED_CLOSING_BRACE,o(),0),i=d(e,1,T(t)),e.braceNest=0,e.inLinked=!1,i;if(e.braceNest>0&&(5===e.currentType||6===e.currentType||7===e.currentType))return u(jl.UNTERMINATED_CLOSING_BRACE,o(),0),e.braceNest=0,N(t,e);if(n=function(t,e){const{currentType:i}=e;if(2!==i)return!1;m(t);const n=g(t.currentPeek());return t.resetPeek(),n}(t,e))return i=d(e,5,function(t){v(t);let e="",i="";for(;e=S(t);)i+=e;return t.currentChar()===ta&&u(jl.UNTERMINATED_CLOSING_BRACE,o(),0),i}(t)),v(t),i;if(s=b(t,e))return i=d(e,6,function(t){v(t);let e="";return"-"===t.currentChar()?(t.next(),e+=`-${C(t)}`):e+=C(t),t.currentChar()===ta&&u(jl.UNTERMINATED_CLOSING_BRACE,o(),0),e}(t)),v(t),i;if(r=function(t,e){const{currentType:i}=e;if(2!==i)return!1;m(t);const n=t.currentPeek()===ia;return t.resetPeek(),n}(t,e))return i=d(e,7,function(t){v(t),p(t,"'");let e="",i="";const n=t=>t!==ia&&t!==Kl;for(;e=w(t,n);)i+="\\"===e?M(t):e;const s=t.currentChar();return s===Kl||s===ta?(u(jl.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),s===Kl&&(t.next(),p(t,"'")),i):(p(t,"'"),i)}(t)),v(t),i;if(!n&&!s&&!r)return i=d(e,13,function(t){v(t);let e="",i="";const n=t=>"{"!==t&&"}"!==t&&t!==Xl&&t!==Kl;for(;e=w(t,n);)i+=e;return i}(t)),u(jl.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,i.value),v(t),i;break}}return i}function L(t,e){const{currentType:i}=e;let n=null;const s=t.currentChar();switch(8!==i&&9!==i&&12!==i&&10!==i||s!==Kl&&s!==Xl||u(jl.INVALID_LINKED_FORMAT,o(),0),s){case"@":return t.next(),n=d(e,8,"@"),e.inLinked=!0,n;case".":return v(t),t.next(),d(e,9,".");case":":return v(t),t.next(),d(e,10,":");default:return _(t)?(n=d(e,1,T(t)),e.braceNest=0,e.inLinked=!1,n):function(t,e){const{currentType:i}=e;if(8!==i)return!1;m(t);const n="."===t.currentPeek();return t.resetPeek(),n}(t,e)||function(t,e){const{currentType:i}=e;if(8!==i&&12!==i)return!1;m(t);const n=":"===t.currentPeek();return t.resetPeek(),n}(t,e)?(v(t),L(t,e)):function(t,e){const{currentType:i}=e;if(9!==i)return!1;m(t);const n=g(t.currentPeek());return t.resetPeek(),n}(t,e)?(v(t),d(e,12,function(t){let e="",i="";for(;e=S(t);)i+=e;return i}(t))):function(t,e){const{currentType:i}=e;if(10!==i)return!1;const n=()=>{const e=t.currentPeek();return"{"===e?g(t.peek()):!("@"===e||"%"===e||"|"===e||":"===e||"."===e||e===Xl||!e)&&(e===Kl?(t.peek(),n()):g(e))},s=n();return t.resetPeek(),s}(t,e)?(v(t),"{"===s?P(t,e)||n:d(e,11,function(t){const e=(i=!1,n)=>{const s=t.currentChar();return"{"!==s&&"%"!==s&&"@"!==s&&"|"!==s&&"("!==s&&")"!==s&&s?s===Xl?n:s===Kl||s===ea?(n+=s,t.next(),e(i,n)):(n+=s,t.next(),e(!0,n)):n};return e(!1,"")}(t))):(8===i&&u(jl.INVALID_LINKED_FORMAT,o(),0),e.braceNest=0,e.inLinked=!1,N(t,e))}}function N(t,e){let i={type:14};if(e.braceNest>0)return P(t,e)||f(e);if(e.inLinked)return L(t,e)||f(e);switch(t.currentChar()){case"{":return P(t,e)||f(e);case"}":return u(jl.UNBALANCED_CLOSING_BRACE,o(),0),t.next(),d(e,3,"}");case"@":return L(t,e)||f(e);default:{if(_(t))return i=d(e,1,T(t)),e.braceNest=0,e.inLinked=!1,i;const{isModulo:n,hasSpace:s}=function(t){const e=m(t),i="%"===t.currentPeek()&&"{"===t.peek();return t.resetPeek(),{isModulo:i,hasSpace:e.length>0}}(t);if(n)return s?d(e,0,x(t)):d(e,4,function(t){v(t);const e=t.currentChar();return"%"!==e&&u(jl.EXPECTED_TOKEN,o(),0,e),t.next(),"%"}(t));if(y(t))return d(e,0,x(t));break}}return i}return{nextToken:function(){const{currentType:t,offset:e,startLoc:i,endLoc:r}=a;return a.lastType=t,a.lastOffset=e,a.lastStartLoc=i,a.lastEndLoc=r,a.offset=s(),a.startLoc=o(),n.currentChar()===ta?d(a,14):N(n,a)},currentOffset:s,currentPosition:o,context:c}}const oa="parser",ra=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function la(t,e,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const t=parseInt(e||i,16);return t<=55295||t>=57344?String.fromCodePoint(t):"�"}}}function aa(t={}){const e=!1!==t.location,{onError:i,onWarn:n}=t;function s(t,n,s,o,...r){const l=t.currentPosition();if(l.offset+=o,l.column+=o,i){const t=Yl(n,e?Al(s,l):null,{domain:oa,args:r});i(t)}}function o(t,i,s,o,...r){const l=t.currentPosition();if(l.offset+=o,l.column+=o,n){const t=e?Al(s,l):null;n(function(t,e,...i){const n=Dl(Bl[t]||"",...i||[]),s={message:String(n),code:t};return e&&(s.location=e),s}(i,t,r))}}function r(t,i,n){const s={type:t};return e&&(s.start=i,s.end=i,s.loc={start:n,end:n}),s}function l(t,i,n,s){s&&(t.type=s),e&&(t.end=i,t.loc&&(t.loc.end=n))}function a(t,e){const i=t.context(),n=r(3,i.offset,i.startLoc);return n.value=e,l(n,t.currentOffset(),t.currentPosition()),n}function c(t,e){const i=t.context(),{lastOffset:n,lastStartLoc:s}=i,o=r(5,n,s);return o.index=parseInt(e,10),t.nextToken(),l(o,t.currentOffset(),t.currentPosition()),o}function h(t,e,i){const n=t.context(),{lastOffset:s,lastStartLoc:o}=n,a=r(4,s,o);return a.key=e,!0===i&&(a.modulo=!0),t.nextToken(),l(a,t.currentOffset(),t.currentPosition()),a}function u(t,e){const i=t.context(),{lastOffset:n,lastStartLoc:s}=i,o=r(9,n,s);return o.value=e.replace(ra,la),t.nextToken(),l(o,t.currentOffset(),t.currentPosition()),o}function d(t){const e=t.context(),i=r(6,e.offset,e.startLoc);let n=t.nextToken();if(9===n.type){const e=function(t){const e=t.nextToken(),i=t.context(),{lastOffset:n,lastStartLoc:o}=i,a=r(8,n,o);return 12!==e.type?(s(t,jl.UNEXPECTED_EMPTY_LINKED_MODIFIER,i.lastStartLoc,0),a.value="",l(a,n,o),{nextConsumeToken:e,node:a}):(null==e.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,i.lastStartLoc,0,ca(e)),a.value=e.value||"",l(a,t.currentOffset(),t.currentPosition()),{node:a})}(t);i.modifier=e.node,n=e.nextConsumeToken||t.nextToken()}switch(10!==n.type&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(n)),n=t.nextToken(),2===n.type&&(n=t.nextToken()),n.type){case 11:null==n.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(n)),i.key=function(t,e){const i=t.context(),n=r(7,i.offset,i.startLoc);return n.value=e,l(n,t.currentOffset(),t.currentPosition()),n}(t,n.value||"");break;case 5:null==n.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(n)),i.key=h(t,n.value||"");break;case 6:null==n.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(n)),i.key=c(t,n.value||"");break;case 7:null==n.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(n)),i.key=u(t,n.value||"");break;default:{s(t,jl.UNEXPECTED_EMPTY_LINKED_KEY,e.lastStartLoc,0);const o=t.context(),a=r(7,o.offset,o.startLoc);return a.value="",l(a,o.offset,o.startLoc),i.key=a,l(i,o.offset,o.startLoc),{nextConsumeToken:n,node:i}}}return l(i,t.currentOffset(),t.currentPosition()),{node:i}}function f(t){const e=t.context(),i=r(2,1===e.currentType?t.currentOffset():e.offset,1===e.currentType?e.endLoc:e.startLoc);i.items=[];let n=null,f=null;do{const r=n||t.nextToken();switch(n=null,r.type){case 0:null==r.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(r)),i.items.push(a(t,r.value||""));break;case 6:null==r.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(r)),i.items.push(c(t,r.value||""));break;case 4:f=!0;break;case 5:null==r.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(r)),i.items.push(h(t,r.value||"",!!f)),f&&(o(t,$l.USE_MODULO_SYNTAX,e.lastStartLoc,0,ca(r)),f=null);break;case 7:null==r.value&&s(t,jl.UNEXPECTED_LEXICAL_ANALYSIS,e.lastStartLoc,0,ca(r)),i.items.push(u(t,r.value||""));break;case 8:{const e=d(t);i.items.push(e.node),n=e.nextConsumeToken||null;break}}}while(14!==e.currentType&&1!==e.currentType);return l(i,1===e.currentType?e.lastOffset:t.currentOffset(),1===e.currentType?e.lastEndLoc:t.currentPosition()),i}function p(t){const e=t.context(),{offset:i,startLoc:n}=e,o=f(t);return 14===e.currentType?o:function(t,e,i,n){const o=t.context();let a=0===n.items.length;const c=r(1,e,i);c.cases=[],c.cases.push(n);do{const e=f(t);a||(a=0===e.items.length),c.cases.push(e)}while(14!==o.currentType);return a&&s(t,jl.MUST_HAVE_MESSAGES_IN_PLURAL,i,0),l(c,t.currentOffset(),t.currentPosition()),c}(t,i,n,o)}return{parse:function(i){const n=sa(i,Fl({},t)),o=n.context(),a=r(0,o.offset,o.startLoc);return e&&a.loc&&(a.loc.source=i),a.body=p(n),t.onCacheKey&&(a.cacheKey=t.onCacheKey(i)),14!==o.currentType&&s(n,jl.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,i[o.offset]||""),l(a,n.currentOffset(),n.currentPosition()),a}}}function ca(t){if(14===t.type)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function ha(t,e){for(let i=0;i<t.length;i++)ua(t[i],e)}function ua(t,e){switch(t.type){case 1:ha(t.cases,e),e.helper("plural");break;case 2:ha(t.items,e);break;case 6:ua(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named")}}function da(t,e={}){const i=function(t,e={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:t=>(i.helpers.add(t),t)}}(t);i.helper("normalize"),t.body&&ua(t.body,i);const n=i.context();t.helpers=Array.from(n.helpers)}function fa(t){if(1===t.items.length){const e=t.items[0];3!==e.type&&9!==e.type||(t.static=e.value,delete e.value)}else{const e=[];for(let i=0;i<t.items.length;i++){const n=t.items[i];if(3!==n.type&&9!==n.type)break;if(null==n.value)break;e.push(n.value)}if(e.length===t.items.length){t.static=Vl(e);for(let e=0;e<t.items.length;e++){const i=t.items[e];3!==i.type&&9!==i.type||delete i.value}}}}const pa="minifier";function ma(t){switch(t.t=t.type,t.type){case 0:{const e=t;ma(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,i=e.cases;for(let t=0;t<i.length;t++)ma(i[t]);e.c=i,delete e.cases;break}case 2:{const e=t,i=e.items;for(let t=0;t<i.length;t++)ma(i[t]);e.i=i,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;ma(e.key),e.k=e.key,delete e.key,e.modifier&&(ma(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Yl(jl.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:pa,args:[t.type]})}delete t.type}const va="parser";function ga(t,e){const{helper:i}=t;switch(e.type){case 0:!function(t,e){e.body?ga(t,e.body):t.push("null")}(t,e);break;case 1:!function(t,e){const{helper:i,needIndent:n}=t;if(e.cases.length>1){t.push(`${i("plural")}([`),t.indent(n());const s=e.cases.length;for(let i=0;i<s&&(ga(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(n()),t.push("])")}}(t,e);break;case 2:!function(t,e){const{helper:i,needIndent:n}=t;t.push(`${i("normalize")}([`),t.indent(n());const s=e.items.length;for(let o=0;o<s&&(ga(t,e.items[o]),o!==s-1);o++)t.push(", ");t.deindent(n()),t.push("])")}(t,e);break;case 6:!function(t,e){const{helper:i}=t;t.push(`${i("linked")}(`),ga(t,e.key),e.modifier?(t.push(", "),ga(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}(t,e);break;case 8:case 7:case 9:case 3:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${i("interpolate")}(${i("list")}(${e.index}))`,e);break;case 4:t.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(e.key)}))`,e);break;default:throw Yl(jl.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:va,args:[e.type]})}}const ba=(t,e={})=>{const i=Wl(e.mode)?e.mode:"normal",n=Wl(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,o=null!=e.breakLineCode?e.breakLineCode:"arrow"===i?";":"\n",r=e.needIndent?e.needIndent:"arrow"!==i,l=t.helpers||[],a=function(t,e){const{sourceMap:i,filename:n,breakLineCode:s,needIndent:o}=e,r=!1!==e.location,l={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:o,indentLevel:0};function a(t,e){l.code+=t}function c(t,e=!0){const i=e?s:"";a(o?i+"  ".repeat(t):i)}return r&&t.loc&&(l.source=t.loc.source),{context:()=>l,push:a,indent:function(t=!0){const e=++l.indentLevel;t&&c(e)},deindent:function(t=!0){const e=--l.indentLevel;t&&c(e)},newline:function(){c(l.indentLevel)},helper:t=>`_${t}`,needIndent:()=>l.needIndent}}(t,{mode:i,filename:n,sourceMap:s,breakLineCode:o,needIndent:r});a.push("normal"===i?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(r),l.length>0&&(a.push(`const { ${Vl(l.map((t=>`${t}: _${t}`)),", ")} } = ctx`),a.newline()),a.push("return "),ga(a,t),a.deindent(r),a.push("}"),delete t.helpers;const{code:c,map:h}=a.context();return{ast:t,code:c,map:h?h.toJSON():void 0}};function _a(t,e={}){const i=Fl({},e),n=!!i.jit,s=!!i.minify,o=null==i.optimize||i.optimize,r=aa(i).parse(t);return n?(o&&function(t){const e=t.body;2===e.type?fa(e):e.cases.forEach((t=>fa(t)))}(r),s&&ma(r),{ast:r,code:""}):(da(r,i),ba(r,i))}
/*!
  * core-base v9.12.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const ya=[];ya[0]={w:[0],i:[3,0],"[":[4],o:[7]},ya[1]={w:[1],".":[2],"[":[4],o:[7]},ya[2]={w:[2],i:[3,0],0:[3,0]},ya[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},ya[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},ya[5]={"'":[4,0],o:8,l:[5,0]},ya[6]={'"':[4,0],o:8,l:[6,0]};const wa=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Sa(t){if(null==t)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ka(t){const e=t.trim();return("0"!==t.charAt(0)||!isNaN(parseInt(t)))&&(i=e,wa.test(i)?function(t){const e=t.charCodeAt(0);return e!==t.charCodeAt(t.length-1)||34!==e&&39!==e?t:t.slice(1,-1)}(e):"*"+e);var i}const Ea=new Map;function Ca(t,e){return xl(t)?t[e]:null}const xa=t=>t,Ma=t=>"",Oa="text",Ta=t=>0===t.length?"":function(t,e=""){return t.reduce(((t,i,n)=>0===n?t+i:t+e+i),"")}(t),Pa=t=>null==t?"":Sl(t)||Pl(t)&&t.toString===Ol?JSON.stringify(t,null,2):String(t);function La(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0}function Na(t={}){const e=t.locale,i=function(t){const e=dl(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(dl(t.named.count)||dl(t.named.n))?dl(t.named.count)?t.named.count:dl(t.named.n)?t.named.n:e:e}(t),n=xl(t.pluralRules)&&El(e)&&kl(t.pluralRules[e])?t.pluralRules[e]:La,s=xl(t.pluralRules)&&El(e)&&kl(t.pluralRules[e])?La:void 0,o=t.list||[],r=t.named||{};dl(t.pluralIndex)&&function(t,e){e.count||(e.count=t),e.n||(e.n=t)}(i,r);function l(e){const i=kl(t.messages)?t.messages(e):!!xl(t.messages)&&t.messages[e];return i||(t.parent?t.parent.message(e):Ma)}const a=Pl(t.processor)&&kl(t.processor.normalize)?t.processor.normalize:Ta,c=Pl(t.processor)&&kl(t.processor.interpolate)?t.processor.interpolate:Pa,h={list:t=>o[t],named:t=>r[t],plural:t=>t[n(i,t.length,s)],linked:(e,...i)=>{const[n,s]=i;let o="text",r="";1===i.length?xl(n)?(r=n.modifier||r,o=n.type||o):El(n)&&(r=n||r):2===i.length&&(El(n)&&(r=n||r),El(s)&&(o=s||o));const a=l(e)(h),c="vnode"===o&&Sl(a)&&r?a[0]:a;return r?(u=r,t.modifiers?t.modifiers[u]:xa)(c,o):c;var u},message:l,type:Pl(t.processor)&&El(t.processor.type)?t.processor.type:Oa,interpolate:c,normalize:a,values:vl({},o,r)};return h}let Ia=null;const Ra=Aa("function:translate");function Aa(t){return e=>Ia&&Ia.emit(t,e)}const za=$l.__EXTEND_POINT__,Da=Ll(za),Fa={NOT_FOUND_KEY:za,FALLBACK_TO_TRANSLATE:Da(),CANNOT_FORMAT_NUMBER:Da(),FALLBACK_TO_NUMBER_FORMAT:Da(),CANNOT_FORMAT_DATE:Da(),FALLBACK_TO_DATE_FORMAT:Da(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Da(),__EXTEND_POINT__:Da()},Wa=jl.__EXTEND_POINT__,Ua=Ll(Wa),Va={INVALID_ARGUMENT:Wa,INVALID_DATE_ARGUMENT:Ua(),INVALID_ISO_DATE_ARGUMENT:Ua(),NOT_SUPPORT_NON_STRING_MESSAGE:Ua(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ua(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ua(),NOT_SUPPORT_LOCALE_TYPE:Ua(),__EXTEND_POINT__:Ua()};function $a(t){return Yl(t,null,void 0)}function Ba(t,e){return null!=e.locale?Ha(e.locale):Ha(t.locale)}let ja;function Ha(t){if(El(t))return t;if(kl(t)){if(t.resolvedOnce&&null!=ja)return ja;if("Function"===t.constructor.name){const e=t();if(Ml(e))throw $a(Va.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return ja=e}throw $a(Va.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}throw $a(Va.NOT_SUPPORT_LOCALE_TYPE)}function Ya(t,e,i){return[...new Set([i,...Sl(e)?e:xl(e)?Object.keys(e):El(e)?[e]:[i]])]}function Ga(t,e,i){const n=El(i)?i:Ja,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let o=s.__localeChainCache.get(n);if(!o){o=[];let t=[i];for(;Sl(t);)t=Xa(o,t,e);const r=Sl(e)||!Pl(e)?e:e.default?e.default:null;t=El(r)?[r]:r,Sl(t)&&Xa(o,t,!1),s.__localeChainCache.set(n,o)}return o}function Xa(t,e,i){let n=!0;for(let s=0;s<e.length&&Cl(n);s++){const o=e[s];El(o)&&(n=Za(t,e[s],i))}return n}function Za(t,e,i){let n;const s=e.split("-");do{n=Ka(t,s.join("-"),i),s.splice(-1,1)}while(s.length&&!0===n);return n}function Ka(t,e,i){let n=!1;if(!t.includes(e)&&(n=!0,e)){n="!"!==e[e.length-1];const s=e.replace(/!/g,"");t.push(s),(Sl(i)||Pl(i))&&i[s]&&(n=i[s])}return n}const Qa="9.12.0",qa=-1,Ja="en-US",tc="",ec=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;let ic,nc,sc;function oc(t){ic=t}let rc=null;const lc=()=>rc;let ac=null;const cc=t=>{ac=t},hc=()=>ac;let uc=0;function dc(t={}){const e=kl(t.onWarn)?t.onWarn:Nl,i=El(t.version)?t.version:Qa,n=El(t.locale)||kl(t.locale)?t.locale:Ja,s=kl(n)?Ja:n,o=Sl(t.fallbackLocale)||Pl(t.fallbackLocale)||El(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:s,r=Pl(t.messages)?t.messages:{[s]:{}},l=Pl(t.datetimeFormats)?t.datetimeFormats:{[s]:{}},a=Pl(t.numberFormats)?t.numberFormats:{[s]:{}},c=vl({},t.modifiers||{},{upper:(t,e)=>"text"===e&&El(t)?t.toUpperCase():"vnode"===e&&xl(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>"text"===e&&El(t)?t.toLowerCase():"vnode"===e&&xl(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>"text"===e&&El(t)?ec(t):"vnode"===e&&xl(t)&&"__v_isVNode"in t?ec(t.children):t}),h=t.pluralRules||{},u=kl(t.missing)?t.missing:null,d=!Cl(t.missingWarn)&&!pl(t.missingWarn)||t.missingWarn,f=!Cl(t.fallbackWarn)&&!pl(t.fallbackWarn)||t.fallbackWarn,p=!!t.fallbackFormat,m=!!t.unresolving,v=kl(t.postTranslation)?t.postTranslation:null,g=Pl(t.processor)?t.processor:null,b=!Cl(t.warnHtmlMessage)||t.warnHtmlMessage,_=!!t.escapeParameter,y=kl(t.messageCompiler)?t.messageCompiler:ic,w=kl(t.messageResolver)?t.messageResolver:nc||Ca,S=kl(t.localeFallbacker)?t.localeFallbacker:sc||Ya,k=xl(t.fallbackContext)?t.fallbackContext:void 0,E=t,C=xl(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,x=xl(E.__numberFormatters)?E.__numberFormatters:new Map,M=xl(E.__meta)?E.__meta:{};uc++;const O={version:i,cid:uc,locale:n,fallbackLocale:o,messages:r,modifiers:c,pluralRules:h,missing:u,missingWarn:d,fallbackWarn:f,fallbackFormat:p,unresolving:m,postTranslation:v,processor:g,warnHtmlMessage:b,escapeParameter:_,messageCompiler:y,messageResolver:w,localeFallbacker:S,fallbackContext:k,onWarn:e,__meta:M};return O.datetimeFormats=l,O.numberFormats=a,O.__datetimeFormatters=C,O.__numberFormatters=x,__INTLIFY_PROD_DEVTOOLS__&&function(t,e,i){Ia&&Ia.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:i})}(O,i,M),O}function fc(t,e,i,n,s){const{missing:o,onWarn:r}=t;if(null!==o){const n=o(t,i,e,s);return El(n)?n:e}return e}function pc(t,e,i){t.__localeChainCache=new Map,t.localeFallbacker(t,i,e)}function mc(t){return e=>function(t,e){const i=e.b||e.body;if(1===(i.t||i.type)){const e=i,n=e.c||e.cases;return t.plural(n.reduce(((e,i)=>[...e,vc(t,i)]),[]))}return vc(t,i)}(e,t)}function vc(t,e){const i=e.s||e.static;if(i)return"text"===t.type?i:t.normalize([i]);{const i=(e.i||e.items).reduce(((e,i)=>[...e,gc(t,i)]),[]);return t.normalize(i)}}function gc(t,e){const i=e.t||e.type;switch(i){case 3:{const t=e;return t.v||t.value}case 9:{const t=e;return t.v||t.value}case 4:{const i=e;return t.interpolate(t.named(i.k||i.key))}case 5:{const i=e;return t.interpolate(t.list(null!=i.i?i.i:i.index))}case 6:{const i=e,n=i.m||i.modifier;return t.linked(gc(t,i.k||i.key),n?gc(t,n):void 0,t.type)}case 7:{const t=e;return t.v||t.value}case 8:{const t=e;return t.v||t.value}default:throw new Error(`unhandled node type on format message part: ${i}`)}}const bc=t=>t;let _c=Object.create(null);const yc=t=>xl(t)&&(0===t.t||0===t.type)&&("b"in t||"body"in t);function wc(t,e={}){let i=!1;const n=e.onError||Gl;return e.onError=t=>{i=!0,n(t)},{..._a(t,e),detectError:i}}const Sc=(t,e)=>{if(!El(t))throw $a(Va.NOT_SUPPORT_NON_STRING_MESSAGE);{!Cl(e.warnHtmlMessage)||e.warnHtmlMessage;const i=(e.onCacheKey||bc)(t),n=_c[i];if(n)return n;const{code:s,detectError:o}=wc(t,e),r=new Function(`return ${s}`)();return o?r:_c[i]=r}};const kc=()=>"",Ec=t=>kl(t);function Cc(t,...e){const{fallbackFormat:i,postTranslation:n,unresolving:s,messageCompiler:o,fallbackLocale:r,messages:l}=t,[a,c]=Oc(...e),h=Cl(c.missingWarn)?c.missingWarn:t.missingWarn,u=Cl(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,d=Cl(c.escapeParameter)?c.escapeParameter:t.escapeParameter,f=!!c.resolvedMessage,p=El(c.default)||Cl(c.default)?Cl(c.default)?o?a:()=>a:c.default:i?o?a:()=>a:"",m=i||""!==p,v=Ba(t,c);d&&function(t){Sl(t.list)?t.list=t.list.map((t=>El(t)?_l(t):t)):xl(t.named)&&Object.keys(t.named).forEach((e=>{El(t.named[e])&&(t.named[e]=_l(t.named[e]))}))}(c);let[g,b,_]=f?[a,v,l[v]||{}]:xc(t,a,v,r,u,h),y=g,w=a;if(f||El(y)||yc(y)||Ec(y)||m&&(y=p,w=y),!(f||(El(y)||yc(y)||Ec(y))&&El(b)))return s?qa:a;let S=!1;const k=Ec(y)?y:Mc(t,a,b,y,w,(()=>{S=!0}));if(S)return y;const E=function(t,e,i,n){const{modifiers:s,pluralRules:o,messageResolver:r,fallbackLocale:l,fallbackWarn:a,missingWarn:c,fallbackContext:h}=t,u=n=>{let s=r(i,n);if(null==s&&h){const[,,t]=xc(h,n,e,l,a,c);s=r(t,n)}if(El(s)||yc(s)){let i=!1;const o=Mc(t,n,e,s,n,(()=>{i=!0}));return i?kc:o}return Ec(s)?s:kc},d={locale:e,modifiers:s,pluralRules:o,messages:u};t.processor&&(d.processor=t.processor);n.list&&(d.list=n.list);n.named&&(d.named=n.named);dl(n.plural)&&(d.pluralIndex=n.plural);return d}(t,b,_,c),C=function(t,e,i){const n=e(i);return n}(0,k,Na(E)),x=n?n(C,a):C;if(__INTLIFY_PROD_DEVTOOLS__){const e={timestamp:Date.now(),key:El(a)?a:Ec(y)?y.key:"",locale:b||(Ec(y)?y.locale:""),format:El(y)?y:Ec(y)?y.source:"",message:x};e.meta=vl({},t.__meta,lc()||{}),Ra(e)}return x}function xc(t,e,i,n,s,o){const{messages:r,onWarn:l,messageResolver:a,localeFallbacker:c}=t,h=c(t,n,i);let u,d={},f=null;for(let p=0;p<h.length&&(u=h[p],d=r[u]||{},null===(f=a(d,e))&&(f=d[e]),!(El(f)||yc(f)||Ec(f)));p++){const i=fc(t,e,u,0,"translate");i!==e&&(f=i)}return[f,u,d]}function Mc(t,e,i,n,s,o){const{messageCompiler:r,warnHtmlMessage:l}=t;if(Ec(n)){const t=n;return t.locale=t.locale||i,t.key=t.key||e,t}if(null==r){const t=()=>n;return t.locale=i,t.key=e,t}const a=r(n,function(t,e,i,n,s,o){return{locale:e,key:i,warnHtmlMessage:s,onError:t=>{throw o&&o(t),t},onCacheKey:t=>hl(e,i,t)}}(0,i,s,0,l,o));return a.locale=i,a.key=e,a.source=n,a}function Oc(...t){const[e,i,n]=t,s={};if(!(El(e)||dl(e)||Ec(e)||yc(e)))throw $a(Va.INVALID_ARGUMENT);const o=dl(e)?String(e):(Ec(e),e);return dl(i)?s.plural=i:El(i)?s.default=i:Pl(i)&&!ml(i)?s.named=i:Sl(i)&&(s.list=i),dl(n)?s.plural=n:El(n)?s.default=n:Pl(n)&&vl(s,n),[o,s]}function Tc(t,...e){const{datetimeFormats:i,unresolving:n,fallbackLocale:s,onWarn:o,localeFallbacker:r}=t,{__datetimeFormatters:l}=t,[a,c,h,u]=Lc(...e);Cl(h.missingWarn)?h.missingWarn:t.missingWarn;Cl(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const d=!!h.part,f=Ba(t,h),p=r(t,s,f);if(!El(a)||""===a)return new Intl.DateTimeFormat(f,u).format(c);let m,v={},g=null;for(let y=0;y<p.length&&(m=p[y],v=i[m]||{},g=v[a],!Pl(g));y++)fc(t,a,m,0,"datetime format");if(!Pl(g)||!El(m))return n?qa:a;let b=`${m}__${a}`;ml(u)||(b=`${b}__${JSON.stringify(u)}`);let _=l.get(b);return _||(_=new Intl.DateTimeFormat(m,vl({},g,u)),l.set(b,_)),d?_.formatToParts(c):_.format(c)}const Pc=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Lc(...t){const[e,i,n,s]=t,o={};let r,l={};if(El(e)){const t=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!t)throw $a(Va.INVALID_ISO_DATE_ARGUMENT);const i=t[3]?t[3].trim().startsWith("T")?`${t[1].trim()}${t[3].trim()}`:`${t[1].trim()}T${t[3].trim()}`:t[1].trim();r=new Date(i);try{r.toISOString()}catch(a){throw $a(Va.INVALID_ISO_DATE_ARGUMENT)}}else if(fl(e)){if(isNaN(e.getTime()))throw $a(Va.INVALID_DATE_ARGUMENT);r=e}else{if(!dl(e))throw $a(Va.INVALID_ARGUMENT);r=e}return El(i)?o.key=i:Pl(i)&&Object.keys(i).forEach((t=>{Pc.includes(t)?l[t]=i[t]:o[t]=i[t]})),El(n)?o.locale=n:Pl(n)&&(l=n),Pl(s)&&(l=s),[o.key||"",r,o,l]}function Nc(t,e,i){const n=t;for(const s in i){const t=`${e}__${s}`;n.__datetimeFormatters.has(t)&&n.__datetimeFormatters.delete(t)}}function Ic(t,...e){const{numberFormats:i,unresolving:n,fallbackLocale:s,onWarn:o,localeFallbacker:r}=t,{__numberFormatters:l}=t,[a,c,h,u]=Ac(...e);Cl(h.missingWarn)?h.missingWarn:t.missingWarn;Cl(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const d=!!h.part,f=Ba(t,h),p=r(t,s,f);if(!El(a)||""===a)return new Intl.NumberFormat(f,u).format(c);let m,v={},g=null;for(let y=0;y<p.length&&(m=p[y],v=i[m]||{},g=v[a],!Pl(g));y++)fc(t,a,m,0,"number format");if(!Pl(g)||!El(m))return n?qa:a;let b=`${m}__${a}`;ml(u)||(b=`${b}__${JSON.stringify(u)}`);let _=l.get(b);return _||(_=new Intl.NumberFormat(m,vl({},g,u)),l.set(b,_)),d?_.formatToParts(c):_.format(c)}const Rc=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ac(...t){const[e,i,n,s]=t,o={};let r={};if(!dl(e))throw $a(Va.INVALID_ARGUMENT);const l=e;return El(i)?o.key=i:Pl(i)&&Object.keys(i).forEach((t=>{Rc.includes(t)?r[t]=i[t]:o[t]=i[t]})),El(n)?o.locale=n:Pl(n)&&(r=n),Pl(s)&&(r=s),[o.key||"",l,o,r]}function zc(t,e,i){const n=t;for(const s in i){const t=`${e}__${s}`;n.__numberFormatters.has(t)&&n.__numberFormatters.delete(t)}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(bl().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(bl().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(bl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);
/*!
  * vue-i18n v9.12.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
const Dc="9.12.0";const Fc=Fa.__EXTEND_POINT__,Wc=Ll(Fc);Wc(),Wc(),Wc(),Wc(),Wc(),Wc(),Wc(),Wc(),Wc();const Uc=Va.__EXTEND_POINT__,Vc=Ll(Uc),$c={UNEXPECTED_RETURN_TYPE:Uc,INVALID_ARGUMENT:Vc(),MUST_BE_CALL_SETUP_TOP:Vc(),NOT_INSTALLED:Vc(),NOT_AVAILABLE_IN_LEGACY_MODE:Vc(),REQUIRED_VALUE:Vc(),INVALID_VALUE:Vc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Vc(),NOT_INSTALLED_WITH_PROVIDE:Vc(),UNEXPECTED_ERROR:Vc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Vc(),BRIDGE_SUPPORT_VUE_2_ONLY:Vc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Vc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Vc(),__EXTEND_POINT__:Vc()};function Bc(t,...e){return Yl(t,null,void 0)}const jc=cl("__translateVNode"),Hc=cl("__datetimeParts"),Yc=cl("__numberParts"),Gc=cl("__setPluralRules"),Xc=cl("__injectWithOption"),Zc=cl("__dispose");function Kc(t){if(!xl(t))return t;for(const e in t)if(wl(t,e))if(e.includes(".")){const i=e.split("."),n=i.length-1;let s=t,o=!1;for(let t=0;t<n;t++){if(i[t]in s||(s[i[t]]={}),!xl(s[i[t]])){o=!0;break}s=s[i[t]]}o||(s[i[n]]=t[e],delete t[e]),xl(s[i[n]])&&Kc(s[i[n]])}else xl(t[e])&&Kc(t[e]);return t}function Qc(t,e){const{messages:i,__i18n:n,messageResolver:s,flatJson:o}=e,r=Pl(i)?i:Sl(n)?{}:{[t]:{}};if(Sl(n)&&n.forEach((t=>{if("locale"in t&&"resource"in t){const{locale:e,resource:i}=t;e?(r[e]=r[e]||{},Rl(i,r[e])):Rl(i,r)}else El(t)&&Rl(JSON.parse(t),r)})),null==s&&o)for(const l in r)wl(r,l)&&Kc(r[l]);return r}function qc(t){return t.type}function Jc(t,e,i){let n=xl(e.messages)?e.messages:{};"__i18nGlobal"in i&&(n=Qc(t.locale.value,{messages:n,__i18n:i.__i18nGlobal}));const s=Object.keys(n);if(s.length&&s.forEach((e=>{t.mergeLocaleMessage(e,n[e])})),xl(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach((i=>{t.mergeDateTimeFormat(i,e.datetimeFormats[i])}))}if(xl(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach((i=>{t.mergeNumberFormat(i,e.numberFormats[i])}))}}function th(t){return Qn(Rn,null,t,0)}const eh=()=>[],ih=()=>!1;let nh=0;function sh(t){return(e,i,n,s)=>t(i,n,cs()||void 0,s)}function oh(t={},e){const{__root:i,__injectWithOption:n}=t,s=void 0===i,o=t.flatJson,r=al?we:Se,l=!!t.translateExistCompatible;let a=!Cl(t.inheritLocale)||t.inheritLocale;const c=r(i&&a?i.locale.value:El(t.locale)?t.locale:Ja),h=r(i&&a?i.fallbackLocale.value:El(t.fallbackLocale)||Sl(t.fallbackLocale)||Pl(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:c.value),u=r(Qc(c.value,t)),d=r(Pl(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),f=r(Pl(t.numberFormats)?t.numberFormats:{[c.value]:{}});let p=i?i.missingWarn:!Cl(t.missingWarn)&&!pl(t.missingWarn)||t.missingWarn,m=i?i.fallbackWarn:!Cl(t.fallbackWarn)&&!pl(t.fallbackWarn)||t.fallbackWarn,v=i?i.fallbackRoot:!Cl(t.fallbackRoot)||t.fallbackRoot,g=!!t.fallbackFormat,b=kl(t.missing)?t.missing:null,_=kl(t.missing)?sh(t.missing):null,y=kl(t.postTranslation)?t.postTranslation:null,w=i?i.warnHtmlMessage:!Cl(t.warnHtmlMessage)||t.warnHtmlMessage,S=!!t.escapeParameter;const k=i?i.modifiers:Pl(t.modifiers)?t.modifiers:{};let E,C=t.pluralRules||i&&i.pluralRules;E=(()=>{s&&cc(null);const e={version:Dc,locale:c.value,fallbackLocale:h.value,messages:u.value,modifiers:k,pluralRules:C,missing:null===_?void 0:_,missingWarn:p,fallbackWarn:m,fallbackFormat:g,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:w,escapeParameter:S,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};e.datetimeFormats=d.value,e.numberFormats=f.value,e.__datetimeFormatters=Pl(E)?E.__datetimeFormatters:void 0,e.__numberFormatters=Pl(E)?E.__numberFormatters:void 0;const i=dc(e);return s&&cc(i),i})(),pc(E,c.value,h.value);const x=ws({get:()=>c.value,set:t=>{c.value=t,E.locale=c.value}}),M=ws({get:()=>h.value,set:t=>{h.value=t,E.fallbackLocale=h.value,pc(E,c.value,t)}}),O=ws((()=>u.value)),T=ws((()=>d.value)),P=ws((()=>f.value));const L=(t,e,n,o,r,l)=>{let a;c.value,h.value,u.value,d.value,f.value;try{__INTLIFY_PROD_DEVTOOLS__,s||(E.fallbackContext=i?hc():void 0),a=t(E)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(E.fallbackContext=void 0)}if("translate exists"!==n&&dl(a)&&a===qa||"translate exists"===n&&!a){const[t,n]=e();return i&&v?o(i):r(t)}if(l(a))return a;throw Bc($c.UNEXPECTED_RETURN_TYPE)};function N(...t){return L((e=>Reflect.apply(Cc,null,[e,...t])),(()=>Oc(...t)),"translate",(e=>Reflect.apply(e.t,e,[...t])),(t=>t),(t=>El(t)))}const I={normalize:function(t){return t.map((t=>El(t)||dl(t)||Cl(t)?th(String(t)):t))},interpolate:t=>t,type:"vnode"};function R(t){return u.value[t]||{}}nh++,i&&al&&(mi(i.locale,(t=>{a&&(c.value=t,E.locale=t,pc(E,c.value,h.value))})),mi(i.fallbackLocale,(t=>{a&&(h.value=t,E.fallbackLocale=t,pc(E,c.value,h.value))})));const A={id:nh,locale:x,fallbackLocale:M,get inheritLocale(){return a},set inheritLocale(t){a=t,t&&i&&(c.value=i.locale.value,h.value=i.fallbackLocale.value,pc(E,c.value,h.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:O,get modifiers(){return k},get pluralRules(){return C||{}},get isGlobal(){return s},get missingWarn(){return p},set missingWarn(t){p=t,E.missingWarn=p},get fallbackWarn(){return m},set fallbackWarn(t){m=t,E.fallbackWarn=m},get fallbackRoot(){return v},set fallbackRoot(t){v=t},get fallbackFormat(){return g},set fallbackFormat(t){g=t,E.fallbackFormat=g},get warnHtmlMessage(){return w},set warnHtmlMessage(t){w=t,E.warnHtmlMessage=t},get escapeParameter(){return S},set escapeParameter(t){S=t,E.escapeParameter=t},t:N,getLocaleMessage:R,setLocaleMessage:function(t,e){if(o){const i={[t]:e};for(const t in i)wl(i,t)&&Kc(i[t]);e=i[t]}u.value[t]=e,E.messages=u.value},mergeLocaleMessage:function(t,e){u.value[t]=u.value[t]||{};const i={[t]:e};if(o)for(const n in i)wl(i,n)&&Kc(i[n]);Rl(e=i[t],u.value[t]),E.messages=u.value},getPostTranslationHandler:function(){return kl(y)?y:null},setPostTranslationHandler:function(t){y=t,E.postTranslation=t},getMissingHandler:function(){return b},setMissingHandler:function(t){null!==t&&(_=sh(t)),b=t,E.missing=_},[Gc]:function(t){C=t,E.pluralRules=C}};return A.datetimeFormats=T,A.numberFormats=P,A.rt=function(...t){const[e,i,n]=t;if(n&&!xl(n))throw Bc($c.INVALID_ARGUMENT);return N(e,i,vl({resolvedMessage:!0},n||{}))},A.te=function(t,e){return L((()=>{if(!t)return!1;const i=R(El(e)?e:c.value),n=E.messageResolver(i,t);return l?null!=n:yc(n)||Ec(n)||El(n)}),(()=>[t]),"translate exists",(i=>Reflect.apply(i.te,i,[t,e])),ih,(t=>Cl(t)))},A.tm=function(t){const e=function(t){let e=null;const i=Ga(E,h.value,c.value);for(let n=0;n<i.length;n++){const s=u.value[i[n]]||{},o=E.messageResolver(s,t);if(null!=o){e=o;break}}return e}(t);return null!=e?e:i&&i.tm(t)||{}},A.d=function(...t){return L((e=>Reflect.apply(Tc,null,[e,...t])),(()=>Lc(...t)),"datetime format",(e=>Reflect.apply(e.d,e,[...t])),(()=>tc),(t=>El(t)))},A.n=function(...t){return L((e=>Reflect.apply(Ic,null,[e,...t])),(()=>Ac(...t)),"number format",(e=>Reflect.apply(e.n,e,[...t])),(()=>tc),(t=>El(t)))},A.getDateTimeFormat=function(t){return d.value[t]||{}},A.setDateTimeFormat=function(t,e){d.value[t]=e,E.datetimeFormats=d.value,Nc(E,t,e)},A.mergeDateTimeFormat=function(t,e){d.value[t]=vl(d.value[t]||{},e),E.datetimeFormats=d.value,Nc(E,t,e)},A.getNumberFormat=function(t){return f.value[t]||{}},A.setNumberFormat=function(t,e){f.value[t]=e,E.numberFormats=f.value,zc(E,t,e)},A.mergeNumberFormat=function(t,e){f.value[t]=vl(f.value[t]||{},e),E.numberFormats=f.value,zc(E,t,e)},A[Xc]=n,A[jc]=function(...t){return L((e=>{let i;const n=e;try{n.processor=I,i=Reflect.apply(Cc,null,[n,...t])}finally{n.processor=null}return i}),(()=>Oc(...t)),"translate",(e=>e[jc](...t)),(t=>[th(t)]),(t=>Sl(t)))},A[Hc]=function(...t){return L((e=>Reflect.apply(Tc,null,[e,...t])),(()=>Lc(...t)),"datetime format",(e=>e[Hc](...t)),eh,(t=>El(t)||Sl(t)))},A[Yc]=function(...t){return L((e=>Reflect.apply(Ic,null,[e,...t])),(()=>Ac(...t)),"number format",(e=>e[Yc](...t)),eh,(t=>El(t)||Sl(t)))},A}function rh(t={},e){{const e=oh(function(t){const e=El(t.locale)?t.locale:Ja,i=El(t.fallbackLocale)||Sl(t.fallbackLocale)||Pl(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:e,n=kl(t.missing)?t.missing:void 0,s=!Cl(t.silentTranslationWarn)&&!pl(t.silentTranslationWarn)||!t.silentTranslationWarn,o=!Cl(t.silentFallbackWarn)&&!pl(t.silentFallbackWarn)||!t.silentFallbackWarn,r=!Cl(t.fallbackRoot)||t.fallbackRoot,l=!!t.formatFallbackMessages,a=Pl(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,h=kl(t.postTranslation)?t.postTranslation:void 0,u=!El(t.warnHtmlInMessage)||"off"!==t.warnHtmlInMessage,d=!!t.escapeParameterHtml,f=!Cl(t.sync)||t.sync;let p=t.messages;if(Pl(t.sharedMessages)){const e=t.sharedMessages;p=Object.keys(e).reduce(((t,i)=>{const n=t[i]||(t[i]={});return vl(n,e[i]),t}),p||{})}const{__i18n:m,__root:v,__injectWithOption:g}=t,b=t.datetimeFormats,_=t.numberFormats,y=t.flatJson,w=t.translateExistCompatible;return{locale:e,fallbackLocale:i,messages:p,flatJson:y,datetimeFormats:b,numberFormats:_,missing:n,missingWarn:s,fallbackWarn:o,fallbackRoot:r,fallbackFormat:l,modifiers:a,pluralRules:c,postTranslation:h,warnHtmlMessage:u,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:f,translateExistCompatible:w,__i18n:m,__root:v,__injectWithOption:g}}(t)),{__extender:i}=t,n={id:e.id,get locale(){return e.locale.value},set locale(t){e.locale.value=t},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(t){e.fallbackLocale.value=t},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(t){},get missing(){return e.getMissingHandler()},set missing(t){e.setMissingHandler(t)},get silentTranslationWarn(){return Cl(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(t){e.missingWarn=Cl(t)?!t:t},get silentFallbackWarn(){return Cl(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(t){e.fallbackWarn=Cl(t)?!t:t},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(t){e.fallbackFormat=t},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(t){e.setPostTranslationHandler(t)},get sync(){return e.inheritLocale},set sync(t){e.inheritLocale=t},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(t){e.warnHtmlMessage="off"!==t},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(t){e.escapeParameter=t},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(t){},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...t){const[i,n,s]=t,o={};let r=null,l=null;if(!El(i))throw Bc($c.INVALID_ARGUMENT);const a=i;return El(n)?o.locale=n:Sl(n)?r=n:Pl(n)&&(l=n),Sl(s)?r=s:Pl(s)&&(l=s),Reflect.apply(e.t,e,[a,r||l||{},o])},rt:(...t)=>Reflect.apply(e.rt,e,[...t]),tc(...t){const[i,n,s]=t,o={plural:1};let r=null,l=null;if(!El(i))throw Bc($c.INVALID_ARGUMENT);const a=i;return El(n)?o.locale=n:dl(n)?o.plural=n:Sl(n)?r=n:Pl(n)&&(l=n),El(s)?o.locale=s:Sl(s)?r=s:Pl(s)&&(l=s),Reflect.apply(e.t,e,[a,r||l||{},o])},te:(t,i)=>e.te(t,i),tm:t=>e.tm(t),getLocaleMessage:t=>e.getLocaleMessage(t),setLocaleMessage(t,i){e.setLocaleMessage(t,i)},mergeLocaleMessage(t,i){e.mergeLocaleMessage(t,i)},d:(...t)=>Reflect.apply(e.d,e,[...t]),getDateTimeFormat:t=>e.getDateTimeFormat(t),setDateTimeFormat(t,i){e.setDateTimeFormat(t,i)},mergeDateTimeFormat(t,i){e.mergeDateTimeFormat(t,i)},n:(...t)=>Reflect.apply(e.n,e,[...t]),getNumberFormat:t=>e.getNumberFormat(t),setNumberFormat(t,i){e.setNumberFormat(t,i)},mergeNumberFormat(t,i){e.mergeNumberFormat(t,i)},getChoiceIndex:(t,e)=>-1};return n.__extender=i,n}}const lh={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>"parent"===t||"global"===t,default:"parent"},i18n:{type:Object}};function ah(t){return In}const ch=Si({name:"i18n-t",props:vl({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>dl(t)||!isNaN(t)}},lh),setup(t,e){const{slots:i,attrs:n}=e,s=t.i18n||bh({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(i).filter((t=>"_"!==t)),r={};t.locale&&(r.locale=t.locale),void 0!==t.plural&&(r.plural=El(t.plural)?+t.plural:t.plural);const l=function({slots:t},e){if(1===e.length&&"default"===e[0])return(t.default?t.default():[]).reduce(((t,e)=>[...t,...e.type===In?e.children:[e]]),[]);return e.reduce(((e,i)=>{const n=t[i];return n&&(e[i]=n()),e}),{})}(e,o),a=s[jc](t.keypath,l,r),c=vl({},n);return Ss(El(t.tag)||xl(t.tag)?t.tag:ah(),c,a)}}});function hh(t,e,i,n){const{slots:s,attrs:o}=e;return()=>{const e={part:!0};let r={};t.locale&&(e.locale=t.locale),El(t.format)?e.key=t.format:xl(t.format)&&(El(t.format.key)&&(e.key=t.format.key),r=Object.keys(t.format).reduce(((e,n)=>i.includes(n)?vl({},e,{[n]:t.format[n]}):e),{}));const l=n(t.value,e,r);let a=[e.key];Sl(l)?a=l.map(((t,e)=>{const i=s[t.type],n=i?i({[t.type]:t.value,index:e,parts:l}):[t.value];var o;return Sl(o=n)&&!El(o[0])&&(n[0].key=`${t.type}-${e}`),n})):El(l)&&(a=[l]);const c=vl({},o);return Ss(El(t.tag)||xl(t.tag)?t.tag:ah(),c,a)}}const uh=Si({name:"i18n-n",props:vl({value:{type:Number,required:!0},format:{type:[String,Object]}},lh),setup(t,e){const i=t.i18n||bh({useScope:t.scope,__useComponent:!0});return hh(t,e,Rc,((...t)=>i[Yc](...t)))}}),dh=Si({name:"i18n-d",props:vl({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},lh),setup(t,e){const i=t.i18n||bh({useScope:t.scope,__useComponent:!0});return hh(t,e,Pc,((...t)=>i[Hc](...t)))}});function fh(t){if(El(t))return{path:t};if(Pl(t)){if(!("path"in t))throw Bc($c.REQUIRED_VALUE);return t}throw Bc($c.INVALID_VALUE)}function ph(t){const{path:e,locale:i,args:n,choice:s,plural:o}=t,r={},l=n||{};return El(i)&&(r.locale=i),dl(s)&&(r.plural=s),dl(o)&&(r.plural=o),[e,l,r]}function mh(t,e,...i){const n=Pl(i[0])?i[0]:{},s=!!n.useI18nComponentName;(!Cl(n.globalInstall)||n.globalInstall)&&([s?"i18n":ch.name,"I18nT"].forEach((e=>t.component(e,ch))),[uh.name,"I18nN"].forEach((e=>t.component(e,uh))),[dh.name,"I18nD"].forEach((e=>t.component(e,dh)))),t.directive("t",function(t){const e=e=>{const{instance:i,modifiers:n,value:s}=e;if(!i||!i.$)throw Bc($c.UNEXPECTED_ERROR);const o=function(t,e){const i=t;if("composition"===t.mode)return i.__getInstance(e)||t.global;{const n=i.__getInstance(e);return null!=n?n.__composer:t.global.__composer}}(t,i.$),r=fh(s);return[Reflect.apply(o.t,o,[...ph(r)]),o]};return{created:(i,n)=>{const[s,o]=e(n);al&&t.global===o&&(i.__i18nWatcher=mi(o.locale,(()=>{n.instance&&n.instance.$forceUpdate()}))),i.__composer=o,i.textContent=s},unmounted:t=>{al&&t.__i18nWatcher&&(t.__i18nWatcher(),t.__i18nWatcher=void 0,delete t.__i18nWatcher),t.__composer&&(t.__composer=void 0,delete t.__composer)},beforeUpdate:(t,{value:e})=>{if(t.__composer){const i=t.__composer,n=fh(e);t.textContent=Reflect.apply(i.t,i,[...ph(n)])}},getSSRProps:t=>{const[i]=e(t);return{textContent:i}}}}(e))}function vh(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[Gc](e.pluralizationRules||t.pluralizationRules);const i=Qc(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(i).forEach((e=>t.mergeLocaleMessage(e,i[e]))),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach((i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i]))),e.numberFormats&&Object.keys(e.numberFormats).forEach((i=>t.mergeNumberFormat(i,e.numberFormats[i]))),t}const gh=cl("global-vue-i18n");function bh(t={}){const e=cs();if(null==e)throw Bc($c.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&null!=e.appContext.app&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Bc($c.NOT_INSTALLED);const i=function(t){{const e=un(t.isCE?gh:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Bc(t.isCE?$c.NOT_INSTALLED_WITH_PROVIDE:$c.UNEXPECTED_ERROR);return e}}(e),n=function(t){return"composition"===t.mode?t.global:t.global.__composer}(i),s=qc(e),o=function(t,e){return ml(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}(t,s);if(__VUE_I18N_LEGACY_API__&&"legacy"===i.mode&&!t.__useComponent){if(!i.allowComposition)throw Bc($c.NOT_AVAILABLE_IN_LEGACY_MODE);return function(t,e,i,n={}){const s="local"===e,o=Se(null);if(s&&t.proxy&&!t.proxy.$options.i18n&&!t.proxy.$options.__i18n)throw Bc($c.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const r=Cl(n.inheritLocale)?n.inheritLocale:!El(n.locale),l=we(!s||r?i.locale.value:El(n.locale)?n.locale:Ja),a=we(!s||r?i.fallbackLocale.value:El(n.fallbackLocale)||Sl(n.fallbackLocale)||Pl(n.fallbackLocale)||!1===n.fallbackLocale?n.fallbackLocale:l.value),c=we(Qc(l.value,n)),h=we(Pl(n.datetimeFormats)?n.datetimeFormats:{[l.value]:{}}),u=we(Pl(n.numberFormats)?n.numberFormats:{[l.value]:{}}),d=s?i.missingWarn:!Cl(n.missingWarn)&&!pl(n.missingWarn)||n.missingWarn,f=s?i.fallbackWarn:!Cl(n.fallbackWarn)&&!pl(n.fallbackWarn)||n.fallbackWarn,p=s?i.fallbackRoot:!Cl(n.fallbackRoot)||n.fallbackRoot,m=!!n.fallbackFormat,v=kl(n.missing)?n.missing:null,g=kl(n.postTranslation)?n.postTranslation:null,b=s?i.warnHtmlMessage:!Cl(n.warnHtmlMessage)||n.warnHtmlMessage,_=!!n.escapeParameter,y=s?i.modifiers:Pl(n.modifiers)?n.modifiers:{},w=n.pluralRules||s&&i.pluralRules;function S(){return[l.value,a.value,c.value,h.value,u.value]}const k=ws({get:()=>o.value?o.value.locale.value:l.value,set:t=>{o.value&&(o.value.locale.value=t),l.value=t}}),E=ws({get:()=>o.value?o.value.fallbackLocale.value:a.value,set:t=>{o.value&&(o.value.fallbackLocale.value=t),a.value=t}}),C=ws((()=>o.value?o.value.messages.value:c.value)),x=ws((()=>h.value)),M=ws((()=>u.value));function O(){return o.value?o.value.getPostTranslationHandler():g}function T(t){o.value&&o.value.setPostTranslationHandler(t)}function P(){return o.value?o.value.getMissingHandler():v}function L(t){o.value&&o.value.setMissingHandler(t)}function N(t){return S(),t()}function I(...t){return o.value?N((()=>Reflect.apply(o.value.t,null,[...t]))):N((()=>""))}function R(...t){return o.value?Reflect.apply(o.value.rt,null,[...t]):""}function A(...t){return o.value?N((()=>Reflect.apply(o.value.d,null,[...t]))):N((()=>""))}function z(...t){return o.value?N((()=>Reflect.apply(o.value.n,null,[...t]))):N((()=>""))}function D(t){return o.value?o.value.tm(t):{}}function F(t,e){return!!o.value&&o.value.te(t,e)}function W(t){return o.value?o.value.getLocaleMessage(t):{}}function U(t,e){o.value&&(o.value.setLocaleMessage(t,e),c.value[t]=e)}function V(t,e){o.value&&o.value.mergeLocaleMessage(t,e)}function $(t){return o.value?o.value.getDateTimeFormat(t):{}}function B(t,e){o.value&&(o.value.setDateTimeFormat(t,e),h.value[t]=e)}function j(t,e){o.value&&o.value.mergeDateTimeFormat(t,e)}function H(t){return o.value?o.value.getNumberFormat(t):{}}function Y(t,e){o.value&&(o.value.setNumberFormat(t,e),u.value[t]=e)}function G(t,e){o.value&&o.value.mergeNumberFormat(t,e)}const X={get id(){return o.value?o.value.id:-1},locale:k,fallbackLocale:E,messages:C,datetimeFormats:x,numberFormats:M,get inheritLocale(){return o.value?o.value.inheritLocale:r},set inheritLocale(t){o.value&&(o.value.inheritLocale=t)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(c.value)},get modifiers(){return o.value?o.value.modifiers:y},get pluralRules(){return o.value?o.value.pluralRules:w},get isGlobal(){return!!o.value&&o.value.isGlobal},get missingWarn(){return o.value?o.value.missingWarn:d},set missingWarn(t){o.value&&(o.value.missingWarn=t)},get fallbackWarn(){return o.value?o.value.fallbackWarn:f},set fallbackWarn(t){o.value&&(o.value.missingWarn=t)},get fallbackRoot(){return o.value?o.value.fallbackRoot:p},set fallbackRoot(t){o.value&&(o.value.fallbackRoot=t)},get fallbackFormat(){return o.value?o.value.fallbackFormat:m},set fallbackFormat(t){o.value&&(o.value.fallbackFormat=t)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:b},set warnHtmlMessage(t){o.value&&(o.value.warnHtmlMessage=t)},get escapeParameter(){return o.value?o.value.escapeParameter:_},set escapeParameter(t){o.value&&(o.value.escapeParameter=t)},t:I,getPostTranslationHandler:O,setPostTranslationHandler:T,getMissingHandler:P,setMissingHandler:L,rt:R,d:A,n:z,tm:D,te:F,getLocaleMessage:W,setLocaleMessage:U,mergeLocaleMessage:V,getDateTimeFormat:$,setDateTimeFormat:B,mergeDateTimeFormat:j,getNumberFormat:H,setNumberFormat:Y,mergeNumberFormat:G};function Z(t){t.locale.value=l.value,t.fallbackLocale.value=a.value,Object.keys(c.value).forEach((e=>{t.mergeLocaleMessage(e,c.value[e])})),Object.keys(h.value).forEach((e=>{t.mergeDateTimeFormat(e,h.value[e])})),Object.keys(u.value).forEach((e=>{t.mergeNumberFormat(e,u.value[e])})),t.escapeParameter=_,t.fallbackFormat=m,t.fallbackRoot=p,t.fallbackWarn=f,t.missingWarn=d,t.warnHtmlMessage=b}return Li((()=>{if(null==t.proxy||null==t.proxy.$i18n)throw Bc($c.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const i=o.value=t.proxy.$i18n.__composer;"global"===e?(l.value=i.locale.value,a.value=i.fallbackLocale.value,c.value=i.messages.value,h.value=i.datetimeFormats.value,u.value=i.numberFormats.value):s&&Z(i)})),X}(e,o,n,t)}if("global"===o)return Jc(n,t,s),n;if("parent"===o){let s=function(t,e,i=!1){let n=null;const s=e.root;let o=function(t,e=!1){if(null==t)return null;return e&&t.vnode.ctx||t.parent}(e,i);for(;null!=o;){const e=t;if("composition"===t.mode)n=e.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const t=e.__getInstance(o);null!=t&&(n=t.__composer,i&&n&&!n[Xc]&&(n=null))}if(null!=n)break;if(s===o)break;o=o.parent}return n}(i,e,t.__useComponent);return null==s&&(s=n),s}const r=i;let l=r.__getInstance(e);if(null==l){const i=vl({},t);"__i18n"in s&&(i.__i18n=s.__i18n),n&&(i.__root=n),l=oh(i),r.__composerExtend&&(l[Zc]=r.__composerExtend(l)),function(t,e,i){Ni((()=>{}),e),zi((()=>{const n=i;t.__deleteInstance(e);const s=n[Zc];s&&(s(),delete n[Zc])}),e)}(r,e,l),r.__setInstance(e,l)}return l}const _h=["locale","fallbackLocale","availableLocales"],yh=["t","rt","d","n","tm","te"];var wh;if("boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(bl().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(bl().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(bl().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(bl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(bl().__INTLIFY_PROD_DEVTOOLS__=!1),__INTLIFY_JIT_COMPILATION__?oc((function(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&El(t)){!Cl(e.warnHtmlMessage)||e.warnHtmlMessage;const i=(e.onCacheKey||bc)(t),n=_c[i];if(n)return n;const{ast:s,detectError:o}=wc(t,{...e,location:!1,jit:!0}),r=mc(s);return o?r:_c[i]=r}{const e=t.cacheKey;if(e){return _c[e]||(_c[e]=mc(t))}return mc(t)}})):oc(Sc),nc=function(t,e){if(!xl(t))return null;let i=Ea.get(e);if(i||(i=function(t){const e=[];let i,n,s,o,r,l,a,c=-1,h=0,u=0;const d=[];function f(){const e=t[c+1];if(5===h&&"'"===e||6===h&&'"'===e)return c++,s="\\"+e,d[0](),!0}for(d[0]=()=>{void 0===n?n=s:n+=s},d[1]=()=>{void 0!==n&&(e.push(n),n=void 0)},d[2]=()=>{d[0](),u++},d[3]=()=>{if(u>0)u--,h=4,d[0]();else{if(u=0,void 0===n)return!1;if(n=ka(n),!1===n)return!1;d[1]()}};null!==h;)if(c++,i=t[c],"\\"!==i||!f()){if(o=Sa(i),a=ya[h],r=a[o]||a.l||8,8===r)return;if(h=r[0],void 0!==r[1]&&(l=d[r[1]],l&&(s=i,!1===l())))return;if(7===h)return e}}(e),i&&Ea.set(e,i)),!i)return null;const n=i.length;let s=t,o=0;for(;o<n;){const t=s[i[o]];if(void 0===t)return null;if(kl(s))return null;s=t,o++}return s},sc=Ga,__INTLIFY_PROD_DEVTOOLS__){const t=bl();t.__INTLIFY__=!0,wh=t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,Ia=wh}const Sh=Eo("accounts",(()=>{const t=we([]),{t:e}=bh();function i(){localStorage.setItem("accounts",JSON.stringify(t.value))}return{accounts:t,addAccount:function(){const n=t.value.length>0?` ${t.value.length+1}`:"",s={id:Date.now(),name:`${e("myAccount")}${n}`,tools:[],factories:[],editing:!1};t.value.push(s),i()},removeAccount:function(e){t.value=t.value.filter((t=>t.id!==e)),i()},saveAccounts:i,loadAccounts:function(){var n;const s=localStorage.getItem("accounts");if(s)t.value=JSON.parse(s),null==(n=t.value)||n.forEach((t=>{t.tools.forEach((t=>{t.icon=t.icon.replace("_shadow","")}))}));else{const n=localStorage.getItem("userTools");t.value=[{id:1,name:e("myAccount"),tools:n?JSON.parse(n):[],factories:[],editing:!1}],i(),localStorage.removeItem("userTools")}},saveAccountName:function(t){t.editing=!1,i()},removeUserTool:function(e,n){const s=t.value.find((t=>t.id===e));s&&(s.tools.splice(n,1),i())}}})),kh=Eo("settings",(()=>{const t=we(!1),e=we("server"),i=we(!1);return{showMenu:t,state:e,serverError:i,setState:function(t){e.value=t}}})),Eh=Eo("chart",(()=>{const t=we([]),e=we(!1),i=new Date;i.setDate(i.getDate()+1);const n=we(i);async function s(t){const e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),s=`${e}-${i}-${n}`,o=new Date;o.setDate(o.getDate()-2);const r=localStorage.getItem(s);if(r){const{data:e,timestamp:i}=JSON.parse(r),n=(Date.now()-i)/1e3;if(t>o){if(n<300)return e}else if(n<31536e3)return e}const l=`https://vasia123.github.io/farm-world-space-prices/${e}-${i}/${n}.json`;try{const t=await fetch(l);if(!t.ok)throw new Error("Failed to fetch chart prices");const e=await t.json();return localStorage.setItem(s,JSON.stringify({data:e,timestamp:Date.now()})),e}catch(a){return[]}}const o=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.FOOD)}))))),r=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.GOLD)}))))),l=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.WOOD)}))))),a=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.INGOT)}))))),c=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.PLANKS)}))))),h=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.SOUP)}))))),u=ws((()=>t.value.map((t=>({time:t.date_update,value:parseFloat(t.STONE)})))));return{chartPrices:t,chartError:e,currentDate:n,fetchChartPrices:s,foodData:o,goldData:r,woodData:l,IngotData:a,PlanksData:c,SoupData:h,StoneData:u,fetchMoreData:async function(){const e=new Date(n.value);if(e.setDate(e.getDate()-1),e>=new Date(2024,3,19)){n.value=e;const i=await s(n.value);return t.value=[...i,...t.value],i.length>0}return!1}}})),Ch=Eo("prices",(()=>{const t=we({wood:0,food:0,gold:0,ingot:0,planks:0,soup:0,stone:0}),e=we({wood:0,food:0,gold:0,ingot:0,planks:0,soup:0,stone:0}),i=we("...");let n,s;const o=kh(),r=Eh();async function l(){try{const e=await fetch("https://app.farm-world.space/tokens.php?access_token=FFGrIZyIsxIl17TaIxlBKHp7ZEZ55g"),i=await e.json();i.WOOD&&(t.value.wood=i.WOOD),i.FOOD&&(t.value.food=i.FOOD),i.GOLD&&(t.value.gold=i.GOLD),i.INGOT&&(t.value.ingot=i.INGOT),i.PLANKS&&(t.value.planks=i.PLANKS),i.SOUP&&(t.value.soup=i.SOUP),i.STONE&&(t.value.stone=i.STONE),n=window.setTimeout(l,3e4),localStorage.setItem("resourcesPrices",JSON.stringify(t.value))}catch(e){}}async function a(){var t,e,n;try{const s=await fetch("https://tonapi.io/v2/rates?tokens=ton&currencies=usd"),o=await s.json(),r=null==(n=null==(e=null==(t=null==o?void 0:o.rates)?void 0:t.TON)?void 0:e.prices)?void 0:n.USD;r&&(i.value=r,function(t){localStorage.setItem("tonPrice",t.toString())}(r))}catch(o){}s=setInterval(a,3e5)}return{prices:t,tonPriceUsd:i,fetchPrices:l,loadPricesForThreeDays:async function(){const t=new Date,i=new Date(t);i.setDate(i.getDate()+1);const n=new Date(t);n.setDate(n.getDate()-1);const s=new Date(t);s.setDate(s.getDate()-2);const o=[r.fetchChartPrices(i),r.fetchChartPrices(t),r.fetchChartPrices(n),r.fetchChartPrices(s)],l=(await Promise.all(o)).filter((t=>t.length>0)).sort(((t,e)=>t[0].date_update-e[0].date_update));if(l.length>0){const t=l[l.length-1];["wood","food","gold","ingot","planks","soup","stone"].forEach((i=>{const n=t.map((t=>parseFloat(t[i.toUpperCase()]))).filter((t=>t>0)),s=n.reduce(((t,e)=>t+e),0)/n.length;e.value[i]=s}))}},fetchTonPrice:a,getResourcePrice:function(e){return t.value[e]||0},startPricesTimers:async function(){const e=function(){const t=localStorage.getItem("resourcesPrices");if(t)try{return JSON.parse(t)}catch(e){}return null}();e&&(e.wood&&(t.value.wood=e.wood),e.food&&(t.value.food=e.food),e.gold&&(t.value.gold=e.gold),e.ingot&&(t.value.ingot=e.ingot),e.planks&&(t.value.planks=e.planks),e.soup&&(t.value.soup=e.soup),e.stone&&(t.value.stone=e.stone)),l();const n=localStorage.getItem("tonPrice")||null;n&&!["err",'"err"'].includes(n.toString())?(i.value=n,s=setInterval(a,3e5)):a()},setManualPrices:function(){o.setState("local"),window.clearTimeout(n)},stopPricesTimers:async function(){window.clearTimeout(n),window.clearInterval(s)},getPriceChangePercentage:function(i){const n=t.value[i],s=e.value[i];if(0===s)return"";const o=(n-s)/s*100;return o>=0?`+${o.toFixed(1)}%`:`${o.toFixed(1)}%`}}})),xh="/farm-world-space-calculator/img/wood.png",Mh="/farm-world-space-calculator/img/food.png",Oh="/farm-world-space-calculator/img/gold.png",Th=Eo("modals",(()=>{const t=we(!1),e=we(!1),i=we(!1),n=we(!1),s=we(!1),o=we(null);return{showAddToolModal:t,showSettingsMenu:i,showChartModal:n,showStackPriceModal:s,selectedAccountId:o,showAddFactoryModal:e,openAddToolModal:function(e){t.value=!0,o.value=e,document.body.classList.add("modal-open")},closeAddToolModal:function(){t.value=!1,document.body.classList.remove("modal-open")},toggleSettingsMenu:function(){i.value=!i.value,i.value?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open")},openChartModal:function(){n.value=!0,document.body.classList.add("modal-open")},closeChartModal:function(){n.value=!1,document.body.classList.remove("modal-open")},openStackPriceModal:function(){s.value=!0,document.body.classList.add("modal-open")},closeStackPriceModal:function(){s.value=!1,document.body.classList.remove("modal-open")},openAddFactoryModal:function(t){e.value=!0,o.value=t,document.body.classList.add("modal-open")},closeAddFactoryModal:function(){e.value=!1,document.body.classList.remove("modal-open")}}})),Ph=(t,e)=>{const i=t.__vccOpts||t;for(const[n,s]of e)i[n]=s;return i},Lh={},Nh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 30",class:"flag-icon"},Ih=[ts('<clipPath id="t"><path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"></path></clipPath><path d="M0,0 v30 h60 v-30 z" fill="#00247d"></path><path d="M0,0 L60,30 M60,0 L0,30" stroke="#fff" stroke-width="6"></path><path d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)" stroke="#cf142b" stroke-width="4"></path><path d="M30,0 v30 M0,15 h60" stroke="#fff" stroke-width="10"></path><path d="M30,0 v30 M0,15 h60" stroke="#cf142b" stroke-width="6"></path>',6)];const Rh=Ph(Lh,[["render",function(t,e){return Wn(),Bn("svg",Nh,Ih)}]]),Ah={},zh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9 6",class:"flag-icon"},Dh=[Kn("rect",{fill:"#fff",width:"9",height:"3"},null,-1),Kn("rect",{fill:"#d52b1e",y:"3",width:"9",height:"3"},null,-1),Kn("rect",{fill:"#0039a6",y:"2",width:"9",height:"2"},null,-1)];const Fh=Ph(Ah,[["render",function(t,e){return Wn(),Bn("svg",zh,Dh)}]]),Wh={},Uh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},Vh=[Kn("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),Kn("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"},null,-1)];const $h=Ph(Wh,[["render",function(t,e){return Wn(),Bn("svg",Uh,Vh)}]]);function Bh(t,e=2){const i=Number(t);if(Number.isInteger(i))return String(t);const n=t.toString(),s=n.indexOf(".");if(-1===s)return n;let o=s+1;for(;"0"===n[o];)o++;if(o>s+8)return n.substring(0,s);const r=o-s-1+e;return i.toFixed(r)}const jh={class:"navbar navbar-expand-lg navbar-dark fixed-top scrolling-navbar"},Hh={class:"navbar-prices"},Yh={class:"alert alert-light p-1 fw_topBox token_TON"},Gh=Kn("img",{class:"mr-1",src:"/farm-world-space-calculator/img/ton.png",alt:"TON Coin"},null,-1),Xh={class:"alert alert-light p-1 fw_topBox token_FWW"},Zh=Kn("img",{class:"mr-1",src:xh,alt:"Wood"},null,-1),Kh={class:"alert alert-light p-1 fw_topBox token_FWF"},Qh=Kn("img",{class:"mr-1",src:Mh,alt:"Food"},null,-1),qh={class:"alert alert-light p-1 fw_topBox token_FWG"},Jh=Kn("img",{class:"mr-1",src:Oh,alt:"Gold"},null,-1),tu={class:"nav navbar-nav nav-flex-icons ml-auto"},eu={class:"nav-item"},iu={class:"nav-item"},nu={class:"nav-item"},su=Si({__name:"NavBar",setup(t){const{locale:e,t:i}=bh(),n=Ch(),s=Th(),o=ws((()=>n.tonPriceUsd)),r=ws((()=>n.prices));function l(t){e.value=t,localStorage.setItem("selectedLanguage",t)}function a(){s.openChartModal()}function c(){s.toggleSettingsMenu()}function h(){const t=document.querySelector(".navbar"),e=document.querySelector(".scrolling-navbar");t&&e&&(window.scrollY>50?e.classList.add("top-nav-collapse"):e.classList.remove("top-nav-collapse"))}return Ni((()=>{window.addEventListener("scroll",h)})),zi((()=>{window.removeEventListener("scroll",h)})),(t,n)=>(Wn(),Bn("nav",jh,[Kn("div",Hh,[Kn("div",Yh,[Gh,Kn("strong",null,Z(Ce(Bh)(o.value))+"$",1)]),Kn("div",Xh,[Zh,Kn("strong",null,Z(Ce(Bh)(r.value.wood)),1)]),Kn("div",Kh,[Qh,Kn("strong",null,Z(Ce(Bh)(r.value.food)),1)]),Kn("div",qh,[Jh,Kn("strong",null,Z(Ce(Bh)(r.value.gold)),1)]),Kn("button",{onClick:a,class:"btn btn-primary"},Z(Ce(i)("showCharts")),1)]),Kn("ul",tu,[Kn("li",eu,[Kn("button",{class:j(["nav-link btn btn-link",{active:"en"===Ce(e)}]),onClick:n[0]||(n[0]=t=>l("en"))},[Qn(Rh)],2)]),Kn("li",iu,[Kn("button",{class:j(["nav-link btn btn-link",{active:"ru"===Ce(e)}]),onClick:n[1]||(n[1]=t=>l("ru"))},[Qn(Fh)],2)]),Kn("li",nu,[Kn("button",{class:"nav-link btn btn-link",onClick:c},[Qn($h)])])])]))}}),ou=Eo("tools",(()=>{const t=[{name:"Axe (Common)",icon:"img/axe_common.png",profit:5,wood:2400,gold:400,cooldown:1,resource:"wood",energy:10,durability:5,maxDurability:100},{name:"Axe (Uncommon)",icon:"img/axe_uncommon.png",profit:17,wood:7200,gold:1200,cooldown:1,resource:"wood",energy:30,durability:15,maxDurability:300},{name:"Axe (Rare)",icon:"img/axe_rare.png",profit:54,wood:21600,gold:3600,cooldown:1,resource:"wood",energy:60,durability:45,maxDurability:900},{name:"Axe (Promo)",icon:"img/axe_promo.png",profit:1,wood:110,gold:20,cooldown:1,resource:"wood",energy:4,durability:1,maxDurability:25},{name:"Bow (Common)",icon:"img/bow_common.png",profit:5,wood:1200,gold:200,cooldown:1,resource:"food",energy:0,durability:5,maxDurability:250},{name:"Bow (Uncommon)",icon:"img/bow_uncommon.png",profit:20,wood:4800,gold:800,cooldown:1,resource:"food",energy:0,durability:20,maxDurability:1e3},{name:"Bow (Rare)",icon:"img/bow_rare.png",profit:80,wood:19200,gold:3200,cooldown:1,resource:"food",energy:0,durability:32,maxDurability:1600},{name:"Pickaxe (Common)",icon:"img/pikaxe_common.png",profit:50,wood:24e3,gold:4e3,cooldown:1,resource:"gold",energy:66,durability:3,maxDurability:250}],e={wood:[],food:[],gold:[]};for(const l of t)e[l.resource]||(e[l.resource]=[]),e[l.resource].push(l);const i=e,n=Ch();function s(t){return t.energy/5*n.prices.food}function o(t){return t.durability/5*n.prices.gold}function r(t){return(t.profit*n.getResourcePrice(t.resource)-s(t)-o(t))/t.cooldown}return{tools:t,toolTypes:i,getToolCraftCost:function(t){return t.wood*n.prices.wood+t.gold*n.prices.gold},getToolEnergyCost:s,getToolDurabilityCost:o,getToolHourlyProfit:r,getToolDailyProfit:function(t){return 24*r(t)},getToolROI:function(t,e){const i=e/r(t);return{hours:i,days:i/24}}}})),ru=Eo("buffs",(()=>{const{t:t}=bh(),e=[{name:"mining_buff",cost:{planks:5,ton:1},bonus_percent:{mining_up:30},cooldown:`30 ${t("days")}`},{name:"energy_buff",cost:{soup:5,ton:1},bonus_percent:{energy_cost_reduce:100},cooldown:`30 ${t("days")}`},{name:"durability_buff",cost:{ingot:5,ton:1},bonus_percent:{durability_cost_reduce:100},cooldown:`30 ${t("days")}`}];return{buffs:e,applyBuffToTool:function(t,i){const n=e.find((t=>t.name===i.name));if(!n)throw new Error("no buff data!");const s={...t};for(const[e,o]of Object.entries(n.bonus_percent))"mining_up"===e?s.profit*=1+o/100:"energy_cost_reduce"===e?s.energy*=1-o/100:"durability_cost_reduce"===e&&(s.durability*=1-o/100);return s}}})),lu=Eo("factories",(()=>{const t={sawmill:{build_slot_cost:6e3,resource:"planks",levels:[{level:1,up_level_price:{wood:31200,gold:5200,stone:1e3},craft_recipe:{wood:1e3},result_craft:1},{level:2,up_level_price:{planks:10,soup:5,ingot:5,stone:1500},craft_recipe:{wood:900},result_craft:2},{level:3,up_level_price:{planks:10,soup:5,ingot:5,stone:2500},craft_recipe:{wood:800},result_craft:2},{level:4,up_level_price:{planks:10,soup:5,ingot:5,stone:3500},craft_recipe:{wood:700},result_craft:3},{level:5,up_level_price:{planks:10,soup:5,ingot:5,stone:4500},craft_recipe:{wood:600},result_craft:3}],cooldown:24},kitchen:{build_slot_cost:9e3,resource:"soup",levels:[{level:1,up_level_price:{wood:25200,gold:4200,stone:1e3},craft_recipe:{food:1e3},result_craft:1},{level:2,up_level_price:{planks:5,soup:10,ingot:5,stone:1500},craft_recipe:{food:900},result_craft:2},{level:3,up_level_price:{planks:5,soup:10,ingot:5,stone:2500},craft_recipe:{food:800},result_craft:2},{level:4,up_level_price:{planks:5,soup:10,ingot:5,stone:3500},craft_recipe:{food:700},result_craft:3},{level:5,up_level_price:{planks:5,soup:10,ingot:5,stone:4500},craft_recipe:{food:600},result_craft:3}],cooldown:24},forge:{build_slot_cost:12e3,resource:"ingot",levels:[{level:1,up_level_price:{wood:36e3,gold:6e3,stone:2e3},craft_recipe:{gold:1e3},result_craft:1},{level:2,up_level_price:{planks:5,soup:5,ingot:10,stone:1500},craft_recipe:{gold:900},result_craft:2},{level:3,up_level_price:{planks:5,soup:5,ingot:10,stone:2500},craft_recipe:{gold:800},result_craft:2},{level:4,up_level_price:{planks:5,soup:5,ingot:10,stone:3500},craft_recipe:{gold:700},result_craft:3},{level:5,up_level_price:{planks:5,soup:5,ingot:10,stone:4500},craft_recipe:{gold:600},result_craft:3}],cooldown:24}},e=Ch();function i(i,n){const s=t[i].levels[n-1],o=s.craft_recipe,r=s.result_craft,l=t[i].resource;let a=0;for(const[t,c]of Object.entries(o))a+=c*e.getResourcePrice(t);return r*e.getResourcePrice(l)-a}return{factories:t,guilds:{sawmill:{cost_build:{wood:15e3,food:25e3,gold:1e4},required_level:3},kitchen:{cost_build:{wood:15e3,food:25e3,gold:1e4},required_level:3},forge:{cost_build:{wood:15e3,food:25e3,gold:1e4},required_level:3}},getFactoryUpgradeCost:function(i,n){const s=t[i].levels[n-1];let o=0;for(const[t,r]of Object.entries(s.up_level_price))o+=r*e.getResourcePrice(t);return o},getFactoryDailyProfit:i,getFactoryROI:function(n,s){const o=function(i,n){let s=t[i].build_slot_cost*e.getResourcePrice("stone");for(let o=0;o<n;o++){const n=t[i].levels[o];for(const[t,i]of Object.entries(n.up_level_price))s+=i*e.getResourcePrice(t)}return s}(n,s)/i(n,s);return{hours:24*o,days:o}}}})),au=Eo("summaries",(()=>{const t=Sh(),e=ou(),i=ru(),n=Ch(),s=lu();function o(i){var n;const o=t.accounts.find((t=>t.id===i));if(!o)return 0;return o.tools.reduce(((t,i)=>t+e.getToolDailyProfit(i)),0)+((null==(n=o.factories)?void 0:n.reduce(((t,e)=>t+s.getFactoryDailyProfit(e.name,e.level.level)),0))||0)}function r(){return t.accounts.reduce(((t,i)=>{var n;return t+i.tools.reduce(((t,i)=>t+e.getToolDailyProfit(i)),0)+((null==(n=i.factories)?void 0:n.reduce(((t,e)=>t+s.getFactoryDailyProfit(e.name,e.level.level)),0))||0)}),0)}return{getAccountResourcesSummary:function(e){var i;const n=t.accounts.find((t=>t.id===e));if(!n)return{};const s={};return n.tools.forEach((t=>{const e=t.resource,i=24*t.profit;i>0&&(e in s?s[e]+=i:s[e]=i)})),null==(i=n.factories)||i.forEach((t=>{const e=t.data.resource,i=t.level.result_craft;i>0&&(e in s?s[e]+=i:s[e]=i)})),s},getAccountProfitSummary:o,getAccountConsumptionSummary:function(e){var i;const n={food:0,gold:0,wood:0},s=t.accounts.find((t=>t.id===e));return s?(s.tools.forEach((t=>{n.food+=t.energy/t.cooldown*24/5,n.gold+=t.durability/t.cooldown*24/5})),null==(i=s.factories)||i.forEach((t=>{for(const e of Object.keys(t.level.craft_recipe))n[e]+=t.level.craft_recipe[e]||0})),n):n},getAllProfitSummary:r,getFullAccountROI:function(){const e=r();return 0===e?0:t.accounts.reduce(((t,e)=>{var i;return t+e.tools.reduce(((t,e)=>t+e.craftPrice),0)+((null==(i=e.factories)?void 0:i.reduce(((t,e)=>t+e.craftPrice),0))||0)}),0)/e},getAccountROI:function(e){var i;const n=t.accounts.find((t=>t.id===e));if(!n)return 0;const s=o(e);return 0===s?0:(n.tools.reduce(((t,e)=>t+e.craftPrice),0)+((null==(i=n.factories)?void 0:i.reduce(((t,e)=>t+e.craftPrice),0))||0))/s},getAccountBuffROI:function(s,r){const l=t.accounts.find((t=>t.id===s));if(!l)return 0;const a=i.buffs.find((t=>t.name===r.name));if(!a)throw new Error("no buff data!");const c=Object.entries(a.cost).reduce(((t,[e,i])=>t+("ton"===e?i:i*n.getResourcePrice(e))),0),h=o(s);return c/(l.tools.map((t=>i.applyBuffToTool(t,r))).reduce(((t,i)=>t+e.getToolDailyProfit(i)),0)-h)}}})),cu={class:"tool-box-wrapper"},hu={class:"card card-cascade wider"},uu={class:"view view-cascade grey darken-3"},du={class:"text-center my-2 font-weight-bolder"},fu={key:0,class:"no-tools"},pu=Kn("br",null,null,-1),mu={key:1,class:"tools-tables mb-2"},vu={class:"tools-table"},gu=Kn("th",null," ",-1),bu=["src","alt"],_u=["src"],yu={key:0,class:"tool-costs-row"},wu=Kn("img",{src:Mh,width:"20px",class:"mb-1"},null,-1),Su={key:1,class:"tool-costs-row"},ku=Kn("img",{src:Oh,width:"20px",class:"mb-1"},null,-1),Eu=Kn("i",{class:"ton-icon"},null,-1),Cu=Kn("i",{class:"ton-icon"},null,-1),xu={class:"factory-cell-img"},Mu=["src","alt"],Ou={class:"factory-cell-level factory-cell-level--float mr-2"},Tu=["src"],Pu=["src"],Lu=Kn("i",{class:"ton-icon"},null,-1),Nu=Kn("i",{class:"ton-icon"},null,-1),Iu={class:"tool-row"},Ru=["src"],Au={key:0,class:"tool-costs-row"},zu=["src"],Du=Kn("i",{class:"ton-icon"},null,-1),Fu={class:"badge grey darken-2 sm ml-1"},Wu={key:0,class:"mb-3 px-1 tool-box-container"},Uu={class:"card card-cascade wider"},Vu={class:"view view-cascade grey darken-3"},$u={class:"text-center my-2 font-weight-bolder"},Bu={class:"tools-tables p-2"},ju={class:"tools-table"},Hu={class:"tool-row"},Yu=Kn("i",{class:"ton-icon"},null,-1),Gu={class:"badge grey darken-2 sm ml-1"},Xu=Si({__name:"AccountList",setup(t){const{t:e}=bh(),i=Sh(),n=au(),s=ou(),o=lu(),r=Bh,l=ws((()=>i.accounts));return(t,i)=>(Wn(),Bn("div",cu,[(Wn(!0),Bn(In,null,Vi(l.value,(t=>(Wn(),Bn("div",{key:t.id,class:"mb-3 px-1 tool-box-container"},[Kn("div",hu,[Kn("div",uu,[Kn("div",du,Z(t.name),1),0==t.tools.length?(Wn(),Bn("div",fu,[Jn(Z(Ce(e)("noToolsAdded")),1),pu,Jn(Z(Ce(e)("addToolsInSettings")),1)])):(Wn(),Bn("div",mu,[Kn("table",vu,[Kn("tr",null,[gu,Kn("th",null,Z(Ce(e)("production")),1),Kn("th",null,Z(Ce(e)("consumption")),1),Kn("th",null,Z(Ce(e)("income")),1),Kn("th",null,Z(Ce(e)("invested")),1)]),(Wn(!0),Bn(In,null,Vi(t.tools,((t,e)=>(Wn(),Bn("tr",{key:e,class:"tool-row"},[Kn("td",null,[Kn("img",{src:t.icon,alt:t.name,class:"mr-2",width:"20px"},null,8,bu)]),Kn("td",null,[Jn(Z(Ce(r)(24*t.profit))+" ",1),Kn("img",{src:"/farm-world-space-calculator/img/"+String(t.resource).toLowerCase()+".png",width:"20px",class:"mb-1"},null,8,_u)]),Kn("td",null,[t.energy>0?(Wn(),Bn("div",yu,[Jn(Z(Ce(r)(t.energy/5*24))+" ",1),wu])):es("",!0),t.durability>0?(Wn(),Bn("div",Su,[Jn(Z(Ce(r)(t.durability/5*24))+" ",1),ku])):es("",!0)]),Kn("td",null,[Jn(Z(Ce(r)(Ce(s).getToolDailyProfit(t)))+" ",1),Eu]),Kn("td",null,[Jn(Z(t.craftPrice)+" ",1),Cu])])))),128)),(Wn(!0),Bn(In,null,Vi(t.factories,((t,e)=>(Wn(),Bn("tr",{key:e,class:"tool-row"},[Kn("td",xu,[Kn("img",{src:`/farm-world-space-calculator/img/${t.name}.jpg`,alt:t.name,class:"mr-2",width:"20px"},null,8,Mu),Kn("div",Ou,Z(t.level.level),1)]),Kn("td",null,[Jn(Z(Ce(r)(t.level.result_craft))+" ",1),Kn("img",{src:"/farm-world-space-calculator/img/"+String(t.data.resource).toLowerCase()+".png",width:"20px",class:"mb-1"},null,8,Tu)]),Kn("td",null,[(Wn(!0),Bn(In,null,Vi(t.level.craft_recipe,((t,e)=>(Wn(),Bn("div",{key:e,class:"tool-costs-row"},[Jn(Z(Ce(r)(t||0))+" ",1),Kn("img",{src:`/farm-world-space-calculator/img/${e}.png`,width:"20px",class:"mb-1"},null,8,Pu)])))),128))]),Kn("td",null,[Jn(Z(Ce(r)(Ce(o).getFactoryDailyProfit(t.name,t.level.level)))+" ",1),Lu]),Kn("td",null,[Jn(Z(t.craftPrice)+" ",1),Nu])])))),128)),Kn("tr",Iu,[Kn("td",null,Z(Ce(e)("dailyProfit"))+": ",1),Kn("td",null,[(Wn(!0),Bn(In,null,Vi(Ce(n).getAccountResourcesSummary(t.id),((t,e)=>(Wn(),Bn("div",{key:e,class:"tool-costs-row"},[Jn(Z(Ce(r)(t))+" ",1),Kn("img",{src:"/farm-world-space-calculator/img/"+e+".png",width:"20px",class:"mb-1"},null,8,Ru)])))),128))]),Kn("td",null,[(Wn(!0),Bn(In,null,Vi(Ce(n).getAccountConsumptionSummary(t.id),((t,e)=>(Wn(),Bn(In,{key:e},[t>0?(Wn(),Bn("div",Au,[Jn(Z(Ce(r)(t))+" ",1),Kn("img",{src:"/farm-world-space-calculator/img/"+e+".png",width:"20px",class:"mb-1"},null,8,zu)])):es("",!0)],64)))),128))]),Kn("td",null,[Jn(Z(Ce(r)(Ce(n).getAccountProfitSummary(t.id)))+" ",1),Du]),Kn("td",null,[Jn(Z(Ce(e)("roi"))+": ",1),Kn("span",Fu,Z(Ce(n).getAccountROI(t.id).toFixed(1)),1),Jn(" "+Z(Ce(e)("days")),1)])])])]))])])])))),128)),l.value.length>1?(Wn(),Bn("div",Wu,[Kn("div",Uu,[Kn("div",Vu,[Kn("div",$u,Z(Ce(e)("fullDailyProfit")),1),Kn("div",Bu,[Kn("table",ju,[Kn("tr",Hu,[Kn("td",null,[Jn(Z(Ce(r)(Ce(n).getAllProfitSummary()))+" ",1),Yu]),Kn("td",null,[Jn(Z(Ce(e)("roi"))+": ",1),Kn("span",Gu,Z(Ce(n).getFullAccountROI().toFixed(1)),1),Jn(" "+Z(Ce(e)("days")),1)])])])])])])])):es("",!0)]))}}),Zu={class:"tool-type-summary"},Ku={class:"resources-container"},Qu={class:"card card-cascade wider"},qu={class:"view view-cascade grey darken-3"},Ju={class:"m-1"},td={class:"text-center"},ed={class:"chip gradbg-dark-grey shd mb-0 waves-effect resources-big"},id={class:"mt-2 ml-2"},nd=["src"],sd={class:"badge darken-3 md no-shadow"},od=Kn("i",{class:"ton-icon"},null,-1),rd={class:"d-inline-block w-50 b-atomic"},ld={class:"d-inline-block w-25 flex-right"},ad=["src","alt"],cd={class:"d-inline-block w-75 flex-right vtop"},hd={class:"d-block"},ud={class:"badge sm no-shadow"},dd=Kn("i",{class:"ton-icon"},null,-1),fd={class:"d-block mt-2"},pd={class:"ml-3 badge sm no-shadow"},md={class:"badge grey darken-2 sm ml-1"},vd={class:"d-inline-block w-50 b-alcor"},gd={key:0,class:"d-block fw_craft"},bd={class:"d-inline-block w-50 text-right"},_d={class:"badge ssm no-shadow"},yd=Kn("img",{src:xh,style:{height:"16px"}},null,-1),wd={class:"d-inline-block w-50 text-right"},Sd={class:"badge ssm no-shadow"},kd=Kn("i",{class:"ton-icon"},null,-1),Ed={key:1,class:"d-block fw_craft"},Cd={class:"d-inline-block w-50 text-right"},xd={class:"badge ssm no-shadow"},Md=Kn("img",{src:Oh,style:{height:"16px"}},null,-1),Od={class:"d-inline-block w-50 text-right"},Td={class:"badge ssm no-shadow"},Pd=Kn("i",{class:"ton-icon"},null,-1),Ld={class:"d-block fw_craft"},Nd={class:"d-inline-block w-50 text-right"},Id={class:"badge sm no-shadow"},Rd={class:"d-inline-block w-50 text-right"},Ad={class:"badge grey darken-2 sm"},zd=Kn("i",{class:"ton-icon"},null,-1),Dd={class:"resources-container"},Fd={class:"card card-cascade wider"},Wd={class:"view view-cascade grey darken-3"},Ud={class:"m-1"},Vd={class:"text-center"},$d={class:"chip gradbg-dark-grey shd mb-0 waves-effect resources-big"},Bd={class:"mt-2 ml-2"},jd=["src"],Hd={class:"badge darken-3 md no-shadow"},Yd=Kn("i",{class:"ton-icon"},null,-1),Gd={class:"d-block mt-4"},Xd={class:"d-inline-block w-100 b-atomic"},Zd={class:"d-inline-block w-20 flex-right"},Kd=["src"],Qd={class:"badge ssm no-shadow"},qd={class:"d-inline-block w-80 b-alcor"},Jd={class:"d-block fw_craft"},tf=Kn("div",{class:"d-inline-block w-60 text-right"},"   ",-1),ef={class:"d-inline-block w-40 text-right"},nf={class:"badge ssm no-shadow"},sf=["src"],of={class:"d-block fw_craft"},rf={class:"d-inline-block w-60 text-right"},lf={class:"badge sm no-shadow"},af={class:"d-inline-block w-40 text-right"},cf={class:"badge grey darken-2 sm"},hf=Kn("i",{class:"ton-icon"},null,-1),uf={class:"d-inline-block w-50 b-atomic pt-4"},df={class:"d-inline-block w-30 no-wrap flex-right pt-4"},ff={class:"badge sm no-shadow"},pf=Kn("br",null,null,-1),mf={class:"factory-cell-level"},vf={class:"d-inline-block w-70 flex-right vtop"},gf={class:"d-block"},bf={class:"badge sm no-shadow"},_f=Kn("i",{class:"ton-icon"},null,-1),yf={class:"d-block mt-2"},wf={class:"ml-3 badge sm no-shadow"},Sf={class:"badge grey darken-2 sm ml-1"},kf={class:"d-inline-block w-50 b-alcor"},Ef={class:"d-inline-block w-50 text-right"},Cf={class:"badge ssm no-shadow"},xf=["src"],Mf={class:"d-inline-block w-50 text-right"},Of={class:"badge ssm no-shadow"},Tf=Kn("i",{class:"ton-icon"},null,-1),Pf={class:"d-block fw_craft"},Lf={class:"d-inline-block w-50 text-right"},Nf={class:"badge sm no-shadow"},If={class:"d-inline-block w-50 text-right"},Rf={class:"badge grey darken-2 sm"},Af=Kn("i",{class:"ton-icon"},null,-1),zf=Si({__name:"ToolTypeSummary",setup(t){const{t:e}=bh(),i=ou(),n=Ch(),s=lu(),o=ws((()=>i.toolTypes)),r=ws((()=>n.prices));return(t,l)=>(Wn(),Bn(In,null,[Kn("div",Zu,[Kn("div",Ku,[(Wn(!0),Bn(In,null,Vi(o.value,((t,s)=>(Wn(),Bn("div",{key:s,class:"col-lg-4 col-md-6 col-sm-12 mb-4 text-center resource-item"},[Kn("div",Qu,[Kn("div",qu,[Kn("div",Ju,[Kn("div",td,[Kn("div",ed,[Kn("div",id,[Kn("img",{src:"/farm-world-space-calculator/img/"+String(s).toLowerCase()+".png"},null,8,nd),Kn("span",sd,[Jn(Z(Ce(Bh)(Ce(n).getResourcePrice(s)))+" ",1),od,Kn("span",{class:j(["badge ssm",{"green lighten-1":Ce(n).getPriceChangePercentage(s).includes("+"),"red lighten-1":!Ce(n).getPriceChangePercentage(s).includes("+")}])},Z(Ce(n).getPriceChangePercentage(s)),3)])])])]),(Wn(!0),Bn(In,null,Vi(t,(t=>(Wn(),Bn("div",{class:"d-block mt-4",key:t.name},[Kn("div",rd,[Kn("div",ld,[Kn("img",{src:t.icon,alt:t.name,class:"img-fluid ml-2"},null,8,ad)]),Kn("div",cd,[Kn("div",hd,[Kn("span",ud,Z(Ce(e)("dailyProfit"))+":",1),Kn("span",{class:j(["badge sm ml-1",{"gradbg-lime2":Ce(i).getToolDailyProfit(t)>0,"gradbg-red":Ce(i).getToolDailyProfit(t)<0}])},[Jn(Z(Ce(Bh)(Ce(i).getToolDailyProfit(t))),1),dd],2)]),Kn("div",fd,[Kn("span",pd,Z(Ce(e)("roi"))+":",1),Kn("span",md,Z(Ce(i).getToolDailyProfit(t)>0?Ce(i).getToolROI(t,Ce(i).getToolCraftCost(t)).days.toFixed(1):"🤷‍♂️"),1),Jn(" "+Z(Ce(e)("days")),1)])])]),Kn("div",vd,[t.wood>0?(Wn(),Bn("div",gd,[Kn("div",bd,[Kn("span",_d,Z(t.wood),1),yd]),Kn("div",wd,[Kn("span",Sd,[Jn(Z(Ce(Bh)(t.wood*r.value.wood)),1),kd])])])):es("",!0),t.gold>0?(Wn(),Bn("div",Ed,[Kn("div",Cd,[Kn("span",xd,Z(t.gold),1),Md]),Kn("div",Od,[Kn("span",Td,[Jn(Z(Ce(Bh)(t.gold*r.value.gold)),1),Pd])])])):es("",!0),Kn("div",Ld,[Kn("div",Nd,[Kn("span",Id,Z(Ce(e)("craftCost"))+":",1)]),Kn("div",Rd,[Kn("span",Ad,[Jn(Z(Ce(Bh)(Ce(i).getToolCraftCost(t))),1),zd])])])])])))),128))])])])])))),128))])]),Kn("div",Dd,[(Wn(!0),Bn(In,null,Vi(Ce(s).factories,((t,i)=>(Wn(),Bn("div",{key:i,class:"col-lg-4 col-md-6 col-sm-12 mb-4 text-center resource-item"},[Kn("div",Fd,[Kn("div",Wd,[Kn("div",Ud,[Kn("div",Vd,[Kn("div",$d,[Kn("div",Bd,[Kn("img",{src:"/farm-world-space-calculator/img/"+t.resource+".png"},null,8,jd),Kn("span",Hd,[Jn(Z(Ce(Bh)(Ce(n).getResourcePrice(t.resource)))+" ",1),Yd,Kn("span",{class:j(["badge ssm",{"green lighten-1":Ce(n).getPriceChangePercentage(t.resource).includes("+"),"red lighten-1":!Ce(n).getPriceChangePercentage(t.resource).includes("+")}])},Z(Ce(n).getPriceChangePercentage(t.resource)),3)])])])]),Kn("div",Gd,[Kn("div",Xd,[Kn("div",Zd,[Kn("img",{src:"/farm-world-space-calculator/img/"+i+".jpg",class:"img-fluid ml-2"},null,8,Kd),Kn("div",null,[Kn("span",Qd,Z(Ce(e)(i)),1)])]),Kn("div",qd,[Kn("div",Jd,[tf,Kn("div",ef,[Kn("span",nf,[Jn(Z(t.build_slot_cost)+" ",1),Kn("img",{src:"/farm-world-space-calculator/img/stone.png",style:{height:"16px"}},null,8,sf)])])]),Kn("div",of,[Kn("div",rf,[Kn("span",lf,Z(Ce(e)("buildSlotCost"))+":",1)]),Kn("div",af,[Kn("span",cf,[Jn(Z(Ce(Bh)(t.build_slot_cost*Ce(n).getResourcePrice("stone"))),1),hf])])])])])]),(Wn(!0),Bn(In,null,Vi(t.levels,(t=>(Wn(),Bn("div",{class:"d-block mt-4",key:t.level},[Kn("div",uf,[Kn("div",df,[Kn("span",ff,[Jn(Z(Ce(e)("level")),1),pf,Kn("div",mf,Z(t.level),1)])]),Kn("div",vf,[Kn("div",gf,[Kn("span",bf,Z(Ce(e)("dailyProfit"))+":",1),Kn("span",{class:j(["badge sm ml-1",{"gradbg-lime2":Ce(s).getFactoryDailyProfit(i,t.level)>0,"gradbg-red":Ce(s).getFactoryDailyProfit(i,t.level)<0}])},[Jn(Z(Ce(Bh)(Ce(s).getFactoryDailyProfit(i,t.level))),1),_f],2)]),Kn("div",yf,[Kn("span",wf,Z(Ce(e)("roi"))+":",1),Kn("span",Sf,Z(Ce(s).getFactoryDailyProfit(i,t.level)>0?Ce(s).getFactoryROI(i,t.level).days.toFixed(1):"🤷‍♂️"),1),Jn(" "+Z(Ce(e)("days")),1)])])]),Kn("div",kf,[(Wn(!0),Bn(In,null,Vi(t.up_level_price,((t,e)=>(Wn(),Bn("div",{class:"d-block fw_craft",key:e},[Kn("div",Ef,[Kn("span",Cf,Z(t),1),Kn("img",{src:"/farm-world-space-calculator/img/"+e+".png",style:{height:"16px"}},null,8,xf)]),Kn("div",Mf,[Kn("span",Of,[Jn(Z(Ce(Bh)((t||0)*Ce(n).getResourcePrice(e))),1),Tf])])])))),128)),Kn("div",Pf,[Kn("div",Lf,[Kn("span",Nf,Z(Ce(e)("upgradeCost"))+":",1)]),Kn("div",If,[Kn("span",Rf,[Jn(Z(Ce(Bh)(Ce(s).getFactoryUpgradeCost(i,t.level))),1),Af])])])])])))),128))])])])])))),128))])],64))}}),Df={class:"footer"},Ff={class:"text-center"},Wf=Kn("i",{class:"ton-icon"},null,-1),Uf={key:0,class:"copied-message"},Vf=Si({__name:"PageFooter",setup(t){const{t:e}=bh(),i=we(!1);async function n(){try{await navigator.clipboard.writeText("UQDv96pmc4Ze5tqMbC8I7I7jzZUu2kgGYL5-oe7tIs5HhNYr"),i.value=!0,setTimeout((()=>{i.value=!1}),2e3)}catch(t){}}return(t,s)=>(Wn(),Bn("footer",Df,[Kn("div",Ff,[Jn(Z(Ce(e)("appreciationText"))+" ",1),Kn("div",{class:"ton-address",onClick:n},[Jn(" UQDv96pmc4Ze5tqMbC8I7I7jzZUu2kgGYL5-oe7tIs5HhNYr"),Wf]),i.value?(Wn(),Bn("div",Uf,Z(Ce(e)("copiedMessage")),1)):es("",!0)])]))}}),$f={key:0,class:"modal"},Bf={class:"modal-dialog"},jf={class:"modal-content"},Hf={class:"modal-header"},Yf={class:"modal-title"},Gf=[Kn("span",{"aria-hidden":"true"},"×",-1)],Xf={class:"modal-body"},Zf={class:"form-group"},Kf={for:"toolType"},Qf={class:"icon-resource-select-wrapper icon-resource-select-wrapper--tools"},qf=["onClick"],Jf=["src"],tp={class:"icon-resource-select-resource"},ep={class:"form-group"},ip={for:"craftPrice"},np=Kn("i",{class:"ton-icon"},null,-1),sp={class:"modal-footer"},op=Si({__name:"AddToolModal",setup(t){const{t:e}=bh(),i=Th(),n=ou(),s=Sh(),o=ws((()=>i.showAddToolModal)),r=ws((()=>i.selectedAccountId)),l=we(0),a=ws((()=>n.tools)),c=we(a.value[0]);function h(){l.value=0,i.closeAddToolModal()}function u(){if(!c.value||!r.value)return;const t=s.accounts.find((t=>t.id===r.value));if(!t)return;const e={...c.value,craftPrice:l.value};t.tools.push(e),s.saveAccounts(),h()}return(t,i)=>o.value?(Wn(),Bn("div",$f,[Kn("div",Bf,[Kn("div",jf,[Kn("div",Hf,[Kn("h5",Yf,Z(Ce(e)("addTool")),1),Kn("button",{type:"button",class:"close",onClick:h,"aria-label":"Close"},Gf)]),Kn("div",Xf,[Kn("div",Zf,[Kn("label",Kf,Z(Ce(e)("chooseToolType")),1),Kn("div",Qf,[(Wn(!0),Bn(In,null,Vi(a.value,(t=>(Wn(),Bn("div",{key:t.name,class:j(["icon-resource-select-row",{"icon-resource-select-row--active":t.name===c.value.name}]),onClick:e=>c.value=t},[Kn("img",{src:t.icon,class:"icon-resource-select-img icon-resource-select-img--big"},null,8,Jf),Kn("div",tp,Z(Ce(e)(t.name)),1)],10,qf)))),128))])]),Kn("div",ep,[Kn("label",ip,[Jn(Z(Ce(e)("craftPriceFull")),1),np]),yi(Kn("input",{type:"number",id:"craftPrice","onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),class:"form-control",step:"0.0001"},null,512),[[Qs,l.value,void 0,{number:!0}]])])]),Kn("div",sp,[Kn("button",{type:"button",class:"btn btn-light",onClick:h},Z(Ce(e)("cancel")),1),Kn("button",{type:"button",class:"btn btn-primary",onClick:u},Z(Ce(e)("add")),1)])])])])):es("",!0)}}),rp={key:0,class:"modal"},lp={class:"modal-dialog"},ap={class:"modal-content"},cp={class:"modal-header"},hp={class:"modal-title"},up=[Kn("span",{"aria-hidden":"true"},"×",-1)],dp={class:"modal-body"},fp={class:"form-group"},pp={for:"factoryType"},mp={class:"icon-resource-select-wrapper"},vp=["onClick"],gp=["src"],bp={class:"icon-resource-select-resource"},_p={class:"form-group"},yp={for:"factoryType"},wp=["disabled"],Sp=["value"],kp={class:"form-group"},Ep={for:"craftPrice"},Cp=Kn("i",{class:"ton-icon"},null,-1),xp={class:"modal-footer"},Mp=Si({__name:"AddFactoryModal",setup(t){const{t:e}=bh(),i=Th(),n=lu(),s=Sh(),o=ws((()=>n.factories)),r=ws((()=>i.showAddFactoryModal)),l=ws((()=>i.selectedAccountId)),a=Object.entries(o.value)[0],c=we({data:a[1],name:a[0]}),h=we(null),u=we(0),d=ws((()=>c.value?c.value.data.levels.map((t=>t)):[]));function f(){u.value=0,i.closeAddFactoryModal()}function p(){if(!c.value||!l.value||!h.value)return;const t=s.accounts.find((t=>t.id===l.value));if(!t)return;t.factories||(t.factories=[]);const e={name:c.value.name,data:c.value.data,level:h.value,craftPrice:u.value};t.factories.push(e),s.saveAccounts(),f()}return(t,i)=>r.value?(Wn(),Bn("div",rp,[Kn("div",lp,[Kn("div",ap,[Kn("div",cp,[Kn("h5",hp,Z(Ce(e)("addFactory")),1),Kn("button",{type:"button",class:"close",onClick:f,"aria-label":"Close"},up)]),Kn("div",dp,[Kn("div",fp,[Kn("label",pp,Z(Ce(e)("chooseFactoryType")),1),Kn("div",mp,[(Wn(!0),Bn(In,null,Vi(o.value,((t,i)=>{var n;return Wn(),Bn("div",{key:i,class:j(["icon-resource-select-row",{"icon-resource-select-row--active":(null==(n=c.value)?void 0:n.name)===i}]),onClick:e=>c.value={name:i,data:t}},[Kn("img",{src:`/farm-world-space-calculator/img/${i}.jpg`,class:"icon-resource-select-img icon-resource-select-img--big"},null,8,gp),Kn("div",bp,Z(Ce(e)(i)),1)],10,vp)})),128))])]),Kn("div",_p,[Kn("label",yp,Z(Ce(e)("chooseFactoryLevel")),1),yi(Kn("select",{id:"factoryType","onUpdate:modelValue":i[0]||(i[0]=t=>h.value=t),class:"form-control",disabled:!c.value},[(Wn(!0),Bn(In,null,Vi(d.value,(t=>(Wn(),Bn("option",{key:t.level,value:t},Z(t.level),9,Sp)))),128))],8,wp),[[to,h.value]])]),Kn("div",kp,[Kn("label",Ep,[Jn(Z(Ce(e)("craftPriceFull")),1),Cp]),yi(Kn("input",{type:"number",id:"craftPrice","onUpdate:modelValue":i[1]||(i[1]=t=>u.value=t),class:"form-control",step:"0.0001"},null,512),[[Qs,u.value,void 0,{number:!0}]])])]),Kn("div",xp,[Kn("button",{type:"button",class:"btn btn-light",onClick:f},Z(Ce(e)("cancel")),1),Kn("button",{type:"button",class:"btn btn-primary",onClick:p},Z(Ce(e)("add")),1)])])])])):es("",!0)}}),Op={key:0,class:"modal"},Tp={class:"modal-dialog"},Pp={class:"modal-content"},Lp={class:"modal-header"},Np={class:"modal-title"},Ip=[Kn("span",{"aria-hidden":"true"},"×",-1)],Rp={class:"modal-body"},Ap=["innerHTML"],zp=Si({__name:"NewsModal",setup(t){const{locale:e,t:i}=bh(),n=we(!1);function s(){n.value=!1}const o=ws((()=>r[e.value]||[])),r={ru:{1716152400:{title:"Добавлены фактории в калькулятор аккаунтов",content:'Теперь в настройках есть кнопка "добавить фаторию"'}},en:{1716152400:{title:"",content:""}}};return(t,e)=>n.value?(Wn(),Bn("div",Op,[Kn("div",Tp,[Kn("div",Pp,[Kn("div",Lp,[Kn("h5",Np,Z(Ce(i)("siteNews")),1),Kn("button",{type:"button",class:"close",onClick:s,"aria-label":"Close"},Ip)]),Kn("div",Rp,[(Wn(!0),Bn(In,null,Vi(o.value,((t,e)=>(Wn(),Bn("div",{key:e},[Kn("div",null,[Kn("h5",null,Z(t.title),1),Kn("div",{innerHTML:t.content},null,8,Ap)])])))),128))])])])])):es("",!0)}}),Dp={},Fp={xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},Wp=[Kn("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z",fill:"#00afe4"},null,-1)];const Up=Ph(Dp,[["render",function(t,e){return Wn(),Bn("svg",Fp,Wp)}]]),Vp={},$p={xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},Bp=[Kn("path",{fill:"#3ebc00",d:"M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z"},null,-1)];const jp=Ph(Vp,[["render",function(t,e){return Wn(),Bn("svg",$p,Bp)}]]),Hp={},Yp={"clip-rule":"evenodd","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15"},Gp=[Kn("path",{d:"m11 11h-7.25c-.414 0-.75.336-.75.75s.336.75.75.75h7.25v7.25c0 .414.336.75.75.75s.75-.336.75-.75v-7.25h7.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-7.25v-7.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75z","fill-rule":"nonzero",fill:"#fff"},null,-1)];const Xp=Ph(Hp,[["render",function(t,e){return Wn(),Bn("svg",Yp,Gp)}]]),Zp={},Kp={xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 456 511.82",width:"15",height:"15"},Qp=[Kn("path",{fill:"#FD3B3B",d:"M48.42 140.13h361.99c17.36 0 29.82 9.78 28.08 28.17l-30.73 317.1c-1.23 13.36-8.99 26.42-25.3 26.42H76.34c-13.63-.73-23.74-9.75-25.09-24.14L20.79 168.99c-1.74-18.38 9.75-28.86 27.63-28.86zM24.49 38.15h136.47V28.1c0-15.94 10.2-28.1 27.02-28.1h81.28c17.3 0 27.65 11.77 27.65 28.01v10.14h138.66c.57 0 1.11.07 1.68.13 10.23.93 18.15 9.02 18.69 19.22.03.79.06 1.39.06 2.17v42.76c0 5.99-4.73 10.89-10.62 11.19-.54 0-1.09.03-1.63.03H11.22c-5.92 0-10.77-4.6-11.19-10.38 0-.72-.03-1.47-.03-2.23v-39.5c0-10.93 4.21-20.71 16.82-23.02 2.53-.45 5.09-.37 7.67-.37zm83.78 208.38c-.51-10.17 8.21-18.83 19.53-19.31 11.31-.49 20.94 7.4 21.45 17.57l8.7 160.62c.51 10.18-8.22 18.84-19.53 19.32-11.32.48-20.94-7.4-21.46-17.57l-8.69-160.63zm201.7-1.74c.51-10.17 10.14-18.06 21.45-17.57 11.32.48 20.04 9.14 19.53 19.31l-8.66 160.63c-.52 10.17-10.14 18.05-21.46 17.57-11.31-.48-20.04-9.14-19.53-19.32l8.67-160.62zm-102.94.87c0-10.23 9.23-18.53 20.58-18.53 11.34 0 20.58 8.3 20.58 18.53v160.63c0 10.23-9.24 18.53-20.58 18.53-11.35 0-20.58-8.3-20.58-18.53V245.66z"},null,-1)];const qp=Ph(Zp,[["render",function(t,e){return Wn(),Bn("svg",Kp,Qp)}]]),Jp={class:"settings-menu"},tm={class:"settings-menu-header"},em=[Kn("span",{"aria-hidden":"true"},"×",-1)],im={class:"settings-menu-content"},nm={key:0},sm={for:"woodPrice"},om=Kn("br",null,null,-1),rm={for:"foodPrice"},lm=Kn("br",null,null,-1),am={for:"goldPrice"},cm=Kn("br",null,null,-1),hm={class:"my-4"},um={key:3},dm={class:"accounts-list"},fm={class:"account-info"},pm={key:0,class:"account-actions"},mm=["onClick"],vm={class:"account-name"},gm={key:0},bm=["onUpdate:modelValue","onKeyup"],_m={class:"account-actions"},ym=["onClick"],wm={class:"account-tools"},Sm={key:0,class:"no-tools"},km={key:1,class:"tools-list"},Em=["src","alt"],Cm={class:"tool-name"},xm=["onClick"],Mm=["src","alt"],Om={class:"tool-name"},Tm=["onClick"],Pm=["onClick"],Lm=["onClick"],Nm={key:4,class:"no-accounts mb-2"},Im=Si({__name:"SettingsMenu",setup(t){const{t:e}=bh(),i=kh(),n=Ch(),s=Th(),o=Sh(),r=ws((()=>s.showSettingsMenu)),l=ws((()=>i.state)),a=ws((()=>n.prices)),c=ws((()=>o.accounts));function h(){s.toggleSettingsMenu()}function u(){i.setState("server"),n.fetchPrices()}return(t,i)=>r.value?(Wn(),Bn(In,{key:0},[Kn("div",{class:"settings-menu-close-area",onClick:h}),Kn("div",Jp,[Kn("div",tm,[Kn("h3",null,Z(Ce(e)("settings")),1),Kn("button",{type:"button",class:"close",onClick:h,"aria-label":"Close"},em)]),Kn("div",im,["local"===l.value?(Wn(),Bn("div",nm,[Kn("div",null,[Kn("label",sm,Z(Ce(e)("woodPrice"))+":",1),yi(Kn("input",{type:"number",id:"woodPrice","onUpdate:modelValue":i[0]||(i[0]=t=>a.value.wood=t),step:"0.0001"},null,512),[[Qs,a.value.wood,void 0,{number:!0}]]),om,Kn("label",rm,Z(Ce(e)("foodPrice"))+":",1),yi(Kn("input",{type:"number",id:"foodPrice","onUpdate:modelValue":i[1]||(i[1]=t=>a.value.food=t),step:"0.0001"},null,512),[[Qs,a.value.food,void 0,{number:!0}]]),lm,Kn("label",am,Z(Ce(e)("goldPrice"))+":",1),yi(Kn("input",{type:"number",id:"goldPrice","onUpdate:modelValue":i[2]||(i[2]=t=>a.value.gold=t),step:"0.0001"},null,512),[[Qs,a.value.gold,void 0,{number:!0}]]),cm])])):es("",!0),"server"===l.value?(Wn(),Bn("button",{key:1,onClick:i[3]||(i[3]=(...t)=>Ce(n).setManualPrices&&Ce(n).setManualPrices(...t)),class:"btn btn-light"},Z(Ce(e)("manualPrices")),1)):es("",!0),"local"===l.value?(Wn(),Bn("button",{key:2,onClick:u,class:"btn btn-primary"},Z(Ce(e)("fetchPrices")),1)):es("",!0),Kn("h5",hm,Z(Ce(e)("accounts")),1),c.value.length>0?(Wn(),Bn("div",um,[Kn("ul",dm,[(Wn(!0),Bn(In,null,Vi(c.value,(t=>(Wn(),Bn("li",{key:t.id,class:"account-item"},[Kn("div",fm,[!t.editing&&c.value.length>1?(Wn(),Bn("div",pm,[Kn("button",{onClick:e=>Ce(o).removeAccount(t.id),class:"remove-account-button"},[Qn(qp)],8,mm)])):es("",!0),Kn("div",vm,[t.editing?yi((Wn(),Bn("input",{key:1,type:"text","onUpdate:modelValue":e=>t.name=e,onKeyup:oo((e=>Ce(o).saveAccountName(t)),["enter"]),class:"account-name-input"},null,40,bm)),[[Qs,t.name]]):(Wn(),Bn("span",gm,Z(t.name),1))]),Kn("div",_m,[Kn("button",{onClick:e=>t.editing=!t.editing,class:"edit-account-button"},[(Wn(),jn(hi(t.editing?jp:Up)))],8,ym)])]),Kn("div",wm,[0===t.tools.length?(Wn(),Bn("div",Sm,Z(Ce(e)("noToolsAdded")),1)):(Wn(),Bn("ul",km,[(Wn(!0),Bn(In,null,Vi(t.tools,((e,i)=>(Wn(),Bn("li",{key:i,class:"tool-item"},[Kn("img",{src:e.icon,alt:e.name,class:"tool-icon"},null,8,Em),Kn("span",Cm,Z(e.name),1),Kn("button",{onClick:e=>Ce(o).removeUserTool(t.id,i),class:"remove-tool-button"},[Qn(qp)],8,xm)])))),128)),(Wn(!0),Bn(In,null,Vi(t.factories,((e,i)=>(Wn(),Bn("li",{key:i,class:"tool-item"},[Kn("img",{src:`/farm-world-space-calculator/img/${e.name}.jpg`,alt:e.name,class:"tool-icon"},null,8,Mm),Kn("span",Om,Z(e.name),1),Kn("button",{onClick:e=>Ce(o).removeUserTool(t.id,i),class:"remove-tool-button"},[Qn(qp)],8,Tm)])))),128))])),Kn("button",{onClick:e=>Ce(s).openAddToolModal(t.id),class:"btn btn-info add-tool-button"},[Qn(Xp,{class:"mr-2"}),Jn(" "+Z(Ce(e)("addTool")),1)],8,Pm),Kn("button",{onClick:e=>Ce(s).openAddFactoryModal(t.id),class:"btn btn-warning add-tool-button"},[Qn(Xp,{class:"mr-2"}),Jn(" "+Z(Ce(e)("addFactory")),1)],8,Lm)])])))),128))])])):(Wn(),Bn("div",Nm,Z(Ce(e)("noAccounts")),1)),Kn("button",{onClick:i[4]||(i[4]=(...t)=>Ce(o).addAccount&&Ce(o).addAccount(...t)),class:"btn btn-secondary mt-2"},Z(Ce(e)("addAccount")),1)])])],64)):es("",!0)}});function Rm(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function Am(t,e){return t.width===e.width&&t.height===e.height}var zm=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==i}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var Dm=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=Rm({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=e?e:function(t){return t},this._allowResizeObserver=null===(n=null==i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Rm({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=Rm(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Am(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=Rm(this._transformBitmapSize(t,this._canvasElementClientSize)),n=Am(this.bitmapSize,i)?null:i;null===e&&null===n||null!==e&&null!==n&&Am(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(i){t(i.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=Fm(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new zm(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=Fm(this._canvasElement);if(null!==i){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,s=this._canvasElement.getClientRects(),o=void 0!==s[0]?function(t,e){return Rm({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(s[0],n):Rm({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var i=e.find((function(e){return e.target===t._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],s=Rm({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(s)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function Fm(t){return t.ownerDocument.defaultView}var Wm=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Um(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var s=t.canvasElement.getContext("2d",e);return null===s?null:new Wm(s,i,n)}
/*!
 * @license
 * TradingView Lightweight Charts™ v4.1.3
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Vm={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$m={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Bm={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},jm={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Hm={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Ym={color:"#26a69a",base:0},Gm={color:"#2196f3"},Xm={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Zm,Km,Qm;function qm(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function Jm(t,e,i,n){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(i,e+s),t.lineTo(n,e+s),t.stroke()}function tv(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function ev(t){if(void 0===t)throw new Error("Value is undefined");return t}function iv(t){if(null===t)throw new Error("Value is null");return t}function nv(t){return iv(ev(t))}(Qm=Zm||(Zm={}))[Qm.Simple=0]="Simple",Qm[Qm.WithSteps=1]="WithSteps",Qm[Qm.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Km||(Km={}));const sv={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ov(t){return t<0?0:t>255?255:Math.round(t)||0}function rv(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}const lv=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,av=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,cv=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,hv=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function uv(t){(t=t.toLowerCase())in sv&&(t=sv[t]);{const e=hv.exec(t)||cv.exec(t);if(e)return[ov(parseInt(e[1],10)),ov(parseInt(e[2],10)),ov(parseInt(e[3],10)),rv(e.length<5?1:parseFloat(e[4]))]}{const e=av.exec(t);if(e)return[ov(parseInt(e[1],16)),ov(parseInt(e[2],16)),ov(parseInt(e[3],16)),1]}{const e=lv.exec(t);if(e)return[ov(17*parseInt(e[1],16)),ov(17*parseInt(e[2],16)),ov(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function dv(t){const e=uv(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:(i=e,.199*i[0]+.687*i[1]+.114*i[2]>160?"black":"white")};var i}class fv{constructor(){this.h=[]}l(t,e,i){const n={o:t,_:e,u:!0===i};this.h.push(n)}v(t){const e=this.h.findIndex((e=>t===e.o));e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter((e=>e._!==t))}m(t,e,i){const n=[...this.h];this.h=this.h.filter((t=>!t.u)),n.forEach((n=>n.o(t,e,i)))}M(){return this.h.length>0}S(){this.h=[]}}function pv(t,...e){for(const i of e)for(const e in i)void 0!==i[e]&&("object"!=typeof i[e]||void 0===t[e]||Array.isArray(i[e])?t[e]=i[e]:pv(t[e],i[e]));return t}function mv(t){return"number"==typeof t&&isFinite(t)}function vv(t){return"number"==typeof t&&t%1==0}function gv(t){return"string"==typeof t}function bv(t){return"boolean"==typeof t}function _v(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,s;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(s=e[n],i[n]=s&&"object"==typeof s?_v(s):s);return i}function yv(t){return null!==t}function wv(t){return null===t?void 0:t}const Sv="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function kv(t,e,i){return void 0===e&&(e=Sv),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class Ev{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),i=this.H();return t.P===e&&t.D===i||(t.P=e,t.D=i,t.R=kv(e,i),t.L=2.5/12*e,t.V=t.L,t.B=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Cv{constructor(){this.Y=[]}X(t){this.Y=t}K(t,e,i){this.Y.forEach((n=>{n.K(t,e,i)}))}}class xv{K(t,e,i){t.useBitmapCoordinateSpace((t=>this.Z(t,e,i)))}}class Mv extends xv{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.G||null===this.G.tt)return;const n=this.G.tt,s=this.G,o=Math.max(1,Math.floor(e))%2/2,r=r=>{t.beginPath();for(let l=n.to-1;l>=n.from;--l){const n=s.it[l],a=Math.round(n.nt*e)+o,c=n.st*i,h=r*i+o;t.moveTo(a,c),t.arc(a,c,h,0,2*Math.PI)}t.fill()};s.et>0&&(t.fillStyle=s.rt,r(s.ht+s.et)),t.fillStyle=s.lt,r(s.ht)}}function Ov(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const Tv={from:0,to:1};class Pv{constructor(t,e){this.ut=new Cv,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.X(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(Ov),this.ct=this.dt.map((t=>{const e=new Mv;return e.J(t),e})),this.ut.X(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=2===this.vt.W().mode,e=this.F.wt(),i=this.vt.xt(),n=this.F.St();e.forEach(((e,s)=>{var o;const r=this.dt[s],l=e.kt(i);if(t||null===l||!e.yt())return void(r.tt=null);const a=iv(e.Ct());r.lt=l.Tt,r.ht=l.ht,r.et=l.Pt,r.it[0]._t=l._t,r.it[0].st=e.Dt().Rt(l._t,a.Ot),r.rt=null!==(o=l.At)&&void 0!==o?o:this.F.Vt(r.it[0].st/e.Dt().Bt()),r.it[0].ot=i,r.it[0].nt=n.It(i),r.tt=Tv}))}}class Lv extends xv{constructor(t){super(),this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.zt)return;const s=this.zt.Lt.yt,o=this.zt.Et.yt;if(!s&&!o)return;const r=Math.round(this.zt.nt*i),l=Math.round(this.zt.st*n);t.lineCap="butt",s&&r>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*i),t.strokeStyle=this.zt.Lt.O,t.fillStyle=this.zt.Lt.O,qm(t,this.zt.Lt.Nt),function(t,e,i,n){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(e+s,0),t.lineTo(e+s,n),t.stroke()}(t,r,0,e.height)),o&&l>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*n),t.strokeStyle=this.zt.Et.O,t.fillStyle=this.zt.Et.O,qm(t,this.zt.Et.Nt),Jm(t,l,0,e.width))}}class Nv{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,O:"",yt:!1},Et:{et:1,Nt:0,O:"",yt:!1},nt:0,st:0},this.Wt=new Lv(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=iv(this.jt.Ht()),i=e.$t().W().crosshair,n=this.Ft;if(2===i.mode)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=t&&this.jt.Ut(e),n.Lt.yt=t&&this.jt.qt(),n.Et.et=i.horzLine.width,n.Et.Nt=i.horzLine.style,n.Et.O=i.horzLine.color,n.Lt.et=i.vertLine.width,n.Lt.Nt=i.vertLine.style,n.Lt.O=i.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Xt()}}function Iv(t,e,i,n,s,o){t.fillRect(e+o,i,n-2*o,o),t.fillRect(e+o,i+s-o,n-2*o,o),t.fillRect(e,i,o,s),t.fillRect(e+n-o,i,o,s)}function Rv(t,e,i,n,s,o){t.save(),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(e,i,n,s),t.restore()}function Av(t,e){return t.map((t=>0===t?t:t+e))}function zv(t,e,i,n,s,o){t.beginPath(),t.lineTo(e+n-o[1],i),0!==o[1]&&t.arcTo(e+n,i,e+n,i+o[1],o[1]),t.lineTo(e+n,i+s-o[2]),0!==o[2]&&t.arcTo(e+n,i+s,e+n-o[2],i+s,o[2]),t.lineTo(e+o[3],i+s),0!==o[3]&&t.arcTo(e,i+s,e,i+s-o[3],o[3]),t.lineTo(e,i+o[0]),0!==o[0]&&t.arcTo(e,i,e+o[0],i,o[0])}function Dv(t,e,i,n,s,o,r=0,l=[0,0,0,0],a=""){if(t.save(),!r||!a||a===o)return zv(t,e,i,n,s,l),t.fillStyle=o,t.fill(),void t.restore();const c=r/2;"transparent"!==o&&(zv(t,e+r,i+r,n-2*r,s-2*r,Av(l,-r)),t.fillStyle=o,t.fill()),"transparent"!==a&&(zv(t,e+c,i+c,n-r,s-r,Av(l,-c)),t.lineWidth=r,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function Fv(t,e,i,n,s,o,r){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,s);l.addColorStop(0,o),l.addColorStop(1,r),t.fillStyle=l,t.fillRect(e,i,n,s),t.restore()}class Wv{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Kt=e}Bt(t,e){return this.zt.yt?t.P+t.L+t.V:0}K(t,e,i,n){if(!this.zt.yt||0===this.zt.Zt.length)return;const s=this.zt.O,o=this.Kt.t,r=t.useBitmapCoordinateSpace((t=>{const r=t.context;r.font=e.R;const l=this.Gt(t,e,i,n),a=l.Jt,c=(t,e)=>{l.Qt?Dv(r,a.ti,a.ii,a.ni,a.si,t,a.ei,[a.ht,0,0,a.ht],e):Dv(r,a.ri,a.ii,a.ni,a.si,t,a.ei,[0,a.ht,a.ht,0],e)};return c(o,"transparent"),this.zt.hi&&(r.fillStyle=s,r.fillRect(a.ri,a.li,a.ai-a.ri,a.oi)),c("transparent",o),this.zt._i&&(r.fillStyle=e.A,r.fillRect(l.Qt?a.ui-a.ei:0,a.ii,a.ei,a.ci-a.ii)),l}));t.useMediaCoordinateSpace((({context:t})=>{const i=r.di;t.font=e.R,t.textAlign=r.Qt?"right":"left",t.textBaseline="middle",t.fillStyle=s,t.fillText(this.zt.Zt,i.fi,(i.ii+i.ci)/2+i.vi)}))}Gt(t,e,i,n){var s;const{context:o,bitmapSize:r,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:c}=t,h=this.zt.hi||!this.zt.pi?e.T:0,u=this.zt.mi?e.C:0,d=e.L+this.Kt.bi,f=e.V+this.Kt.wi,p=e.B,m=e.I,v=this.zt.Zt,g=e.P,b=i.gi(o,v),_=Math.ceil(i.Mi(o,v)),y=g+d+f,w=e.C+p+m+_+h,S=Math.max(1,Math.floor(c));let k=Math.round(y*c);k%2!=S%2&&(k+=1);const E=u>0?Math.max(1,Math.floor(u*a)):0,C=Math.round(w*a),x=Math.round(h*a),M=null!==(s=this.Kt.xi)&&void 0!==s?s:this.Kt.Si,O=Math.round(M*c)-Math.floor(.5*c),T=Math.floor(O+S/2-k/2),P=T+k,L="right"===n,N=L?l.width-u:u,I=L?r.width-E:E;let R,A,z;return L?(R=I-C,A=I-x,z=N-h-p-u):(R=I+C,A=I+x,z=N+h+p),{Qt:L,Jt:{ii:T,li:O,ci:P,ni:C,si:k,ht:2*a,ei:E,ti:R,ri:I,ai:A,oi:S,ui:r.width},di:{ii:T/c,ci:P/c,fi:z,vi:b}}}}class Uv{constructor(t){this.ki={Si:0,t:"#000",wi:0,bi:0},this.yi={Zt:"",yt:!1,hi:!0,pi:!1,At:"",O:"#FFF",_i:!1,mi:!1},this.Ci={Zt:"",yt:!1,hi:!1,pi:!0,At:"",O:"#FFF",_i:!0,mi:!0},this.ft=!0,this.Ti=new(t||Wv)(this.yi,this.ki),this.Pi=new(t||Wv)(this.Ci,this.ki)}Zt(){return this.Ri(),this.yi.Zt}Si(){return this.Ri(),this.ki.Si}bt(){this.ft=!0}Bt(t,e=!1){return Math.max(this.Ti.Bt(t,e),this.Pi.Bt(t,e))}Di(){return this.ki.xi||0}Oi(t){this.ki.xi=t}Ai(){return this.Ri(),this.yi.yt||this.Ci.yt}Vi(){return this.Ri(),this.yi.yt}gt(t){return this.Ri(),this.yi.hi=this.yi.hi&&t.W().ticksVisible,this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.J(this.yi,this.ki),this.Pi.J(this.Ci,this.ki),this.Ti}Bi(){return this.Ri(),this.Ti.J(this.yi,this.ki),this.Pi.J(this.Ci,this.ki),this.Pi}Ri(){this.ft&&(this.yi.hi=!0,this.Ci.hi=!1,this.Ii(this.yi,this.Ci,this.ki))}}class Vv extends Uv{constructor(t,e,i){super(),this.jt=t,this.zi=e,this.Li=i}Ii(t,e,i){if(t.yt=!1,2===this.jt.W().mode)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const s=this.zi.Ct();if(!this.jt.yt()||this.zi.Ei()||null===s)return;const o=dv(n.labelBackgroundColor);i.t=o.t,t.O=o.i;const r=2/12*this.zi.P();i.bi=r,i.wi=r;const l=this.Li(this.zi);i.Si=l.Si,t.Zt=this.zi.Ni(l._t,s),t.yt=!0}}const $v=/[1-9]/g;class Bv{constructor(){this.zt=null}J(t){this.zt=t}K(t,e){if(null===this.zt||!1===this.zt.yt||0===this.zt.Zt.length)return;const i=t.useMediaCoordinateSpace((({context:t})=>(t.font=e.R,Math.round(e.Fi.Mi(t,iv(this.zt).Zt,$v)))));if(i<=0)return;const n=e.Wi,s=i+2*n,o=s/2,r=this.zt.ji;let l=this.zt.Si,a=Math.floor(l-o)+.5;a<0?(l+=Math.abs(0-a),a=Math.floor(l-o)+.5):a+s>r&&(l-=Math.abs(r-(a+s)),a=Math.floor(l-o)+.5);const c=a+s,h=Math.ceil(0+e.C+e.T+e.L+e.P+e.V);t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:i,verticalPixelRatio:n})=>{const s=iv(this.zt);t.fillStyle=s.t;const o=Math.round(a*i),r=Math.round(0*n),l=Math.round(c*i),u=Math.round(h*n),d=Math.round(2*i);if(t.beginPath(),t.moveTo(o,r),t.lineTo(o,u-d),t.arcTo(o,u,o+d,u,d),t.lineTo(l-d,u),t.arcTo(l,u,l,u-d,d),t.lineTo(l,r),t.fill(),s.hi){const o=Math.round(s.Si*i),l=r,a=Math.round((l+e.T)*n);t.fillStyle=s.O;const c=Math.max(1,Math.floor(i)),h=Math.floor(.5*i);t.fillRect(o-h,l,c,a-l)}})),t.useMediaCoordinateSpace((({context:t})=>{const i=iv(this.zt),s=0+e.C+e.T+e.L+e.P/2;t.font=e.R,t.textAlign="left",t.textBaseline="middle",t.fillStyle=i.O;const o=e.Fi.gi(t,"Apr0");t.translate(a+n,s+o),t.fillText(i.Zt,0,0)}))}}class jv{constructor(t,e,i){this.ft=!0,this.Wt=new Bv,this.Ft={yt:!1,t:"#4c525e",O:"white",Zt:"",ji:0,Si:NaN,hi:!0},this.vt=t,this.Hi=e,this.Li=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const i=this.Hi.St();if(i.Ei())return;t.ji=i.ji();const n=this.Li();if(null===n)return;t.Si=n.Si;const s=i.$i(this.vt.xt());t.Zt=i.Ui(iv(s)),t.yt=!0;const o=dv(e.labelBackgroundColor);t.t=o.t,t.O=o.i,t.hi=i.W().ticksVisible}}class Hv{constructor(){this.qi=null,this.Yi=0}Xi(){return this.Yi}Ki(t){this.Yi=t}Dt(){return this.qi}Zi(t){this.qi=t}Gi(t){return[]}Ji(){return[]}yt(){return!0}}var Yv;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(Yv||(Yv={}));class Gv extends Hv{constructor(t,e){super(),this.Qi=null,this.tn=NaN,this.nn=0,this.sn=!0,this.en=new Map,this.rn=!1,this.hn=NaN,this.ln=NaN,this.an=NaN,this.on=NaN,this.Hi=t,this._n=e,this.un=new Pv(t,this),this.cn=((t,e)=>i=>{const n=e(),s=t();if(i===iv(this.Qi).dn())return{_t:s,Si:n};{const t=iv(i.Ct());return{_t:i.fn(n,t),Si:n}}})((()=>this.tn),(()=>this.ln));const i=((t,e)=>()=>{const i=this.Hi.St().vn(t()),n=e();return i&&Number.isFinite(n)?{ot:i,Si:n}:null})((()=>this.nn),(()=>this.Yt()));this.pn=new jv(this,t,i),this.mn=new Nv(this)}W(){return this._n}bn(t,e){this.an=t,this.on=e}wn(){this.an=NaN,this.on=NaN}gn(){return this.an}Mn(){return this.on}xn(t,e,i){this.rn||(this.rn=!0),this.sn=!0,this.Sn(t,e,i)}xt(){return this.nn}Yt(){return this.hn}Xt(){return this.ln}yt(){return this.sn}kn(){this.sn=!1,this.yn(),this.tn=NaN,this.hn=NaN,this.ln=NaN,this.Qi=null,this.wn()}Cn(t){return null!==this.Qi?[this.mn,this.un]:[]}Ut(t){return t===this.Qi&&this._n.horzLine.visible}qt(){return this._n.vertLine.visible}Tn(t,e){this.sn&&this.Qi===t||this.en.clear();const i=[];return this.Qi===t&&i.push(this.Pn(this.en,e,this.cn)),i}Ji(){return this.sn?[this.pn]:[]}Ht(){return this.Qi}Rn(){this.mn.bt(),this.en.forEach((t=>t.bt())),this.pn.bt(),this.un.bt()}Dn(t){return t&&!t.dn().Ei()?t.dn():null}Sn(t,e,i){this.On(t,e,i)&&this.Rn()}On(t,e,i){const n=this.hn,s=this.ln,o=this.tn,r=this.nn,l=this.Qi,a=this.Dn(i);this.nn=t,this.hn=isNaN(t)?NaN:this.Hi.St().It(t),this.Qi=i;const c=null!==a?a.Ct():null;return null!==a&&null!==c?(this.tn=e,this.ln=a.Rt(e,c)):(this.tn=NaN,this.ln=NaN),n!==this.hn||s!==this.ln||r!==this.nn||o!==this.tn||l!==this.Qi}yn(){const t=this.Hi.wt().map((t=>t.Vn().An())).filter(yv),e=0===t.length?null:Math.max(...t);this.nn=null!==e?e:NaN}Pn(t,e,i){let n=t.get(e);return void 0===n&&(n=new Vv(this,e,i),t.set(e,n)),n}}function Xv(t){return"left"===t||"right"===t}class Zv{constructor(t){this.Bn=new Map,this.In=[],this.zn=t}Ln(t,e){const i=(n=this.Bn.get(t),s=e,void 0===n?s:{En:Math.max(n.En,s.En),Nn:n.Nn||s.Nn});var n,s;this.Bn.set(t,i)}Fn(){return this.zn}Wn(t){const e=this.Bn.get(t);return void 0===e?{En:this.zn}:{En:Math.max(this.zn,e.En),Nn:e.Nn}}jn(){this.Hn(),this.In=[{$n:0}]}Un(t){this.Hn(),this.In=[{$n:1,Ot:t}]}qn(t){this.Yn(),this.In.push({$n:5,Ot:t})}Hn(){this.Yn(),this.In.push({$n:6})}Xn(){this.Hn(),this.In=[{$n:4}]}Kn(t){this.Hn(),this.In.push({$n:2,Ot:t})}Zn(t){this.Hn(),this.In.push({$n:3,Ot:t})}Gn(){return this.In}Jn(t){for(const e of t.In)this.Qn(e);this.zn=Math.max(this.zn,t.zn),t.Bn.forEach(((t,e)=>{this.Ln(e,t)}))}static ts(){return new Zv(2)}static ns(){return new Zv(3)}Qn(t){switch(t.$n){case 0:this.jn();break;case 1:this.Un(t.Ot);break;case 2:this.Kn(t.Ot);break;case 3:this.Zn(t.Ot);break;case 4:this.Xn();break;case 5:this.qn(t.Ot);break;case 6:this.Yn()}}Yn(){const t=this.In.findIndex((t=>5===t.$n));-1!==t&&this.In.splice(t,1)}}function Kv(t,e){if(!mv(t))return"n/a";if(!vv(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Qv{constructor(t,e){if(e||(e=1),mv(t)&&vv(t)||(t=100),t<0)throw new TypeError("invalid base");this.zi=t,this.ss=e,this.es()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.rs(t)}es(){if(this.hs=0,this.zi>0&&this.ss>0){let t=this.zi;for(;t>1;)t/=10,this.hs++}}rs(t){const e=this.zi/this.ss;let i=Math.floor(t),n="";const s=void 0!==this.hs?this.hs:NaN;if(e>1){let o=+(Math.round(t*e)-i*e).toFixed(this.hs);o>=e&&(o-=e,i+=1),n="."+Kv(+o.toFixed(this.hs)*this.ss,s)}else i=Math.round(i*e)/e,s>0&&(n="."+Kv(0,s));return i.toFixed(0)+n}}class qv extends Qv{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class Jv{constructor(t){this.ls=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.os(t):t<999995?e+this.os(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.os(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.os(t/1e9)+"B")}os(t){let e;const i=Math.pow(10,this.ls);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.ls).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((t,e)=>e))}}function tg(t,e,i,n,s,o,r){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:c}=t,h=e[n.from];let u=o(t,h),d=h;if(n.to-n.from<2){const e=s/2;l.beginPath();const i={nt:h.nt-e,st:h.st},n={nt:h.nt+e,st:h.st};l.moveTo(i.nt*a,i.st*c),l.lineTo(n.nt*a,n.st*c),r(t,u,i,n)}else{const s=(e,i)=>{r(t,u,d,i),l.beginPath(),u=e,d=i};let f=d;l.beginPath(),l.moveTo(h.nt*a,h.st*c);for(let r=n.from+1;r<n.to;++r){f=e[r];const n=o(t,f);switch(i){case 0:l.lineTo(f.nt*a,f.st*c);break;case 1:l.lineTo(f.nt*a,e[r-1].st*c),n!==u&&(s(n,f),l.lineTo(f.nt*a,e[r-1].st*c)),l.lineTo(f.nt*a,f.st*c);break;case 2:{const[t,i]=sg(e,r-1,r);l.bezierCurveTo(t.nt*a,t.st*c,i.nt*a,i.st*c,f.nt*a,f.st*c);break}}1!==i&&n!==u&&(s(n,f),l.moveTo(f.nt*a,f.st*c))}(d!==f||d===f&&1===i)&&r(t,u,d,f)}}const eg=6;function ig(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function ng(t,e){return{nt:t.nt/e,st:t.st/e}}function sg(t,e,i){const n=Math.max(0,e-1),s=Math.min(t.length-1,i+1);var o,r;return[(o=t[e],r=ng(ig(t[i],t[n]),eg),{nt:o.nt+r.nt,st:o.st+r.st}),ig(t[i],ng(ig(t[s],t[e]),eg))]}function og(t,e,i,n,s){const{context:o,horizontalPixelRatio:r,verticalPixelRatio:l}=e;o.lineTo(s.nt*r,t*l),o.lineTo(n.nt*r,t*l),o.closePath(),o.fillStyle=i,o.fill()}class rg extends xv{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){var e;if(null===this.G)return;const{it:i,tt:n,_s:s,et:o,Nt:r,us:l}=this.G,a=null!==(e=this.G.cs)&&void 0!==e?e:this.G.ds?0:t.mediaSize.height;if(null===n)return;const c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=o,qm(c,r),c.lineWidth=1,tg(t,i,l,n,s,this.fs.bind(this),og.bind(null,a))}}function lg(t,e,i){return Math.min(Math.max(t,e),i)}function ag(t,e,i){return e-t<=i}function cg(t){const e=Math.ceil(t);return e%2==0?e-1:e}class hg{vs(t,e){const i=this.ps,{bs:n,ws:s,gs:o,Ms:r,xs:l,cs:a}=e;if(void 0===this.Ss||void 0===i||i.bs!==n||i.ws!==s||i.gs!==o||i.Ms!==r||i.cs!==a||i.xs!==l){const i=t.context.createLinearGradient(0,0,0,l);if(i.addColorStop(0,n),null!=a){const e=lg(a*t.verticalPixelRatio/l,0,1);i.addColorStop(e,s),i.addColorStop(e,o)}i.addColorStop(1,r),this.Ss=i,this.ps=e}return this.Ss}}class ug extends rg{constructor(){super(...arguments),this.ks=new hg}fs(t,e){return this.ks.vs(t,{bs:e.ys,ws:"",gs:"",Ms:e.Cs,xs:t.bitmapSize.height})}}function dg(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class fg extends xv{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){if(null===this.G)return;const{it:e,tt:i,_s:n,us:s,et:o,Nt:r,Ts:l}=this.G;if(null===i)return;const a=t.context;a.lineCap="butt",a.lineWidth=o*t.verticalPixelRatio,qm(a,r),a.lineJoin="round";const c=this.Ps.bind(this);void 0!==s&&tg(t,e,s,i,n,c,dg),l&&function(t,e,i,n,s){const{horizontalPixelRatio:o,verticalPixelRatio:r,context:l}=t;let a=null;const c=Math.max(1,Math.floor(o))%2/2,h=i*r+c;for(let u=n.to-1;u>=n.from;--u){const i=e[u];if(i){const e=s(t,i);e!==a&&(l.beginPath(),null!==a&&l.fill(),l.fillStyle=e,a=e);const n=Math.round(i.nt*o)+c,u=i.st*r;l.moveTo(n,u),l.arc(n,u,h,0,2*Math.PI)}}l.fill()}(t,e,l,i,c)}}class pg extends fg{Ps(t,e){return e.lt}}function mg(t,e,i,n,s=0,o=e.length){let r=o-s;for(;0<r;){const o=r>>1,l=s+o;n(e[l],i)===t?(s=l+1,r-=o+1):r=o}return s}const vg=mg.bind(null,!0),gg=mg.bind(null,!1);function bg(t,e){return t.ot<e}function _g(t,e){return e<t.ot}function yg(t,e,i){const n=e.Rs(),s=e.ui(),o=vg(t,n,bg),r=gg(t,s,_g);if(!i)return{from:o,to:r};let l=o,a=r;return o>0&&o<t.length&&t[o].ot>=n&&(l=o-1),r>0&&r<t.length&&t[r-1].ot<=s&&(a=r+1),{from:l,to:a}}class wg{constructor(t,e,i){this.Ds=!0,this.Os=!0,this.As=!0,this.Vs=[],this.Bs=null,this.Is=t,this.zs=e,this.Ls=i}bt(t){this.Ds=!0,"data"===t&&(this.Os=!0),"options"===t&&(this.As=!0)}gt(){return this.Is.yt()?(this.Es(),null===this.Bs?null:this.Ns):null}Fs(){this.Vs=this.Vs.map((t=>Object.assign(Object.assign({},t),this.Is.js().Ws(t.ot))))}Hs(){this.Bs=null}Es(){this.Os&&(this.$s(),this.Os=!1),this.As&&(this.Fs(),this.As=!1),this.Ds&&(this.Us(),this.Ds=!1)}Us(){const t=this.Is.Dt(),e=this.zs.St();if(this.Hs(),e.Ei()||t.Ei())return;const i=e.qs();if(null===i)return;if(0===this.Is.Vn().Ys())return;const n=this.Is.Ct();null!==n&&(this.Bs=yg(this.Vs,i,this.Ls),this.Xs(t,e,n.Ot),this.Ks())}}class Sg extends wg{constructor(t,e){super(t,e,!0)}Xs(t,e,i){e.Zs(this.Vs,wv(this.Bs)),t.Gs(this.Vs,i,wv(this.Bs))}Js(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map((e=>{const i=e.Ot[3];return this.te(e.ie,i,t)}))}}class kg extends Sg{constructor(t,e){super(t,e),this.Ns=new Cv,this.ne=new ug,this.se=new pg,this.Ns.X([this.ne,this.se])}te(t,e,i){return Object.assign(Object.assign({},this.Js(t,e)),i.Ws(t))}Ks(){const t=this.Is.W();this.ne.J({us:t.lineType,it:this.Vs,Nt:t.lineStyle,et:t.lineWidth,cs:null,ds:t.invertFilledArea,tt:this.Bs,_s:this.zs.St().ee()}),this.se.J({us:t.lineVisible?t.lineType:void 0,it:this.Vs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Bs,_s:this.zs.St().ee(),Ts:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class Eg extends xv{constructor(){super(...arguments),this.zt=null,this.re=0,this.he=0}J(t){this.zt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.zt||0===this.zt.Vn.length||null===this.zt.tt)return;this.re=this.le(e),this.re>=2&&Math.max(1,Math.floor(e))%2!=this.re%2&&this.re--,this.he=this.zt.ae?Math.min(this.re,Math.floor(e)):this.re;let n=null;const s=this.he<=this.re&&this.zt.ee>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const r=this.zt.Vn[o];n!==r.oe&&(t.fillStyle=r.oe,n=r.oe);const l=Math.floor(.5*this.he),a=Math.round(r.nt*e),c=a-l,h=this.he,u=c+h-1,d=Math.min(r._e,r.ue),f=Math.max(r._e,r.ue),p=Math.round(d*i)-l,m=Math.round(f*i)+l,v=Math.max(m-p,this.he);t.fillRect(c,p,h,v);const g=Math.ceil(1.5*this.re);if(s){if(this.zt.ce){const e=a-g;let n=Math.max(p,Math.round(r.de*i)-l),s=n+h-1;s>p+v-1&&(s=p+v-1,n=s-h+1),t.fillRect(e,n,c-e,s-n+1)}const e=a+g;let n=Math.max(p,Math.round(r.fe*i)-l),s=n+h-1;s>p+v-1&&(s=p+v-1,n=s-h+1),t.fillRect(u+1,n,e-u,s-n+1)}}}le(t){const e=Math.floor(t);return Math.max(e,Math.floor((i=iv(this.zt).ee,n=t,Math.floor(.3*i*n))));var i,n}}class Cg extends wg{constructor(t,e){super(t,e,!1)}Xs(t,e,i){e.Zs(this.Vs,wv(this.Bs)),t.ve(this.Vs,i,wv(this.Bs))}pe(t,e,i){return{ot:t,me:e.Ot[0],be:e.Ot[1],we:e.Ot[2],ge:e.Ot[3],nt:NaN,de:NaN,_e:NaN,ue:NaN,fe:NaN}}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map((e=>this.te(e.ie,e,t)))}}class xg extends Cg{constructor(){super(...arguments),this.Ns=new Eg}te(t,e,i){return Object.assign(Object.assign({},this.pe(t,e,i)),i.Ws(t))}Ks(){const t=this.Is.W();this.Ns.J({Vn:this.Vs,ee:this.zs.St().ee(),ce:t.openVisible,ae:t.thinBars,tt:this.Bs})}}class Mg extends rg{constructor(){super(...arguments),this.ks=new hg}fs(t,e){const i=this.G;return this.ks.vs(t,{bs:e.Me,ws:e.xe,gs:e.Se,Ms:e.ke,xs:t.bitmapSize.height,cs:i.cs})}}class Og extends fg{constructor(){super(...arguments),this.ye=new hg}Ps(t,e){const i=this.G;return this.ye.vs(t,{bs:e.Ce,ws:e.Ce,gs:e.Te,Ms:e.Te,xs:t.bitmapSize.height,cs:i.cs})}}class Tg extends Sg{constructor(t,e){super(t,e),this.Ns=new Cv,this.Pe=new Mg,this.Re=new Og,this.Ns.X([this.Pe,this.Re])}te(t,e,i){return Object.assign(Object.assign({},this.Js(t,e)),i.Ws(t))}Ks(){const t=this.Is.Ct();if(null===t)return;const e=this.Is.W(),i=this.Is.Dt().Rt(e.baseValue.price,t.Ot),n=this.zs.St().ee();this.Pe.J({it:this.Vs,et:e.lineWidth,Nt:e.lineStyle,us:e.lineType,cs:i,ds:!1,tt:this.Bs,_s:n}),this.Re.J({it:this.Vs,et:e.lineWidth,Nt:e.lineStyle,us:e.lineVisible?e.lineType:void 0,Ts:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,cs:i,tt:this.Bs,_s:n})}}class Pg extends xv{constructor(){super(...arguments),this.zt=null,this.re=0}J(t){this.zt=t}Z(t){if(null===this.zt||0===this.zt.Vn.length||null===this.zt.tt)return;const{horizontalPixelRatio:e}=t;this.re=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),s=Math.floor(t*e),o=Math.min(n,s);return Math.max(Math.floor(e),o)}(this.zt.ee,e),this.re>=2&&Math.floor(e)%2!=this.re%2&&this.re--;const i=this.zt.Vn;this.zt.De&&this.Oe(t,i,this.zt.tt),this.zt._i&&this.Ae(t,i,this.zt.tt);const n=this.Ve(e);(!this.zt._i||this.re>2*n)&&this.Be(t,i,this.zt.tt)}Oe(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:s,verticalPixelRatio:o}=t;let r="",l=Math.min(Math.floor(s),Math.floor(this.zt.ee*s));l=Math.max(Math.floor(s),Math.min(l,this.re));const a=Math.floor(.5*l);let c=null;for(let h=i.from;h<i.to;h++){const t=e[h];t.Ie!==r&&(n.fillStyle=t.Ie,r=t.Ie);const i=Math.round(Math.min(t.de,t.fe)*o),u=Math.round(Math.max(t.de,t.fe)*o),d=Math.round(t._e*o),f=Math.round(t.ue*o);let p=Math.round(s*t.nt)-a;const m=p+l-1;null!==c&&(p=Math.max(c+1,p),p=Math.min(p,m));const v=m-p+1;n.fillRect(p,d,v,i-d),n.fillRect(p,u+1,v,f-u),c=m}}Ve(t){let e=Math.floor(1*t);this.re<=2*e&&(e=Math.floor(.5*(this.re-1)));const i=Math.max(Math.floor(t),e);return this.re<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Ae(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:s,verticalPixelRatio:o}=t;let r="";const l=this.Ve(s);let a=null;for(let c=i.from;c<i.to;c++){const t=e[c];t.ze!==r&&(n.fillStyle=t.ze,r=t.ze);let i=Math.round(t.nt*s)-Math.floor(.5*this.re);const h=i+this.re-1,u=Math.round(Math.min(t.de,t.fe)*o),d=Math.round(Math.max(t.de,t.fe)*o);if(null!==a&&(i=Math.max(a+1,i),i=Math.min(i,h)),this.zt.ee*s>2*l)Iv(n,i,u,h-i+1,d-u+1,l);else{const t=h-i+1;n.fillRect(i,u,t,d-u+1)}a=h}}Be(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:s,verticalPixelRatio:o}=t;let r="";const l=this.Ve(s);for(let a=i.from;a<i.to;a++){const t=e[a];let i=Math.round(Math.min(t.de,t.fe)*o),c=Math.round(Math.max(t.de,t.fe)*o),h=Math.round(t.nt*s)-Math.floor(.5*this.re),u=h+this.re-1;if(t.oe!==r){const e=t.oe;n.fillStyle=e,r=e}this.zt._i&&(h+=l,i+=l,u-=l,c-=l),i>c||n.fillRect(h,i,u-h+1,c-i+1)}}}class Lg extends Cg{constructor(){super(...arguments),this.Ns=new Pg}te(t,e,i){return Object.assign(Object.assign({},this.pe(t,e,i)),i.Ws(t))}Ks(){const t=this.Is.W();this.Ns.J({Vn:this.Vs,ee:this.zs.St().ee(),De:t.wickVisible,_i:t.borderVisible,tt:this.Bs})}}class Ng{constructor(t,e){this.Le=t,this.zi=e}K(t,e,i){this.Le.draw(t,this.zi,e,i)}}class Ig extends wg{constructor(t,e,i){super(t,e,!1),this.mn=i,this.Ns=new Ng(this.mn.renderer(),(e=>{const i=t.Ct();return null===i?null:t.Dt().Rt(e,i.Ot)}))}Ee(t){return this.mn.priceValueBuilder(t)}Ne(t){return this.mn.isWhitespace(t)}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map((e=>Object.assign(Object.assign({ot:e.ie,nt:NaN},t.Ws(e.ie)),{Fe:e.We})))}Xs(t,e){e.Zs(this.Vs,wv(this.Bs))}Ks(){this.mn.update({bars:this.Vs.map(Rg),barSpacing:this.zs.St().ee(),visibleRange:this.Bs},this.Is.W())}}function Rg(t){return{x:t.nt,time:t.ot,originalData:t.Fe,barColor:t.oe}}class Ag extends xv{constructor(){super(...arguments),this.zt=null,this.je=[]}J(t){this.zt=t,this.je=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.je.length||this.He(e);const n=Math.max(1,Math.floor(i)),s=Math.round(this.zt.$e*i)-Math.floor(n/2),o=s+n;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const e=this.zt.it[r],l=this.je[r-this.zt.tt.from],a=Math.round(e.st*i);let c,h;t.fillStyle=e.oe,a<=s?(c=a,h=o):(c=s,h=a-Math.floor(n/2)+n),t.fillRect(l.Rs,c,l.ui-l.Rs+1,h-c)}}He(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.je=[]);const e=Math.ceil(this.zt.ee*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.zt.ee*t)-e;this.je=new Array(this.zt.tt.to-this.zt.tt.from);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const e=this.zt.it[s],n=Math.round(e.nt*t);let o,r;if(i%2){const t=(i-1)/2;o=n-t,r=n+t}else{const t=i/2;o=n-t,r=n+t-1}this.je[s-this.zt.tt.from]={Rs:o,ui:r,Ue:n,qe:e.nt*t,ot:e.ot}}for(let s=this.zt.tt.from+1;s<this.zt.tt.to;s++){const t=this.je[s-this.zt.tt.from],i=this.je[s-this.zt.tt.from-1];t.ot===i.ot+1&&t.Rs-i.ui!==e+1&&(i.Ue>i.qe?i.ui=t.Rs-e-1:t.Rs=i.ui+e+1)}let n=Math.ceil(this.zt.ee*t);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const t=this.je[s-this.zt.tt.from];t.ui<t.Rs&&(t.ui=t.Rs);const e=t.ui-t.Rs+1;n=Math.min(e,n)}if(e>0&&n<4)for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const t=this.je[s-this.zt.tt.from];t.ui-t.Rs+1>n&&(t.Ue>t.qe?t.ui-=1:t.Rs+=1)}}}class zg extends Sg{constructor(){super(...arguments),this.Ns=new Ag}te(t,e,i){return Object.assign(Object.assign({},this.Js(t,e)),i.Ws(t))}Ks(){const t={it:this.Vs,ee:this.zs.St().ee(),tt:this.Bs,$e:this.Is.Dt().Rt(this.Is.W().base,iv(this.Is.Ct()).Ot)};this.Ns.J(t)}}class Dg extends Sg{constructor(){super(...arguments),this.Ns=new pg}te(t,e,i){return Object.assign(Object.assign({},this.Js(t,e)),i.Ws(t))}Ks(){const t=this.Is.W(),e={it:this.Vs,Nt:t.lineStyle,us:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ts:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Bs,_s:this.zs.St().ee()};this.Ns.J(e)}}const Fg=/[2-9]/g;class Wg{constructor(t=50){this.Ye=0,this.Xe=1,this.Ke=1,this.Ze={},this.Ge=new Map,this.Je=t}Qe(){this.Ye=0,this.Ge.clear(),this.Xe=1,this.Ke=1,this.Ze={}}Mi(t,e,i){return this.tr(t,e,i).width}gi(t,e,i){const n=this.tr(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}tr(t,e,i){const n=i||Fg,s=String(e).replace(n,"0");if(this.Ge.has(s))return ev(this.Ge.get(s)).ir;if(this.Ye===this.Je){const t=this.Ze[this.Ke];delete this.Ze[this.Ke],this.Ge.delete(t),this.Ke++,this.Ye--}t.save(),t.textBaseline="middle";const o=t.measureText(s);return t.restore(),0===o.width&&e.length||(this.Ge.set(s,{ir:o,nr:this.Xe}),this.Ze[this.Xe]=s,this.Ye++,this.Xe++),o}}class Ug{constructor(t){this.sr=null,this.k=null,this.er="right",this.rr=t}hr(t,e,i){this.sr=t,this.k=e,this.er=i}K(t){null!==this.k&&null!==this.sr&&this.sr.K(t,this.k,this.rr,this.er)}}class Vg{constructor(t,e,i){this.lr=t,this.rr=new Wg(50),this.ar=e,this.F=i,this.j=-1,this.Wt=new Ug(this.rr)}gt(){const t=this.F._r(this.ar);if(null===t)return null;const e=t.ur(this.ar)?t.cr():this.ar.Dt();if(null===e)return null;const i=t.dr(e);if("overlay"===i)return null;const n=this.F.vr();return n.P!==this.j&&(this.j=n.P,this.rr.Qe()),this.Wt.hr(this.lr.Bi(),n,i),this.Wt}}class $g extends xv{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}pr(t,e){var i;if(!(null===(i=this.zt)||void 0===i?void 0:i.yt))return null;const{st:n,et:s,mr:o}=this.zt;return e>=n-s-7&&e<=n+s+7?{br:this.zt,mr:o}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.zt)return;if(!1===this.zt.yt)return;const s=Math.round(this.zt.st*n);s<0||s>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.O,t.lineWidth=Math.floor(this.zt.et*i),qm(t,this.zt.Nt),Jm(t,s,0,e.width))}}class Bg{constructor(t){this.wr={st:0,O:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.gr=new $g,this.ft=!0,this.Is=t,this.zs=t.$t(),this.gr.J(this.wr)}bt(){this.ft=!0}gt(){return this.Is.yt()?(this.ft&&(this.Mr(),this.ft=!1),this.gr):null}}class jg extends Bg{constructor(t){super(t)}Mr(){this.wr.yt=!1;const t=this.Is.Dt(),e=t.Sr().Sr;if(2!==e&&3!==e)return;const i=this.Is.W();if(!i.baseLineVisible||!this.Is.yt())return;const n=this.Is.Ct();null!==n&&(this.wr.yt=!0,this.wr.st=t.Rt(n.Ot,n.Ot),this.wr.O=i.baseLineColor,this.wr.et=i.baseLineWidth,this.wr.Nt=i.baseLineStyle)}}class Hg extends xv{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}We(){return this.zt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const n=this.zt;if(null===n)return;const s=Math.max(1,Math.floor(e)),o=s%2/2,r=Math.round(n.qe.x*e)+o,l=n.qe.y*i;t.fillStyle=n.kr,t.beginPath();const a=Math.max(2,1.5*n.yr)*e;t.arc(r,l,a,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.Cr,t.beginPath(),t.arc(r,l,n.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=s,t.strokeStyle=n.Tr,t.beginPath(),t.arc(r,l,n.ht*e+s/2,0,2*Math.PI,!1),t.stroke()}}const Yg=[{Pr:0,Rr:.25,Dr:4,Or:10,Ar:.25,Vr:0,Br:.4,Ir:.8},{Pr:.25,Rr:.525,Dr:10,Or:14,Ar:0,Vr:0,Br:.8,Ir:0},{Pr:.525,Rr:1,Dr:14,Or:14,Ar:0,Vr:0,Br:0,Ir:0}];function Gg(t,e,i,n){return function(t,e){if("transparent"===t)return t;const i=uv(t),n=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*n})`}(t,i+(n-i)*e)}function Xg(t,e){const i=t%2600/2600;let n;for(const a of Yg)if(i>=a.Pr&&i<=a.Rr){n=a;break}tv(void 0!==n,"Last price animation internal logic error");const s=(i-n.Pr)/(n.Rr-n.Pr);return{Cr:Gg(e,s,n.Ar,n.Vr),Tr:Gg(e,s,n.Br,n.Ir),ht:(o=s,r=n.Dr,l=n.Or,r+(l-r)*o)};var o,r,l}class Zg{constructor(t){this.Wt=new Hg,this.ft=!0,this.zr=!0,this.Lr=performance.now(),this.Er=this.Lr-1,this.Nr=t}Fr(){this.Er=this.Lr-1,this.bt()}Wr(){if(this.bt(),2===this.Nr.W().lastPriceAnimation){const t=performance.now(),e=this.Er-t;if(e>0)return void(e<650&&(this.Er+=2600));this.Lr=t,this.Er=t+2600}}bt(){this.ft=!0}jr(){this.zr=!0}yt(){return 0!==this.Nr.W().lastPriceAnimation}Hr(){switch(this.Nr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Er}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.zr=!1):this.zr&&(this.$r(),this.zr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Nr.$t().St(),e=t.qs(),i=this.Nr.Ct();if(null===e||null===i)return;const n=this.Nr.Ur(!0);if(n.qr||!e.Yr(n.ie))return;const s={x:t.It(n.ie),y:this.Nr.Dt().Rt(n._t,i.Ot)},o=n.O,r=this.Nr.W().lineWidth,l=Xg(this.Xr(),o);this.Wt.J({kr:o,yr:r,Cr:l.Cr,Tr:l.Tr,ht:l.ht,qe:s})}$r(){const t=this.Wt.We();if(null!==t){const e=Xg(this.Xr(),t.kr);t.Cr=e.Cr,t.Tr=e.Tr,t.ht=e.ht}}Xr(){return this.Hr()?performance.now()-this.Lr:2599}}function Kg(t,e){return cg(Math.min(Math.max(t,12),30)*e)}function Qg(t,e){switch(t){case"arrowDown":case"arrowUp":return Kg(e,1);case"circle":return Kg(e,.8);case"square":return Kg(e,.7)}}function qg(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Kg(t,1))}function Jg(t){return Math.max(Kg(t,.1),3)}function tb(t,e,i,n,s){const o=Qg("square",i),r=(o-1)/2,l=t-r,a=e-r;return n>=l&&n<=l+o&&s>=a&&s<=a+o}function eb(t,e,i,n){const s=(Qg("arrowUp",n)-1)/2*i.Kr,o=(cg(n/2)-1)/2*i.Kr;e.beginPath(),t?(e.moveTo(i.nt-s,i.st),e.lineTo(i.nt,i.st-s),e.lineTo(i.nt+s,i.st),e.lineTo(i.nt+o,i.st),e.lineTo(i.nt+o,i.st+s),e.lineTo(i.nt-o,i.st+s),e.lineTo(i.nt-o,i.st)):(e.moveTo(i.nt-s,i.st),e.lineTo(i.nt,i.st+s),e.lineTo(i.nt+s,i.st),e.lineTo(i.nt+o,i.st),e.lineTo(i.nt+o,i.st-s),e.lineTo(i.nt-o,i.st-s),e.lineTo(i.nt-o,i.st)),e.fill()}class ib extends xv{constructor(){super(...arguments),this.zt=null,this.rr=new Wg,this.j=-1,this.H="",this.Zr=""}J(t){this.zt=t}hr(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Zr=kv(t,e),this.rr.Qe())}pr(t,e){if(null===this.zt||null===this.zt.tt)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const n=this.zt.it[i];if(sb(n,t,e))return{br:n.Gr,mr:n.mr}}return null}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i},n,s){if(null!==this.zt&&null!==this.zt.tt){t.textBaseline="middle",t.font=this.Zr;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){const s=this.zt.it[n];void 0!==s.Zt&&(s.Zt.ji=this.rr.Mi(t,s.Zt.Jr),s.Zt.Bt=this.j,s.Zt.nt=s.nt-s.Zt.ji/2),nb(s,t,e,i)}}}}function nb(t,e,i,n){var s,o,r,l,a,c;e.fillStyle=t.O,void 0!==t.Zt&&(s=e,o=t.Zt.Jr,r=t.Zt.nt,l=t.Zt.st,a=i,c=n,s.save(),s.scale(a,c),s.fillText(o,r,l),s.restore()),function(t,e,i){if(0!==t.Ys){switch(t.Qr){case"arrowDown":return void eb(!1,e,i,t.Ys);case"arrowUp":return void eb(!0,e,i,t.Ys);case"circle":return void function(t,e,i){const n=(Qg("circle",i)-1)/2;t.beginPath(),t.arc(e.nt,e.st,n*e.Kr,0,2*Math.PI,!1),t.fill()}(e,i,t.Ys);case"square":return void function(t,e,i){const n=Qg("square",i),s=(n-1)*e.Kr/2,o=e.nt-s,r=e.st-s;t.fillRect(o,r,n*e.Kr,n*e.Kr)}(e,i,t.Ys)}t.Qr}}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{nt:Math.round(t.nt*e)+n,st:t.st*i,Kr:e}}(t,i,n))}function sb(t,e,i){return!(void 0===t.Zt||!function(t,e,i,n,s,o){const r=n/2;return s>=t&&s<=t+i&&o>=e-r&&o<=e+r}(t.Zt.nt,t.Zt.st,t.Zt.ji,t.Zt.Bt,e,i))||function(t,e,i){if(0===t.Ys)return!1;switch(t.Qr){case"arrowDown":case"arrowUp":return function(t,e,i,n,s,o){return tb(e,i,n,s,o)}(0,t.nt,t.st,t.Ys,e,i);case"circle":return function(t,e,i,n,s){const o=2+Qg("circle",i)/2,r=t-n,l=e-s;return Math.sqrt(r*r+l*l)<=o}(t.nt,t.st,t.Ys,e,i);case"square":return tb(t.nt,t.st,t.Ys,e,i)}}(t,e,i)}function ob(t,e,i,n,s,o,r,l,a){const c=mv(i)?i:i.ge,h=mv(i)?i:i.be,u=mv(i)?i:i.we,d=mv(e.size)?Math.max(e.size,0):1,f=qg(l.ee())*d,p=f/2;switch(t.Ys=f,e.position){case"inBar":return t.st=r.Rt(c,a),void(void 0!==t.Zt&&(t.Zt.st=t.st+p+o+.6*s));case"aboveBar":return t.st=r.Rt(h,a)-p-n.th,void 0!==t.Zt&&(t.Zt.st=t.st-p-.6*s,n.th+=1.2*s),void(n.th+=f+o);case"belowBar":return t.st=r.Rt(u,a)+p+n.ih,void 0!==t.Zt&&(t.Zt.st=t.st+p+o+.6*s,n.ih+=1.2*s),void(n.ih+=f+o)}e.position}class rb{constructor(t,e){this.ft=!0,this.nh=!0,this.sh=!0,this.eh=null,this.Wt=new ib,this.Nr=t,this.Hi=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.sh=!0,"data"===t&&(this.nh=!0)}gt(t){if(!this.Nr.yt())return null;this.ft&&this.rh();const e=this.Hi.W().layout;return this.Wt.hr(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}hh(){if(this.sh){if(this.Nr.lh().length>0){const t=this.Hi.St().ee(),e=Jg(t),i=1.5*qg(t)+2*e;this.eh={above:i,below:i}}else this.eh=null;this.sh=!1}return this.eh}rh(){const t=this.Nr.Dt(),e=this.Hi.St(),i=this.Nr.lh();this.nh&&(this.zt.it=i.map((t=>({ot:t.time,nt:0,st:0,Ys:0,Qr:t.shape,O:t.color,Gr:t.Gr,mr:t.id,Zt:void 0}))),this.nh=!1);const n=this.Hi.W().layout;this.zt.tt=null;const s=e.qs();if(null===s)return;const o=this.Nr.Ct();if(null===o)return;if(0===this.zt.it.length)return;let r=NaN;const l=Jg(e.ee()),a={th:l,ih:l};this.zt.tt=yg(this.zt.it,s,!0);for(let c=this.zt.tt.from;c<this.zt.tt.to;c++){const s=i[c];s.time!==r&&(a.th=l,a.ih=l,r=s.time);const h=this.zt.it[c];h.nt=e.It(s.time),void 0!==s.text&&s.text.length>0&&(h.Zt={Jr:s.text,nt:0,st:0,ji:0,Bt:0});const u=this.Nr.ah(s.time);null!==u&&ob(h,s,u,a,n.fontSize,l,t,e,o.Ot)}this.ft=!1}}class lb extends Bg{constructor(t){super(t)}Mr(){const t=this.wr;t.yt=!1;const e=this.Is.W();if(!e.priceLineVisible||!this.Is.yt())return;const i=this.Is.Ur(0===e.priceLineSource);i.qr||(t.yt=!0,t.st=i.Si,t.O=this.Is.oh(i.O),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class ab extends Uv{constructor(t){super(),this.jt=t}Ii(t,e,i){t.yt=!1,e.yt=!1;const n=this.jt;if(!n.yt())return;const s=n.W(),o=s.lastValueVisible,r=""!==n._h(),l=0===s.seriesLastValueMode,a=n.Ur(!1);if(a.qr)return;o&&(t.Zt=this.uh(a,o,l),t.yt=0!==t.Zt.length),(r||l)&&(e.Zt=this.dh(a,o,r,l),e.yt=e.Zt.length>0);const c=n.oh(a.O),h=dv(c);i.t=h.t,i.Si=a.Si,e.At=n.$t().Vt(a.Si/n.Dt().Bt()),t.At=c,t.O=h.i,e.O=h.i}dh(t,e,i,n){let s="";const o=this.jt._h();return i&&0!==o.length&&(s+=`${o} `),e&&n&&(s+=this.jt.Dt().fh()?t.ph:t.mh),s.trim()}uh(t,e,i){return e?i?this.jt.Dt().fh()?t.mh:t.ph:t.Zt:""}}function cb(t,e,i,n){const s=Number.isFinite(e),o=Number.isFinite(i);return s&&o?t(e,i):s||o?s?e:i:n}class hb{constructor(t,e){this.bh=t,this.wh=e}gh(t){return null!==t&&this.bh===t.bh&&this.wh===t.wh}Mh(){return new hb(this.bh,this.wh)}xh(){return this.bh}Sh(){return this.wh}kh(){return this.wh-this.bh}Ei(){return this.wh===this.bh||Number.isNaN(this.wh)||Number.isNaN(this.bh)}Jn(t){return null===t?this:new hb(cb(Math.min,this.xh(),t.xh(),-1/0),cb(Math.max,this.Sh(),t.Sh(),1/0))}yh(t){if(!mv(t))return;if(0==this.wh-this.bh)return;const e=.5*(this.wh+this.bh);let i=this.wh-e,n=this.bh-e;i*=t,n*=t,this.wh=e+i,this.bh=e+n}Ch(t){mv(t)&&(this.wh+=t,this.bh+=t)}Th(){return{minValue:this.bh,maxValue:this.wh}}static Ph(t){return null===t?null:new hb(t.minValue,t.maxValue)}}class ub{constructor(t,e){this.Rh=t,this.Dh=e||null}Oh(){return this.Rh}Ah(){return this.Dh}Th(){return null===this.Rh?null:{priceRange:this.Rh.Th(),margins:this.Dh||void 0}}static Ph(t){return null===t?null:new ub(hb.Ph(t.priceRange),t.margins)}}class db extends Bg{constructor(t,e){super(t),this.Vh=e}Mr(){const t=this.wr;t.yt=!1;const e=this.Vh.W();if(!this.Is.yt()||!e.lineVisible)return;const i=this.Vh.Bh();null!==i&&(t.yt=!0,t.st=i,t.O=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.mr=this.Vh.W().id)}}class fb extends Uv{constructor(t,e){super(),this.Nr=t,this.Vh=e}Ii(t,e,i){t.yt=!1,e.yt=!1;const n=this.Vh.W(),s=n.axisLabelVisible,o=""!==n.title,r=this.Nr;if(!s||!r.yt())return;const l=this.Vh.Bh();if(null===l)return;o&&(e.Zt=n.title,e.yt=!0),e.At=r.$t().Vt(l/r.Dt().Bt()),t.Zt=this.Ih(n.price),t.yt=!0;const a=dv(n.axisLabelColor||n.color);i.t=a.t;const c=n.axisLabelTextColor||a.i;t.O=c,e.O=c,i.Si=l}Ih(t){const e=this.Nr.Ct();return null===e?"":this.Nr.Dt().Ni(t,e.Ot)}}class pb{constructor(t,e){this.Nr=t,this._n=e,this.zh=new db(t,this),this.lr=new fb(t,this),this.Lh=new Vg(this.lr,t,t.$t())}Eh(t){pv(this._n,t),this.bt(),this.Nr.$t().Nh()}W(){return this._n}Fh(){return this.zh}Wh(){return this.Lh}jh(){return this.lr}bt(){this.zh.bt(),this.lr.bt()}Bh(){const t=this.Nr,e=t.Dt();if(t.$t().St().Ei()||e.Ei())return null;const i=t.Ct();return null===i?null:e.Rt(this._n.price,i.Ot)}}class mb extends Hv{constructor(t){super(),this.Hi=t}$t(){return this.Hi}}const vb={Bar:(t,e,i,n)=>{var s;const o=e.upColor,r=e.downColor,l=iv(t(i,n)),a=nv(l.Ot[0])<=nv(l.Ot[3]);return{oe:null!==(s=l.O)&&void 0!==s?s:a?o:r}},Candlestick:(t,e,i,n)=>{var s,o,r;const l=e.upColor,a=e.downColor,c=e.borderUpColor,h=e.borderDownColor,u=e.wickUpColor,d=e.wickDownColor,f=iv(t(i,n)),p=nv(f.Ot[0])<=nv(f.Ot[3]);return{oe:null!==(s=f.O)&&void 0!==s?s:p?l:a,ze:null!==(o=f.At)&&void 0!==o?o:p?c:h,Ie:null!==(r=f.Hh)&&void 0!==r?r:p?u:d}},Custom:(t,e,i,n)=>{var s;return{oe:null!==(s=iv(t(i,n)).O)&&void 0!==s?s:e.color}},Area:(t,e,i,n)=>{var s,o,r,l;const a=iv(t(i,n));return{oe:null!==(s=a.lt)&&void 0!==s?s:e.lineColor,lt:null!==(o=a.lt)&&void 0!==o?o:e.lineColor,ys:null!==(r=a.ys)&&void 0!==r?r:e.topColor,Cs:null!==(l=a.Cs)&&void 0!==l?l:e.bottomColor}},Baseline:(t,e,i,n)=>{var s,o,r,l,a,c;const h=iv(t(i,n));return{oe:h.Ot[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Ce:null!==(s=h.Ce)&&void 0!==s?s:e.topLineColor,Te:null!==(o=h.Te)&&void 0!==o?o:e.bottomLineColor,Me:null!==(r=h.Me)&&void 0!==r?r:e.topFillColor1,xe:null!==(l=h.xe)&&void 0!==l?l:e.topFillColor2,Se:null!==(a=h.Se)&&void 0!==a?a:e.bottomFillColor1,ke:null!==(c=h.ke)&&void 0!==c?c:e.bottomFillColor2}},Line:(t,e,i,n)=>{var s,o;const r=iv(t(i,n));return{oe:null!==(s=r.O)&&void 0!==s?s:e.color,lt:null!==(o=r.O)&&void 0!==o?o:e.color}},Histogram:(t,e,i,n)=>{var s;return{oe:null!==(s=iv(t(i,n)).O)&&void 0!==s?s:e.color}}};class gb{constructor(t){this.$h=(t,e)=>void 0!==e?e.Ot:this.Nr.Vn().Uh(t),this.Nr=t,this.qh=vb[t.Yh()]}Ws(t,e){return this.qh(this.$h,this.Nr.W(),t,e)}}var bb;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(bb||(bb={}));const _b=30;class yb{constructor(){this.Xh=[],this.Kh=new Map,this.Zh=new Map}Gh(){return this.Ys()>0?this.Xh[this.Xh.length-1]:null}Jh(){return this.Ys()>0?this.Qh(0):null}An(){return this.Ys()>0?this.Qh(this.Xh.length-1):null}Ys(){return this.Xh.length}Ei(){return 0===this.Ys()}Yr(t){return null!==this.tl(t,0)}Uh(t){return this.il(t)}il(t,e=0){const i=this.tl(t,e);return null===i?null:Object.assign(Object.assign({},this.nl(i)),{ie:this.Qh(i)})}Qs(){return this.Xh}sl(t,e,i){if(this.Ei())return null;let n=null;for(const s of i)n=wb(n,this.el(t,e,s));return n}J(t){this.Zh.clear(),this.Kh.clear(),this.Xh=t}Qh(t){return this.Xh[t].ie}nl(t){return this.Xh[t]}tl(t,e){const i=this.rl(t);if(null===i&&0!==e)switch(e){case-1:return this.hl(t);case 1:return this.ll(t);default:throw new TypeError("Unknown search mode")}return i}hl(t){let e=this.al(t);return e>0&&(e-=1),e!==this.Xh.length&&this.Qh(e)<t?e:null}ll(t){const e=this.ol(t);return e!==this.Xh.length&&t<this.Qh(e)?e:null}rl(t){const e=this.al(t);return e===this.Xh.length||t<this.Xh[e].ie?null:e}al(t){return vg(this.Xh,t,((t,e)=>t.ie<e))}ol(t){return gg(this.Xh,t,((t,e)=>t.ie>e))}_l(t,e,i){let n=null;for(let s=t;s<e;s++){const t=this.Xh[s].Ot[i];Number.isNaN(t)||(null===n?n={ul:t,cl:t}:(t<n.ul&&(n.ul=t),t>n.cl&&(n.cl=t)))}return n}el(t,e,i){if(this.Ei())return null;let n=null;const s=iv(this.Jh()),o=iv(this.An()),r=Math.max(t,s),l=Math.min(e,o),a=Math.ceil(r/_b)*_b,c=Math.max(a,Math.floor(l/_b)*_b);{const t=this.al(r),s=this.ol(Math.min(l,a,e));n=wb(n,this._l(t,s,i))}let h=this.Kh.get(i);void 0===h&&(h=new Map,this.Kh.set(i,h));for(let u=Math.max(a+1,r);u<c;u+=_b){const t=Math.floor(u/_b);let e=h.get(t);if(void 0===e){const n=this.al(t*_b),s=this.ol((t+1)*_b-1);e=this._l(n,s,i),h.set(t,e)}n=wb(n,e)}{const t=this.al(c),e=this.ol(l);n=wb(n,this._l(t,e,i))}return n}}function wb(t,e){return null===t?e:null===e?t:{ul:Math.min(t.ul,e.ul),cl:Math.max(t.cl,e.cl)}}class Sb{constructor(t){this.dl=t}K(t,e,i){this.dl.draw(t)}fl(t,e,i){var n,s;null===(s=(n=this.dl).drawBackground)||void 0===s||s.call(n,t)}}class kb{constructor(t){this.Ge=null,this.mn=t}gt(){var t;const e=this.mn.renderer();if(null===e)return null;if((null===(t=this.Ge)||void 0===t?void 0:t.vl)===e)return this.Ge.pl;const i=new Sb(e);return this.Ge={vl:e,pl:i},i}ml(){var t,e,i;return null!==(i=null===(e=(t=this.mn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==i?i:"normal"}}function Eb(t){var e,i,n,s,o;return{Zt:t.text(),Si:t.coordinate(),xi:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),O:t.textColor(),t:t.backColor(),yt:null===(n=null===(i=t.visible)||void 0===i?void 0:i.call(t))||void 0===n||n,hi:null===(o=null===(s=t.tickVisible)||void 0===s?void 0:s.call(t))||void 0===o||o}}class Cb{constructor(t,e){this.Wt=new Bv,this.bl=t,this.wl=e}gt(){return this.Wt.J(Object.assign({ji:this.wl.ji()},Eb(this.bl))),this.Wt}}class xb extends Uv{constructor(t,e){super(),this.bl=t,this.zi=e}Ii(t,e,i){const n=Eb(this.bl);i.t=n.t,t.O=n.O;const s=2/12*this.zi.P();i.bi=s,i.wi=s,i.Si=n.Si,i.xi=n.xi,t.Zt=n.Zt,t.yt=n.yt,t.hi=n.hi}}class Mb{constructor(t,e){this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=t,this.Nr=e}Cl(){return this.yl}Rn(){var t,e;null===(e=(t=this.yl).updateAllViews)||void 0===e||e.call(t)}Cn(){var t,e,i,n;const s=null!==(i=null===(e=(t=this.yl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.gl)||void 0===n?void 0:n.vl)===s)return this.gl.pl;const o=s.map((t=>new kb(t)));return this.gl={vl:s,pl:o},o}Ji(){var t,e,i,n;const s=null!==(i=null===(e=(t=this.yl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Ml)||void 0===n?void 0:n.vl)===s)return this.Ml.pl;const o=this.Nr.$t().St(),r=s.map((t=>new Cb(t,o)));return this.Ml={vl:s,pl:r},r}Tn(){var t,e,i,n;const s=null!==(i=null===(e=(t=this.yl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.xl)||void 0===n?void 0:n.vl)===s)return this.xl.pl;const o=this.Nr.Dt(),r=s.map((t=>new xb(t,o)));return this.xl={vl:s,pl:r},r}Tl(){var t,e,i,n;const s=null!==(i=null===(e=(t=this.yl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Sl)||void 0===n?void 0:n.vl)===s)return this.Sl.pl;const o=s.map((t=>new kb(t)));return this.Sl={vl:s,pl:o},o}Pl(){var t,e,i,n;const s=null!==(i=null===(e=(t=this.yl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.kl)||void 0===n?void 0:n.vl)===s)return this.kl.pl;const o=s.map((t=>new kb(t)));return this.kl={vl:s,pl:o},o}Rl(t,e){var i,n,s;return null!==(s=null===(n=(i=this.yl).autoscaleInfo)||void 0===n?void 0:n.call(i,t,e))&&void 0!==s?s:null}pr(t,e){var i,n,s;return null!==(s=null===(n=(i=this.yl).hitTest)||void 0===n?void 0:n.call(i,t,e))&&void 0!==s?s:null}}function Ob(t,e,i,n){t.forEach((t=>{e(t).forEach((t=>{t.ml()===i&&n.push(t)}))}))}function Tb(t){return t.Cn()}function Pb(t){return t.Tl()}function Lb(t){return t.Pl()}class Nb extends mb{constructor(t,e,i,n,s){super(t),this.zt=new yb,this.zh=new lb(this),this.Dl=[],this.Ol=new jg(this),this.Al=null,this.Vl=null,this.Bl=[],this.Il=[],this.zl=null,this.Ll=[],this._n=e,this.El=i;const o=new ab(this);this.en=[o],this.Lh=new Vg(o,this,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this.Al=new Zg(this)),this.Nl(),this.Fl(s)}S(){null!==this.zl&&clearTimeout(this.zl)}oh(t){return this._n.priceLineColor||t}Ur(t){const e={qr:!0},i=this.Dt();if(this.$t().St().Ei()||i.Ei()||this.zt.Ei())return e;const n=this.$t().St().qs(),s=this.Ct();if(null===n||null===s)return e;let o,r;if(t){const t=this.zt.Gh();if(null===t)return e;o=t,r=t.ie}else{const t=this.zt.il(n.ui(),-1);if(null===t)return e;if(o=this.zt.Uh(t.ie),null===o)return e;r=t.ie}const l=o.Ot[3],a=this.js().Ws(r,{Ot:o}),c=i.Rt(l,s.Ot);return{qr:!1,_t:l,Zt:i.Ni(l,s.Ot),ph:i.Wl(l),mh:i.jl(l,s.Ot),O:a.oe,Si:c,ie:r}}js(){return null!==this.Vl||(this.Vl=new gb(this)),this.Vl}W(){return this._n}Eh(t){const e=t.priceScaleId;void 0!==e&&e!==this._n.priceScaleId&&this.$t().Hl(this,e),pv(this._n,t),void 0!==t.priceFormat&&(this.Nl(),this.$t().$l()),this.$t().Ul(this),this.$t().ql(),this.mn.bt("options")}J(t,e){this.zt.J(t),this.Yl(),this.mn.bt("data"),this.un.bt("data"),null!==this.Al&&(e&&e.Xl?this.Al.Wr():0===t.length&&this.Al.Fr());const i=this.$t()._r(this);this.$t().Kl(i),this.$t().Ul(this),this.$t().ql(),this.$t().Nh()}Zl(t){this.Bl=t,this.Yl();const e=this.$t()._r(this);this.un.bt("data"),this.$t().Kl(e),this.$t().Ul(this),this.$t().ql(),this.$t().Nh()}Gl(){return this.Bl}lh(){return this.Il}Jl(t){const e=new pb(this,t);return this.Dl.push(e),this.$t().Ul(this),e}Ql(t){const e=this.Dl.indexOf(t);-1!==e&&this.Dl.splice(e,1),this.$t().Ul(this)}Yh(){return this.El}Ct(){const t=this.ta();return null===t?null:{Ot:t.Ot[3],ia:t.ot}}ta(){const t=this.$t().St().qs();if(null===t)return null;const e=t.Rs();return this.zt.il(e,1)}Vn(){return this.zt}ah(t){const e=this.zt.Uh(t);return null===e?null:"Bar"===this.El||"Candlestick"===this.El||"Custom"===this.El?{me:e.Ot[0],be:e.Ot[1],we:e.Ot[2],ge:e.Ot[3]}:e.Ot[3]}na(t){const e=[];Ob(this.Ll,Tb,"top",e);const i=this.Al;return null!==i&&i.yt()?(null===this.zl&&i.Hr()&&(this.zl=setTimeout((()=>{this.zl=null,this.$t().sa()}),0)),i.jr(),e.push(i),e):e}Cn(){const t=[];this.ea()||t.push(this.Ol),t.push(this.mn,this.zh,this.un);const e=this.Dl.map((t=>t.Fh()));return t.push(...e),Ob(this.Ll,Tb,"normal",t),t}ra(){return this.ha(Tb,"bottom")}la(t){return this.ha(Pb,t)}aa(t){return this.ha(Lb,t)}oa(t,e){return this.Ll.map((i=>i.pr(t,e))).filter((t=>null!==t))}Gi(t){return[this.Lh,...this.Dl.map((t=>t.Wh()))]}Tn(t,e){if(e!==this.qi&&!this.ea())return[];const i=[...this.en];for(const n of this.Dl)i.push(n.jh());return this.Ll.forEach((t=>{i.push(...t.Tn())})),i}Ji(){const t=[];return this.Ll.forEach((e=>{t.push(...e.Ji())})),t}Rl(t,e){if(void 0!==this._n.autoscaleInfoProvider){const i=this._n.autoscaleInfoProvider((()=>{const i=this._a(t,e);return null===i?null:i.Th()}));return ub.Ph(i)}return this._a(t,e)}ua(){return this._n.priceFormat.minMove}ca(){return this.da}Rn(){var t;this.mn.bt(),this.un.bt();for(const e of this.en)e.bt();for(const e of this.Dl)e.bt();this.zh.bt(),this.Ol.bt(),null===(t=this.Al)||void 0===t||t.bt(),this.Ll.forEach((t=>t.Rn()))}Dt(){return iv(super.Dt())}kt(t){if("Line"!==this.El&&"Area"!==this.El&&"Baseline"!==this.El||!this._n.crosshairMarkerVisible)return null;const e=this.zt.Uh(t);return null===e?null:{_t:e.Ot[3],ht:this.fa(),At:this.va(),Pt:this.pa(),Tt:this.ma(t)}}_h(){return this._n.title}yt(){return this._n.visible}ba(t){this.Ll.push(new Mb(t,this))}wa(t){this.Ll=this.Ll.filter((e=>e.Cl()!==t))}ga(){if(this.mn instanceof Ig!=0)return t=>this.mn.Ee(t)}Ma(){if(this.mn instanceof Ig!=0)return t=>this.mn.Ne(t)}ea(){return!Xv(this.Dt().xa())}_a(t,e){if(!vv(t)||!vv(e)||this.zt.Ei())return null;const i="Line"===this.El||"Area"===this.El||"Baseline"===this.El||"Histogram"===this.El?[3]:[2,1],n=this.zt.sl(t,e,i);let s=null!==n?new hb(n.ul,n.cl):null;if("Histogram"===this.Yh()){const t=this._n.base,e=new hb(t,t);s=null!==s?s.Jn(e):e}let o=this.un.hh();return this.Ll.forEach((i=>{const n=i.Rl(t,e);if(null==n?void 0:n.priceRange){const t=new hb(n.priceRange.minValue,n.priceRange.maxValue);s=null!==s?s.Jn(t):t}var r,l,a,c;(null==n?void 0:n.margins)&&(r=o,l=n.margins,o={above:Math.max(null!==(a=null==r?void 0:r.above)&&void 0!==a?a:0,l.above),below:Math.max(null!==(c=null==r?void 0:r.below)&&void 0!==c?c:0,l.below)})})),new ub(s,o)}fa(){switch(this.El){case"Line":case"Area":case"Baseline":return this._n.crosshairMarkerRadius}return 0}va(){switch(this.El){case"Line":case"Area":case"Baseline":{const t=this._n.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}pa(){switch(this.El){case"Line":case"Area":case"Baseline":return this._n.crosshairMarkerBorderWidth}return 0}ma(t){switch(this.El){case"Line":case"Area":case"Baseline":{const t=this._n.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.js().Ws(t).oe}Nl(){switch(this._n.priceFormat.type){case"custom":this.da={format:this._n.priceFormat.formatter};break;case"volume":this.da=new Jv(this._n.priceFormat.precision);break;case"percent":this.da=new qv(this._n.priceFormat.precision);break;default:{const t=Math.pow(10,this._n.priceFormat.precision);this.da=new Qv(t,this._n.priceFormat.minMove*t)}}null!==this.qi&&this.qi.Sa()}Yl(){const t=this.$t().St();if(!t.ka()||this.zt.Ei())return void(this.Il=[]);const e=iv(this.zt.Jh());this.Il=this.Bl.map(((i,n)=>{const s=iv(t.ya(i.time,!0)),o=s<e?1:-1;return{time:iv(this.zt.il(s,o)).ie,position:i.position,shape:i.shape,color:i.color,id:i.id,Gr:n,text:i.text,size:i.size,originalTime:i.originalTime}}))}Fl(t){switch(this.un=new rb(this,this.$t()),this.El){case"Bar":this.mn=new xg(this,this.$t());break;case"Candlestick":this.mn=new Lg(this,this.$t());break;case"Line":this.mn=new Dg(this,this.$t());break;case"Custom":this.mn=new Ig(this,this.$t(),ev(t));break;case"Area":this.mn=new kg(this,this.$t());break;case"Baseline":this.mn=new Tg(this,this.$t());break;case"Histogram":this.mn=new zg(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.El)}}ha(t,e){const i=[];return Ob(this.Ll,t,e,i),i}}class Ib{constructor(t){this._n=t}Ca(t,e,i){let n=t;if(0===this._n.mode)return n;const s=i.dn(),o=s.Ct();if(null===o)return n;const r=s.Rt(t,o),l=i.Ta().filter((t=>t instanceof Nb)).reduce(((t,n)=>{if(i.ur(n)||!n.yt())return t;const s=n.Dt(),o=n.Vn();if(s.Ei()||!o.Yr(e))return t;const r=o.Uh(e);if(null===r)return t;const l=nv(n.Ct());return t.concat([s.Rt(r.Ot[3],l.Ot)])}),[]);if(0===l.length)return n;l.sort(((t,e)=>Math.abs(t-r)-Math.abs(e-r)));const a=l[0];return n=s.fn(a,o),n}}class Rb extends xv{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.zt)return;const s=Math.max(1,Math.floor(i));var o,r;t.lineWidth=s,r=()=>{const o=iv(this.zt);if(o.Pa){t.strokeStyle=o.Ra,qm(t,o.Da),t.beginPath();for(const n of o.Oa){const o=Math.round(n.Aa*i);t.moveTo(o,-s),t.lineTo(o,e.height+s)}t.stroke()}if(o.Va){t.strokeStyle=o.Ba,qm(t,o.Ia),t.beginPath();for(const i of o.za){const o=Math.round(i.Aa*n);t.moveTo(-s,o),t.lineTo(e.width+s,o)}t.stroke()}},(o=t).save(),o.lineWidth%2&&o.translate(.5,.5),r(),o.restore()}}class Ab{constructor(t){this.Wt=new Rb,this.ft=!0,this.Qi=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.Qi.$t().W().grid,e={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.Qi.dn().La(),Oa:(this.Qi.$t().St().La()||[]).map((t=>({Aa:t.coord})))};this.Wt.J(e),this.ft=!1}return this.Wt}}class zb{constructor(t){this.mn=new Ab(t)}Fh(){return this.mn}}const Db={Ea:4,Na:1e-4};function Fb(t,e){const i=100*(t-e)/e;return e<0?-i:i}function Wb(t,e){const i=Fb(t.xh(),e),n=Fb(t.Sh(),e);return new hb(i,n)}function Ub(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function Vb(t,e){const i=Ub(t.xh(),e),n=Ub(t.Sh(),e);return new hb(i,n)}function $b(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.Na)+e.Ea;return t<0?-n:n}function Bb(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Ea)-e.Na;return t<0?-n:n}function jb(t,e){if(null===t)return null;const i=$b(t.xh(),e),n=$b(t.Sh(),e);return new hb(i,n)}function Hb(t,e){if(null===t)return null;const i=Bb(t.xh(),e),n=Bb(t.Sh(),e);return new hb(i,n)}function Yb(t){if(null===t)return Db;const e=Math.abs(t.Sh()-t.xh());if(e>=1||e<1e-15)return Db;const i=Math.ceil(Math.abs(Math.log10(e))),n=Db.Ea+i;return{Ea:n,Na:1/Math.pow(10,n)}}class Gb{constructor(t,e){if(this.Fa=t,this.Wa=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(let t=this.Fa;1!==t;){if(t%2==0)this.ja.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),t/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}Ha(t,e,i){const n=0===this.Fa?0:1/this.Fa;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,r=this.Wa[0];for(;;){const t=ag(s,n,1e-14)&&s>n+1e-14,e=ag(s,i*r,1e-14),l=ag(s,1,1e-14);if(!(t&&e&&l))break;s/=r,r=this.Wa[++o%this.Wa.length]}if(s<=n+1e-14&&(s=n),s=Math.max(1,s),this.ja.length>0&&(l=s,1,1e-14,Math.abs(l-1)<1e-14))for(o=0,r=this.ja[0];ag(s,i*r,1e-14)&&s>n+1e-14;)s/=r,r=this.ja[++o%this.ja.length];var l;return s}}class Xb{constructor(t,e,i,n){this.$a=[],this.zi=t,this.Fa=e,this.Ua=i,this.qa=n}Ha(t,e){if(t<e)throw new Error("high < low");const i=this.zi.Bt(),n=(t-e)*this.Ya()/i,s=new Gb(this.Fa,[2,2.5,2]),o=new Gb(this.Fa,[2,2,2.5]),r=new Gb(this.Fa,[2.5,2,2]),l=[];return l.push(s.Ha(t,e,n),o.Ha(t,e,n),r.Ha(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}Xa(){const t=this.zi,e=t.Ct();if(null===e)return void(this.$a=[]);const i=t.Bt(),n=this.Ua(i-1,e),s=this.Ua(0,e),o=this.zi.W().entireTextOnly?this.Ka()/2:0,r=o,l=i-1-o,a=Math.max(n,s),c=Math.min(n,s);if(a===c)return void(this.$a=[]);let h=this.Ha(a,c),u=a%h;u+=u<0?h:0;const d=a>=c?1:-1;let f=null,p=0;for(let m=a-u;m>c;m-=h){const i=this.qa(m,e,!0);null!==f&&Math.abs(i-f)<this.Ya()||i<r||i>l||(p<this.$a.length?(this.$a[p].Aa=i,this.$a[p].Za=t.Ga(m)):this.$a.push({Aa:i,Za:t.Ga(m)}),p++,f=i,t.Ja()&&(h=this.Ha(m*d,c)))}this.$a.length=p}La(){return this.$a}Ka(){return this.zi.P()}Ya(){return Math.ceil(2.5*this.Ka())}}function Zb(t){return t.slice().sort(((t,e)=>iv(t.Xi())-iv(e.Xi())))}var Kb;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Kb||(Kb={}));const Qb=new qv,qb=new Qv(100,1);class Jb{constructor(t,e,i,n){this.Qa=0,this.io=null,this.Rh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new fv,this.oo=new fv,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=qb,this.vo=Yb(null),this.po=t,this._n=e,this.mo=i,this.bo=n,this.wo=new Xb(this,100,this.Mo.bind(this),this.xo.bind(this))}xa(){return this.po}W(){return this._n}Eh(t){if(pv(this._n,t),this.Sa(),void 0!==t.mode&&this.So({Sr:t.mode}),void 0!==t.scaleMargins){const e=ev(t.scaleMargins.top),i=ev(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.ko(),this.co=null}}yo(){return this._n.autoScale}Ja(){return 1===this._n.mode}fh(){return 2===this._n.mode}Co(){return 3===this._n.mode}Sr(){return{Nn:this._n.autoScale,To:this._n.invertScale,Sr:this._n.mode}}So(t){const e=this.Sr();let i=null;void 0!==t.Nn&&(this._n.autoScale=t.Nn),void 0!==t.Sr&&(this._n.mode=t.Sr,2!==t.Sr&&3!==t.Sr||(this._n.autoScale=!0),this.so.eo=!1),1===e.Sr&&t.Sr!==e.Sr&&(function(t,e){if(null===t)return!1;const i=Bb(t.xh(),e),n=Bb(t.Sh(),e);return isFinite(i)&&isFinite(n)}(this.Rh,this.vo)?(i=Hb(this.Rh,this.vo),null!==i&&this.Po(i)):this._n.autoScale=!0),1===t.Sr&&t.Sr!==e.Sr&&(i=jb(this.Rh,this.vo),null!==i&&this.Po(i));const n=e.Sr!==this._n.mode;n&&(2===e.Sr||this.fh())&&this.Sa(),n&&(3===e.Sr||this.Co())&&this.Sa(),void 0!==t.To&&e.To!==t.To&&(this._n.invertScale=t.To,this.Ro()),this.oo.m(e,this.Sr())}Do(){return this.oo}P(){return this.mo.fontSize}Bt(){return this.Qa}Oo(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}Ao(){if(this.io)return this.io;const t=this.Bt()-this.Vo()-this.Bo();return this.io=t,t}Oh(){return this.Io(),this.Rh}Po(t,e){const i=this.Rh;(e||null===i&&null!==t||null!==i&&!i.gh(t))&&(this.co=null,this.Rh=t)}Ei(){return this.Io(),0===this.Qa||!this.Rh||this.Rh.Ei()}zo(t){return this.To()?t:this.Bt()-1-t}Rt(t,e){return this.fh()?t=Fb(t,e):this.Co()&&(t=Ub(t,e)),this.xo(t,e)}Gs(t,e,i){this.Io();const n=this.Bo(),s=iv(this.Oh()),o=s.xh(),r=s.Sh(),l=this.Ao()-1,a=this.To(),c=l/(r-o),h=void 0===i?0:i.from,u=void 0===i?t.length:i.to,d=this.Lo();for(let f=h;f<u;f++){const i=t[f],s=i._t;if(isNaN(s))continue;let r=s;null!==d&&(r=d(i._t,e));const l=n+c*(r-o),h=a?l:this.Qa-1-l;i.st=h}}ve(t,e,i){this.Io();const n=this.Bo(),s=iv(this.Oh()),o=s.xh(),r=s.Sh(),l=this.Ao()-1,a=this.To(),c=l/(r-o),h=void 0===i?0:i.from,u=void 0===i?t.length:i.to,d=this.Lo();for(let f=h;f<u;f++){const i=t[f];let s=i.me,r=i.be,l=i.we,h=i.ge;null!==d&&(s=d(i.me,e),r=d(i.be,e),l=d(i.we,e),h=d(i.ge,e));let u=n+c*(s-o),p=a?u:this.Qa-1-u;i.de=p,u=n+c*(r-o),p=a?u:this.Qa-1-u,i._e=p,u=n+c*(l-o),p=a?u:this.Qa-1-u,i.ue=p,u=n+c*(h-o),p=a?u:this.Qa-1-u,i.fe=p}}fn(t,e){const i=this.Mo(t,e);return this.Eo(i,e)}Eo(t,e){let i=t;return this.fh()?(n=i,(s=e)<0&&(n=-n),i=n/100*s+s):this.Co()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i;var n,s}Ta(){return this._o}No(){if(this.uo)return this.uo;let t=[];for(let e=0;e<this._o.length;e++){const i=this._o[e];null===i.Xi()&&i.Ki(e+1),t.push(i)}return t=Zb(t),this.uo=t,this.uo}Fo(t){-1===this._o.indexOf(t)&&(this._o.push(t),this.Sa(),this.Wo())}jo(t){const e=this._o.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this._o.splice(e,1),0===this._o.length&&(this.So({Nn:!0}),this.Po(null)),this.Sa(),this.Wo()}Ct(){let t=null;for(const e of this._o){const i=e.Ct();null!==i&&(null===t||i.ia<t.ia)&&(t=i)}return null===t?null:t.Ot}To(){return this._n.invertScale}La(){const t=null===this.Ct();if(null!==this.co&&(t||this.co.Ho===t))return this.co.La;this.wo.Xa();const e=this.wo.La();return this.co={La:e,Ho:t},this.ao.m(),e}$o(){return this.ao}Uo(t){this.fh()||this.Co()||null===this.do&&null===this.no&&(this.Ei()||(this.do=this.Qa-t,this.no=iv(this.Oh()).Mh()))}qo(t){if(this.fh()||this.Co())return;if(null===this.do)return;this.So({Nn:!1}),(t=this.Qa-t)<0&&(t=0);let e=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1));const i=iv(this.no).Mh();e=Math.max(e,.1),i.yh(e),this.Po(i)}Yo(){this.fh()||this.Co()||(this.do=null,this.no=null)}Xo(t){this.yo()||null===this.fo&&null===this.no&&(this.Ei()||(this.fo=t,this.no=iv(this.Oh()).Mh()))}Ko(t){if(this.yo())return;if(null===this.fo)return;const e=iv(this.Oh()).kh()/(this.Ao()-1);let i=t-this.fo;this.To()&&(i*=-1);const n=i*e,s=iv(this.no).Mh();s.Ch(n),this.Po(s,!0),this.co=null}Zo(){this.yo()||null!==this.fo&&(this.fo=null,this.no=null)}ca(){return this.da||this.Sa(),this.da}Ni(t,e){switch(this._n.mode){case 2:return this.Go(Fb(t,e));case 3:return this.ca().format(Ub(t,e));default:return this.Ih(t)}}Ga(t){switch(this._n.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.Ih(t)}}Wl(t){return this.Ih(t,iv(this.Jo()).ca())}jl(t,e){return t=Fb(t,e),this.Go(t,Qb)}Qo(){return this._o}t_(t){this.so={ro:t,eo:!1}}Rn(){this._o.forEach((t=>t.Rn()))}Sa(){this.co=null;const t=this.Jo();let e=100;null!==t&&(e=Math.round(1/t.ua())),this.da=qb,this.fh()?(this.da=Qb,e=100):this.Co()?(this.da=new Qv(100,1),e=100):null!==t&&(this.da=t.ca()),this.wo=new Xb(this,e,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}Wo(){this.uo=null}Jo(){return this._o[0]||null}Vo(){return this.To()?this._n.scaleMargins.bottom*this.Bt()+this.lo:this._n.scaleMargins.top*this.Bt()+this.ho}Bo(){return this.To()?this._n.scaleMargins.top*this.Bt()+this.ho:this._n.scaleMargins.bottom*this.Bt()+this.lo}Io(){this.so.eo||(this.so.eo=!0,this.i_())}ko(){this.io=null}xo(t,e){if(this.Io(),this.Ei())return 0;t=this.Ja()&&t?$b(t,this.vo):t;const i=iv(this.Oh()),n=this.Bo()+(this.Ao()-1)*(t-i.xh())/i.kh();return this.zo(n)}Mo(t,e){if(this.Io(),this.Ei())return 0;const i=this.zo(t),n=iv(this.Oh()),s=n.xh()+n.kh()*((i-this.Bo())/(this.Ao()-1));return this.Ja()?Bb(s,this.vo):s}Ro(){this.co=null,this.wo.Xa()}i_(){const t=this.so.ro;if(null===t)return;let e=null;const i=this.Qo();let n=0,s=0;for(const l of i){if(!l.yt())continue;const i=l.Ct();if(null===i)continue;const o=l.Rl(t.Rs(),t.ui());let r=o&&o.Oh();if(null!==r){switch(this._n.mode){case 1:r=jb(r,this.vo);break;case 2:r=Wb(r,i.Ot);break;case 3:r=Vb(r,i.Ot)}if(e=null===e?r:e.Jn(iv(r)),null!==o){const t=o.Ah();null!==t&&(n=Math.max(n,t.above),s=Math.max(n,t.below))}}}if(n===this.ho&&s===this.lo||(this.ho=n,this.lo=s,this.co=null,this.ko()),null!==e){if(e.xh()===e.Sh()){const t=this.Jo(),i=5*(null===t||this.fh()||this.Co()?1:t.ua());this.Ja()&&(e=Hb(e,this.vo)),e=new hb(e.xh()-i,e.Sh()+i),this.Ja()&&(e=jb(e,this.vo))}if(this.Ja()){const t=Hb(e,this.vo),i=Yb(t);if(o=i,r=this.vo,o.Ea!==r.Ea||o.Na!==r.Na){const n=null!==this.no?Hb(this.no,this.vo):null;this.vo=i,e=jb(t,i),null!==n&&(this.no=jb(n,i))}}this.Po(e)}else null===this.Rh&&(this.Po(new hb(-.5,.5)),this.vo=Yb(null));var o,r;this.so.eo=!0}Lo(){return this.fh()?Fb:this.Co()?Ub:this.Ja()?t=>$b(t,this.vo):null}n_(t,e,i){return void 0===e?(void 0===i&&(i=this.ca()),i.format(t)):e(t)}Ih(t,e){return this.n_(t,this.bo.priceFormatter,e)}Go(t,e){return this.n_(t,this.bo.percentageFormatter,e)}}class t_{constructor(t,e){this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new fv,this.wl=t,this.Hi=e,this.l_=new zb(this);const i=e.W();this.a_=this.o_("left",i.leftPriceScale),this.__=this.o_("right",i.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(i)}c_(t){if(t.leftPriceScale&&this.a_.Eh(t.leftPriceScale),t.rightPriceScale&&this.__.Eh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales){const e=Array.from(this.s_.values());for(const i of e){const e=iv(i[0].Dt());e.Eh(t.overlayPriceScales),t.localization&&e.Sa()}}}d_(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?ev(this.s_.get(t))[0].Dt():null}S(){this.$t().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach((t=>{t.S&&t.S()})),this.h_.m()}v_(){return this.r_}p_(t){this.r_=t}$t(){return this.Hi}ji(){return this.e_}Bt(){return this.Qa}m_(t){this.e_=t,this.b_()}Oo(t){this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach((e=>{if(this.ur(e)){const i=e.Dt();null!==i&&i.Oo(t)}})),this.b_()}Ta(){return this._o}ur(t){const e=t.Dt();return null===e||this.a_!==e&&this.__!==e}Fo(t,e,i){const n=void 0!==i?i:this.g_().w_+1;this.M_(t,e,n)}jo(t){const e=this._o.indexOf(t);tv(-1!==e,"removeDataSource: invalid data source"),this._o.splice(e,1);const i=iv(t.Dt()).xa();if(this.s_.has(i)){const e=ev(this.s_.get(i)),n=e.indexOf(t);-1!==n&&(e.splice(n,1),0===e.length&&this.s_.delete(i))}const n=t.Dt();n&&n.Ta().indexOf(t)>=0&&n.jo(t),null!==n&&(n.Wo(),this.x_(n)),this.uo=null}dr(t){return t===this.a_?"left":t===this.__?"right":"overlay"}S_(){return this.a_}k_(){return this.__}y_(t,e){t.Uo(e)}C_(t,e){t.qo(e),this.b_()}T_(t){t.Yo()}P_(t,e){t.Xo(e)}R_(t,e){t.Ko(e),this.b_()}D_(t){t.Zo()}b_(){this._o.forEach((t=>{t.Rn()}))}dn(){let t=null;return this.Hi.W().rightPriceScale.visible&&0!==this.__.Ta().length?t=this.__:this.Hi.W().leftPriceScale.visible&&0!==this.a_.Ta().length?t=this.a_:0!==this._o.length&&(t=this._o[0].Dt()),null===t&&(t=this.__),t}cr(){let t=null;return this.Hi.W().rightPriceScale.visible?t=this.__:this.Hi.W().leftPriceScale.visible&&(t=this.a_),t}x_(t){null!==t&&t.yo()&&this.O_(t)}A_(t){const e=this.wl.qs();t.So({Nn:!0}),null!==e&&t.t_(e),this.b_()}V_(){this.O_(this.a_),this.O_(this.__)}B_(){this.x_(this.a_),this.x_(this.__),this._o.forEach((t=>{this.ur(t)&&this.x_(t.Dt())})),this.b_(),this.Hi.Nh()}No(){return null===this.uo&&(this.uo=Zb(this._o)),this.uo}I_(){return this.h_}z_(){return this.l_}O_(t){const e=t.Qo();if(e&&e.length>0&&!this.wl.Ei()){const e=this.wl.qs();null!==e&&t.t_(e)}t.Rn()}g_(){const t=this.No();if(0===t.length)return{L_:0,w_:0};let e=0,i=0;for(let n=0;n<t.length;n++){const s=t[n].Xi();null!==s&&(s<e&&(e=s),s>i&&(i=s))}return{L_:e,w_:i}}M_(t,e,i){let n=this.d_(e);if(null===n&&(n=this.o_(e,this.Hi.W().overlayPriceScales)),this._o.push(t),!Xv(e)){const i=this.s_.get(e)||[];i.push(t),this.s_.set(e,i)}n.Fo(t),t.Zi(n),t.Ki(i),this.x_(n),this.uo=null}u_(t,e,i){e.Sr!==i.Sr&&this.O_(t)}o_(t,e){const i=Object.assign({visible:!0,autoScale:!0},_v(e)),n=new Jb(t,i,this.Hi.W().layout,this.Hi.W().localization);return n.Oo(this.Bt()),n}}class e_{constructor(t,e,i=50){this.Ye=0,this.Xe=1,this.Ke=1,this.Ge=new Map,this.Ze=new Map,this.E_=t,this.N_=e,this.Je=i}F_(t){const e=t.time,i=this.N_.cacheKey(e),n=this.Ge.get(i);if(void 0!==n)return n.W_;if(this.Ye===this.Je){const t=this.Ze.get(this.Ke);this.Ze.delete(this.Ke),this.Ge.delete(ev(t)),this.Ke++,this.Ye--}const s=this.E_(t);return this.Ge.set(i,{W_:s,nr:this.Xe}),this.Ze.set(this.Xe,i),this.Ye++,this.Xe++,s}}class i_{constructor(t,e){tv(t<=e,"right should be >= left"),this.j_=t,this.H_=e}Rs(){return this.j_}ui(){return this.H_}U_(){return this.H_-this.j_+1}Yr(t){return this.j_<=t&&t<=this.H_}gh(t){return this.j_===t.Rs()&&this.H_===t.ui()}}function n_(t,e){return null===t||null===e?t===e:t.gh(e)}class s_{constructor(){this.q_=new Map,this.Ge=null,this.Y_=!1}X_(t){this.Y_=t,this.Ge=null}K_(t,e){this.Z_(e),this.Ge=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.q_.get(e.timeWeight);void 0===n&&(n=[],this.q_.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}G_(t,e){const i=Math.ceil(e/t);return null!==this.Ge&&this.Ge.J_===i||(this.Ge={La:this.Q_(i),J_:i}),this.Ge.La}Z_(t){if(0===t)return void this.q_.clear();const e=[];this.q_.forEach(((i,n)=>{t<=i[0].index?e.push(n):i.splice(vg(i,t,(e=>e.index<t)),1/0)}));for(const i of e)this.q_.delete(i)}Q_(t){let e=[];for(const i of Array.from(this.q_.keys()).sort(((t,e)=>e-t))){if(!this.q_.get(i))continue;const n=e;e=[];const s=n.length;let o=0;const r=ev(this.q_.get(i)),l=r.length;let a=1/0,c=-1/0;for(let i=0;i<l;i++){const l=r[i],h=l.index;for(;o<s;){const t=n[o],i=t.index;if(!(i<h)){a=i;break}o++,e.push(t),c=i,a=1/0}if(a-h>=t&&h-c>=t)e.push(l),c=h;else if(this.Y_)return n}for(;o<s;o++)e.push(n[o])}return e}}class o_{constructor(t){this.tu=t}iu(){return null===this.tu?null:new i_(Math.floor(this.tu.Rs()),Math.ceil(this.tu.ui()))}nu(){return this.tu}static su(){return new o_(null)}}function r_(t,e){return t.weight>e.weight?t:e}class l_{constructor(t,e,i,n){this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new s_,this.lu=new Map,this.au=o_.su(),this.ou=!0,this._u=new fv,this.uu=new fv,this.cu=new fv,this.du=null,this.fu=null,this.vu=[],this._n=e,this.bo=i,this.pu=e.rightOffset,this.mu=e.barSpacing,this.Hi=t,this.N_=n,this.bu(),this.hu.X_(e.uniformDistribution)}W(){return this._n}wu(t){pv(this.bo,t),this.gu(),this.bu()}Eh(t,e){var i;pv(this._n,t),this._n.fixLeftEdge&&this.Mu(),this._n.fixRightEdge&&this.xu(),void 0!==t.barSpacing&&this.Hi.Kn(t.barSpacing),void 0!==t.rightOffset&&this.Hi.Zn(t.rightOffset),void 0!==t.minBarSpacing&&this.Hi.Kn(null!==(i=t.barSpacing)&&void 0!==i?i:this.mu),this.gu(),this.bu(),this.cu.m()}vn(t){var e,i;return null!==(i=null===(e=this.ru[t])||void 0===e?void 0:e.time)&&void 0!==i?i:null}$i(t){var e;return null!==(e=this.ru[t])&&void 0!==e?e:null}ya(t,e){if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return e?this.ru.length-1:null;const i=vg(this.ru,this.N_.key(t),((t,e)=>this.N_.key(t.time)<e));return this.N_.key(t)<this.N_.key(this.ru[i].time)?e?i:null:i}Ei(){return 0===this.e_||0===this.ru.length||null===this.eu}ka(){return this.ru.length>0}qs(){return this.Su(),this.au.iu()}ku(){return this.Su(),this.au.nu()}yu(){const t=this.qs();if(null===t)return null;const e={from:t.Rs(),to:t.ui()};return this.Cu(e)}Cu(t){const e=Math.round(t.from),i=Math.round(t.to),n=iv(this.Tu()),s=iv(this.Pu());return{from:iv(this.$i(Math.max(n,e))),to:iv(this.$i(Math.min(s,i)))}}Ru(t){return{from:iv(this.ya(t.from,!0)),to:iv(this.ya(t.to,!0))}}ji(){return this.e_}m_(t){if(!isFinite(t)||t<=0)return;if(this.e_===t)return;const e=this.ku(),i=this.e_;if(this.e_=t,this.ou=!0,this._n.lockVisibleTimeRangeOnResize&&0!==i){const e=this.mu*t/i;this.mu=e}if(this._n.fixLeftEdge&&null!==e&&e.Rs()<=0){const e=i-t;this.pu-=Math.round(e/this.mu)+1,this.ou=!0}this.Du(),this.Ou()}It(t){if(this.Ei()||!vv(t))return 0;const e=this.Au()+this.pu-t;return this.e_-(e+.5)*this.mu-1}Zs(t,e){const i=this.Au(),n=void 0===e?0:e.from,s=void 0===e?t.length:e.to;for(let o=n;o<s;o++){const e=t[o].ot,n=i+this.pu-e,s=this.e_-(n+.5)*this.mu-1;t[o].nt=s}}Vu(t){return Math.ceil(this.Bu(t))}Zn(t){this.ou=!0,this.pu=t,this.Ou(),this.Hi.Iu(),this.Hi.Nh()}ee(){return this.mu}Kn(t){this.zu(t),this.Ou(),this.Hi.Iu(),this.Hi.Nh()}Lu(){return this.pu}La(){if(this.Ei())return null;if(null!==this.fu)return this.fu;const t=this.mu,e=5*(this.Hi.W().layout.fontSize+4)/8*(this._n.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=iv(this.qs()),s=Math.max(n.Rs(),n.Rs()-i),o=Math.max(n.ui(),n.ui()-i),r=this.hu.G_(t,e),l=this.Tu()+i,a=this.Pu()-i,c=this.Eu(),h=this._n.fixLeftEdge||c,u=this._n.fixRightEdge||c;let d=0;for(const f of r){if(!(s<=f.index&&f.index<=o))continue;let t;d<this.vu.length?(t=this.vu[d],t.coord=this.It(f.index),t.label=this.Nu(f),t.weight=f.weight):(t={needAlignCoordinate:!1,coord:this.It(f.index),label:this.Nu(f),weight:f.weight},this.vu.push(t)),this.mu>e/2&&!c?t.needAlignCoordinate=!1:t.needAlignCoordinate=h&&f.index<=l||u&&f.index>=a,d++}return this.vu.length=d,this.fu=this.vu,this.vu}Fu(){this.ou=!0,this.Kn(this._n.barSpacing),this.Zn(this._n.rightOffset)}Wu(t){this.ou=!0,this.eu=t,this.Ou(),this.Mu()}ju(t,e){const i=this.Bu(t),n=this.ee(),s=n+e*(n/10);this.Kn(s),this._n.rightBarStaysOnScroll||this.Zn(this.Lu()+(i-this.Bu(t)))}Uo(t){this.fo&&this.Zo(),null===this.do&&null===this.du&&(this.Ei()||(this.do=t,this.Hu()))}qo(t){if(null===this.du)return;const e=lg(this.e_-t,0,this.e_),i=lg(this.e_-iv(this.do),0,this.e_);0!==e&&0!==i&&this.Kn(this.du.ee*e/i)}Yo(){null!==this.do&&(this.do=null,this.$u())}Xo(t){null===this.fo&&null===this.du&&(this.Ei()||(this.fo=t,this.Hu()))}Ko(t){if(null===this.fo)return;const e=(this.fo-t)/this.ee();this.pu=iv(this.du).Lu+e,this.ou=!0,this.Ou()}Zo(){null!==this.fo&&(this.fo=null,this.$u())}Uu(){this.qu(this._n.rightOffset)}qu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.pu,n=performance.now();this.Hi.qn({Yu:t=>(t-n)/e>=1,Xu:s=>{const o=(s-n)/e;return o>=1?t:i+(t-i)*o}})}bt(t,e){this.ou=!0,this.ru=t,this.hu.K_(t,e),this.Ou()}Ku(){return this._u}Zu(){return this.uu}Gu(){return this.cu}Au(){return this.eu||0}Ju(t){const e=t.U_();this.zu(this.e_/e),this.pu=t.ui()-this.Au(),this.Ou(),this.ou=!0,this.Hi.Iu(),this.Hi.Nh()}Qu(){const t=this.Tu(),e=this.Pu();null!==t&&null!==e&&this.Ju(new i_(t,e+this._n.rightOffset))}tc(t){const e=new i_(t.from,t.to);this.Ju(e)}Ui(t){return void 0!==this.bo.timeFormatter?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}Eu(){const{handleScroll:t,handleScale:e}=this.Hi.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Tu(){return 0===this.ru.length?null:0}Pu(){return 0===this.ru.length?null:this.ru.length-1}ic(t){return(this.e_-1-t)/this.mu}Bu(t){const e=this.ic(t),i=this.Au()+this.pu-e;return Math.round(1e6*i)/1e6}zu(t){const e=this.mu;this.mu=t,this.Du(),e!==this.mu&&(this.ou=!0,this.nc())}Su(){if(!this.ou)return;if(this.ou=!1,this.Ei())return void this.sc(o_.su());const t=this.Au(),e=this.e_/this.mu,i=this.pu+t,n=new i_(i-e+1,i);this.sc(new o_(n))}Du(){const t=this.ec();if(this.mu<t&&(this.mu=t,this.ou=!0),0!==this.e_){const t=.5*this.e_;this.mu>t&&(this.mu=t,this.ou=!0)}}ec(){return this._n.fixLeftEdge&&this._n.fixRightEdge&&0!==this.ru.length?this.e_/this.ru.length:this._n.minBarSpacing}Ou(){const t=this.rc();this.pu>t&&(this.pu=t,this.ou=!0);const e=this.hc();null!==e&&this.pu<e&&(this.pu=e,this.ou=!0)}hc(){const t=this.Tu(),e=this.eu;return null===t||null===e?null:t-e-1+(this._n.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}rc(){return this._n.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}Hu(){this.du={ee:this.ee(),Lu:this.Lu()}}$u(){this.du=null}Nu(t){let e=this.lu.get(t.weight);return void 0===e&&(e=new e_((t=>this.lc(t)),this.N_),this.lu.set(t.weight,e)),e.F_(t)}lc(t){return this.N_.formatTickmark(t,this.bo)}sc(t){const e=this.au;this.au=t,n_(e.iu(),this.au.iu())||this._u.m(),n_(e.nu(),this.au.nu())||this.uu.m(),this.nc()}nc(){this.fu=null}gu(){this.nc(),this.lu.clear()}bu(){this.N_.updateFormatter(this.bo)}Mu(){if(!this._n.fixLeftEdge)return;const t=this.Tu();if(null===t)return;const e=this.qs();if(null===e)return;const i=e.Rs()-t;if(i<0){const t=this.pu-i-1;this.Zn(t)}this.Du()}xu(){this.Ou(),this.Du()}}class a_{K(t,e,i){t.useMediaCoordinateSpace((t=>this.Z(t,e,i)))}fl(t,e,i){t.useMediaCoordinateSpace((t=>this.ac(t,e,i)))}ac(t,e,i){}}class c_ extends a_{constructor(t){super(),this.oc=new Map,this.zt=t}Z(t){}ac(t){if(!this.zt.yt)return;const{context:e,mediaSize:i}=t;let n=0;for(const o of this.zt._c){if(0===o.Zt.length)continue;e.font=o.R;const t=this.uc(e,o.Zt);t>i.width?o.ju=i.width/t:o.ju=1,n+=o.cc*o.ju}let s=0;switch(this.zt.dc){case"top":s=0;break;case"center":s=Math.max((i.height-n)/2,0);break;case"bottom":s=Math.max(i.height-n,0)}e.fillStyle=this.zt.O;for(const o of this.zt._c){e.save();let t=0;switch(this.zt.fc){case"left":e.textAlign="left",t=o.cc/2;break;case"center":e.textAlign="center",t=i.width/2;break;case"right":e.textAlign="right",t=i.width-1-o.cc/2}e.translate(t,s),e.textBaseline="top",e.font=o.R,e.scale(o.ju,o.ju),e.fillText(o.Zt,0,o.vc),e.restore(),s+=o.cc*o.ju}}uc(t,e){const i=this.mc(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}mc(t){let e=this.oc.get(t);return void 0===e&&(e=new Map,this.oc.set(t,e)),e}}class h_{constructor(t){this.ft=!0,this.Ft={yt:!1,O:"",_c:[],dc:"center",fc:"center"},this.Wt=new c_(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.O=t.color,e.fc=t.horzAlign,e.dc=t.vertAlign,e._c=[{Zt:t.text,R:kv(t.fontSize,t.fontFamily,t.fontStyle),cc:1.2*t.fontSize,vc:0,ju:0}])}}class u_ extends Hv{constructor(t,e){super(),this._n=e,this.mn=new h_(this)}Tn(){return[]}Cn(){return[this.mn]}W(){return this._n}Rn(){this.mn.bt()}}var d_,f_,p_,m_,v_;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(d_||(d_={}));class g_{constructor(t,e,i){this.bc=[],this.wc=[],this.e_=0,this.gc=null,this.Mc=new fv,this.xc=new fv,this.Sc=null,this.kc=t,this._n=e,this.N_=i,this.yc=new Ev(this),this.wl=new l_(this,e.timeScale,this._n.localization,i),this.vt=new Gv(this,e.crosshair),this.Cc=new Ib(e.crosshair),this.Tc=new u_(this,e.watermark),this.Pc(),this.bc[0].p_(2e3),this.Rc=this.Dc(0),this.Oc=this.Dc(1)}$l(){this.Ac(Zv.ns())}Nh(){this.Ac(Zv.ts())}sa(){this.Ac(new Zv(1))}Ul(t){const e=this.Vc(t);this.Ac(e)}Bc(){return this.gc}Ic(t){const e=this.gc;this.gc=t,null!==e&&this.Ul(e.zc),null!==t&&this.Ul(t.zc)}W(){return this._n}Eh(t){pv(this._n,t),this.bc.forEach((e=>e.c_(t))),void 0!==t.timeScale&&this.wl.Eh(t.timeScale),void 0!==t.localization&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Mc.m(),this.Rc=this.Dc(0),this.Oc=this.Dc(1),this.$l()}Lc(t,e){if("left"===t)return void this.Eh({leftPriceScale:e});if("right"===t)return void this.Eh({rightPriceScale:e});const i=this.Ec(t);null!==i&&(i.Dt.Eh(e),this.Mc.m())}Ec(t){for(const e of this.bc){const i=e.d_(t);if(null!==i)return{Ht:e,Dt:i}}return null}St(){return this.wl}Nc(){return this.bc}Fc(){return this.Tc}Wc(){return this.vt}jc(){return this.xc}Hc(t,e){t.Oo(e),this.Iu()}m_(t){this.e_=t,this.wl.m_(this.e_),this.bc.forEach((e=>e.m_(t))),this.Iu()}Pc(t){const e=new t_(this.wl,this);void 0!==t?this.bc.splice(t,0,e):this.bc.push(e);const i=void 0===t?this.bc.length-1:t,n=Zv.ns();return n.Ln(i,{En:0,Nn:!0}),this.Ac(n),e}y_(t,e,i){t.y_(e,i)}C_(t,e,i){t.C_(e,i),this.ql(),this.Ac(this.$c(t,2))}T_(t,e){t.T_(e),this.Ac(this.$c(t,2))}P_(t,e,i){e.yo()||t.P_(e,i)}R_(t,e,i){e.yo()||(t.R_(e,i),this.ql(),this.Ac(this.$c(t,2)))}D_(t,e){e.yo()||(t.D_(e),this.Ac(this.$c(t,2)))}A_(t,e){t.A_(e),this.Ac(this.$c(t,2))}Uc(t){this.wl.Uo(t)}qc(t,e){const i=this.St();if(i.Ei()||0===e)return;const n=i.ji();t=Math.max(1,Math.min(t,n)),i.ju(t,e),this.Iu()}Yc(t){this.Xc(0),this.Kc(t),this.Zc()}Gc(t){this.wl.qo(t),this.Iu()}Jc(){this.wl.Yo(),this.Nh()}Xc(t){this.wl.Xo(t)}Kc(t){this.wl.Ko(t),this.Iu()}Zc(){this.wl.Zo(),this.Nh()}wt(){return this.wc}Qc(t,e,i,n,s){this.vt.bn(t,e);let o=NaN,r=this.wl.Vu(t);const l=this.wl.qs();null!==l&&(r=Math.min(Math.max(l.Rs(),r),l.ui()));const a=n.dn(),c=a.Ct();null!==c&&(o=a.fn(e,c)),o=this.Cc.Ca(o,r,n),this.vt.xn(r,o,n),this.sa(),s||this.xc.m(this.vt.xt(),{x:t,y:e},i)}td(t,e,i){const n=i.dn(),s=n.Ct(),o=n.Rt(t,iv(s)),r=this.wl.ya(e,!0),l=this.wl.It(iv(r));this.Qc(l,o,null,i,!0)}nd(t){this.Wc().kn(),this.sa(),t||this.xc.m(null,null,null)}ql(){const t=this.vt.Ht();if(null!==t){const e=this.vt.gn(),i=this.vt.Mn();this.Qc(e,i,null,t)}this.vt.Rn()}sd(t,e,i){const n=this.wl.vn(0);void 0!==e&&void 0!==i&&this.wl.bt(e,i);const s=this.wl.vn(0),o=this.wl.Au(),r=this.wl.qs();if(null!==r&&null!==n&&null!==s){const e=r.Yr(o),l=this.N_.key(n)>this.N_.key(s),a=null!==t&&t>o&&!l,c=this.wl.W().allowShiftVisibleRangeOnWhitespaceReplacement,h=e&&(!(void 0===i)||c)&&this.wl.W().shiftVisibleRangeOnNewBar;if(a&&!h){const e=t-o;this.wl.Zn(this.wl.Lu()-e)}}this.wl.Wu(t)}Kl(t){null!==t&&t.B_()}_r(t){const e=this.bc.find((e=>e.No().includes(t)));return void 0===e?null:e}Iu(){this.Tc.Rn(),this.bc.forEach((t=>t.B_())),this.ql()}S(){this.bc.forEach((t=>t.S())),this.bc.length=0,this._n.localization.priceFormatter=void 0,this._n.localization.percentageFormatter=void 0,this._n.localization.timeFormatter=void 0}ed(){return this.yc}vr(){return this.yc.W()}f_(){return this.Mc}rd(t,e,i){const n=this.bc[0],s=this.hd(e,t,n,i);return this.wc.push(s),1===this.wc.length?this.$l():this.Nh(),s}ld(t){const e=this._r(t),i=this.wc.indexOf(t);tv(-1!==i,"Series not found"),this.wc.splice(i,1),iv(e).jo(t),t.S&&t.S()}Hl(t,e){const i=iv(this._r(t));i.jo(t);const n=this.Ec(e);if(null===n){const n=t.Xi();i.Fo(t,e,n)}else{const s=n.Ht===i?t.Xi():void 0;n.Ht.Fo(t,e,s)}}Qu(){const t=Zv.ts();t.jn(),this.Ac(t)}ad(t){const e=Zv.ts();e.Un(t),this.Ac(e)}Xn(){const t=Zv.ts();t.Xn(),this.Ac(t)}Kn(t){const e=Zv.ts();e.Kn(t),this.Ac(e)}Zn(t){const e=Zv.ts();e.Zn(t),this.Ac(e)}qn(t){const e=Zv.ts();e.qn(t),this.Ac(e)}Hn(){const t=Zv.ts();t.Hn(),this.Ac(t)}od(){return this._n.rightPriceScale.visible?"right":"left"}_d(){return this.Oc}q(){return this.Rc}Vt(t){const e=this.Oc,i=this.Rc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Sc||this.Sc.ys!==i||this.Sc.Cs!==e)this.Sc={ys:i,Cs:e,ud:new Map};else{const e=this.Sc.ud.get(t);if(void 0!==e)return e}const n=function(t,e,i){const[n,s,o,r]=uv(t),[l,a,c,h]=uv(e),u=[ov(n+i*(l-n)),ov(s+i*(a-s)),ov(o+i*(c-o)),rv(r+i*(h-r))];return`rgba(${u[0]}, ${u[1]}, ${u[2]}, ${u[3]})`}(i,e,t/100);return this.Sc.ud.set(t,n),n}$c(t,e){const i=new Zv(e);if(null!==t){const n=this.bc.indexOf(t);i.Ln(n,{En:e})}return i}Vc(t,e){return void 0===e&&(e=2),this.$c(this._r(t),e)}Ac(t){this.kc&&this.kc(t),this.bc.forEach((t=>t.z_().Fh().bt()))}hd(t,e,i,n){const s=new Nb(this,t,e,i,n),o=void 0!==t.priceScaleId?t.priceScaleId:this.od();return i.Fo(s,o),Xv(o)||s.Eh(t),s}Dc(t){const e=this._n.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}function b_(t){return!mv(t)&&!gv(t)}function __(t){return mv(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(f_||(f_={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(p_||(p_={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(m_||(m_={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(v_||(v_={}));const y_=t=>t.getUTCFullYear();class w_{constructor(t="yyyy-MM-dd",e="default"){this.dd=t,this.fd=e}F_(t){return function(t,e,i){return e.replace(/yyyy/g,(n=t,Kv(y_(n),4))).replace(/yy/g,(t=>Kv(y_(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>Kv(t.getUTCMonth()+1,2))(t)).replace(/dd/g,(t=>Kv(t.getUTCDate(),2))(t));var n}(t,this.dd,this.fd)}}class S_{constructor(t){this.vd=t||"%h:%m:%s"}F_(t){return this.vd.replace("%h",Kv(t.getUTCHours(),2)).replace("%m",Kv(t.getUTCMinutes(),2)).replace("%s",Kv(t.getUTCSeconds(),2))}}const k_={pd:"yyyy-MM-dd",md:"%h:%m:%s",bd:" ",wd:"default"};class E_{constructor(t={}){const e=Object.assign(Object.assign({},k_),t);this.gd=new w_(e.pd,e.wd),this.Md=new S_(e.md),this.xd=e.bd}F_(t){return`${this.gd.F_(t)}${this.xd}${this.Md.F_(t)}`}}function C_(t){return 60*t*60*1e3}function x_(t){return 60*t*1e3}const M_=[{Sd:(1,1e3),kd:10},{Sd:x_(1),kd:20},{Sd:x_(5),kd:21},{Sd:x_(30),kd:22},{Sd:C_(1),kd:30},{Sd:C_(3),kd:31},{Sd:C_(6),kd:32},{Sd:C_(12),kd:33}];function O_(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=M_.length-1;i>=0;--i)if(Math.floor(e.getTime()/M_[i].Sd)!==Math.floor(t.getTime()/M_[i].Sd))return M_[i].kd;return 0}function T_(t){let e=t;if(gv(t)&&(e=L_(t)),!b_(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{yd:Math.round(i.getTime()/1e3),Cd:e}}function P_(t){if(!__(t))throw new Error("time must be of type isUTCTimestamp");return{yd:t}}function L_(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function N_(t){gv(t.time)&&(t.time=L_(t.time))}class I_{options(){return this._n}setOptions(t){this._n=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?t.forEach(N_):N_(t)}createConverterToInternalObj(t){return iv(0===(e=t).length?null:b_(e[0].time)||gv(e[0].time)?T_:P_);var e}key(t){return"object"==typeof t&&"yd"in t?t.yd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.Cd?new Date(1e3*e.yd).getTime():new Date(Date.UTC(e.Cd.year,e.Cd.month-1,e.Cd.day)).getTime()}convertHorzItemToInternal(t){return __(e=t)?P_(e):b_(e)?T_(e):T_(L_(e));var e}updateFormatter(t){if(!this._n)return;const e=t.dateFormat;this._n.timeScale.timeVisible?this.Td=new E_({pd:e,md:this._n.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",bd:"   ",wd:t.locale}):this.Td=new w_(e,t.locale)}formatHorzItem(t){const e=t;return this.Td.F_(new Date(1e3*e.yd))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this._n.timeScale.timeVisible,this._n.timeScale.secondsVisible),n=this._n.timeScale;if(void 0!==n.tickMarkFormatter){const s=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==s)return s}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const s=void 0===t.Cd?new Date(1e3*t.yd):new Date(Date.UTC(t.Cd.year,t.Cd.month-1,t.Cd.day));return new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(r_,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t,e=0){if(0===t.length)return;let i=0===e?null:t[e-1].time.yd,n=null!==i?new Date(1e3*i):null,s=0;for(let o=e;o<t.length;++o){const e=t[o],r=new Date(1e3*e.time.yd);null!==n&&(e.timeWeight=O_(r,n)),s+=e.time.yd-(i||e.time.yd),i=e.time.yd,n=r}if(0===e&&t.length>1){const e=Math.ceil(s/(t.length-1)),i=new Date(1e3*(t[0].time.yd-e));t[0].timeWeight=O_(new Date(1e3*t[0].time.yd),i)}}(t,e)}static Pd(t){return pv({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}const R_="undefined"!=typeof window;function A_(){return!!R_&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function z_(){return!!R_&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function D_(t){return t+t%2}function F_(t,e){return t.Rd-e.Rd}function W_(t,e,i){const n=(t.Rd-e.Rd)/(t.ot-e.ot);return Math.sign(n)*Math.min(Math.abs(n),i)}class U_{constructor(t,e,i,n){this.Dd=null,this.Od=null,this.Ad=null,this.Vd=null,this.Bd=null,this.Id=0,this.zd=0,this.Ld=t,this.Ed=e,this.Nd=i,this.ss=n}Fd(t,e){if(null!==this.Dd){if(this.Dd.ot===e)return void(this.Dd.Rd=t);if(Math.abs(this.Dd.Rd-t)<this.ss)return}this.Vd=this.Ad,this.Ad=this.Od,this.Od=this.Dd,this.Dd={ot:e,Rd:t}}Pr(t,e){if(null===this.Dd||null===this.Od)return;if(e-this.Dd.ot>50)return;let i=0;const n=W_(this.Dd,this.Od,this.Ed),s=F_(this.Dd,this.Od),o=[n],r=[s];if(i+=s,null!==this.Ad){const t=W_(this.Od,this.Ad,this.Ed);if(Math.sign(t)===Math.sign(n)){const e=F_(this.Od,this.Ad);if(o.push(t),r.push(e),i+=e,null!==this.Vd){const t=W_(this.Ad,this.Vd,this.Ed);if(Math.sign(t)===Math.sign(n)){const e=F_(this.Ad,this.Vd);o.push(t),r.push(e),i+=e}}}}let l=0;for(let a=0;a<o.length;++a)l+=r[a]/i*o[a];Math.abs(l)<this.Ld||(this.Bd={Rd:t,ot:e},this.zd=l,this.Id=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(l),this.Nd))}Xu(t){const e=iv(this.Bd),i=t-e.ot;return e.Rd+this.zd*(Math.pow(this.Nd,i)-1)/Math.log(this.Nd)}Yu(t){return null===this.Bd||this.Wd(t)===this.Id}Wd(t){const e=t-iv(this.Bd).ot;return Math.min(e,this.Id)}}function V_(t,e){const i=iv(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new Dm(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function $_(t){var e;t.width=1,t.height=1,null===(e=t.getContext("2d"))||void 0===e||e.clearRect(0,0,1,1)}function B_(t,e,i,n){t.fl&&t.fl(e,i,n)}function j_(t,e,i,n){t.K(e,i,n)}function H_(t,e,i,n){const s=t(i,n);for(const o of s){const t=o.gt();null!==t&&e(t)}}class Y_{constructor(t,e,i){this.jd=0,this.Hd=null,this.$d={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Ud=0,this.qd=null,this.Yd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Xd=null,this.Kd=!1,this.Zd=null,this.Gd=null,this.Jd=!1,this.Qd=!1,this.tf=!1,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=null,this.lf=null,this.af=0,this._f=!1,this.uf=!1,this.cf=!1,this.df=0,this.ff=null,this.vf=!z_(),this.pf=t=>{this.mf(t)},this.bf=t=>{if(this.wf(t)){const e=this.gf(t);if(++this.Ud,this.qd&&this.Ud>1){const{Mf:i}=this.xf(Z_(t),this.Yd);i<30&&!this.tf&&this.Sf(e,this.yf.kf),this.Cf()}}else{const e=this.gf(t);if(++this.jd,this.Hd&&this.jd>1){const{Mf:i}=this.xf(Z_(t),this.$d);i<5&&!this.Qd&&this.Tf(e,this.yf.Pf),this.Rf()}}},this.Df=t,this.yf=e,this._n=i,this.Of()}S(){null!==this.if&&(this.if(),this.if=null),null!==this.nf&&(this.nf(),this.nf=null),null!==this.ef&&(this.ef(),this.ef=null),null!==this.rf&&(this.rf(),this.rf=null),null!==this.hf&&(this.hf(),this.hf=null),null!==this.sf&&(this.sf(),this.sf=null),this.Af(),this.Rf()}Vf(t){this.ef&&this.ef();const e=this.Bf.bind(this);if(this.ef=()=>{this.Df.removeEventListener("mousemove",e)},this.Df.addEventListener("mousemove",e),this.wf(t))return;const i=this.gf(t);this.Tf(i,this.yf.If),this.vf=!0}Rf(){null!==this.Hd&&clearTimeout(this.Hd),this.jd=0,this.Hd=null,this.$d={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Cf(){null!==this.qd&&clearTimeout(this.qd),this.Ud=0,this.qd=null,this.Yd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Bf(t){if(this.cf||null!==this.Gd)return;if(this.wf(t))return;const e=this.gf(t);this.Tf(e,this.yf.zf),this.vf=!0}Lf(t){const e=Q_(t.changedTouches,iv(this.ff));if(null===e)return;if(this.df=K_(t),null!==this.lf)return;if(this.uf)return;this._f=!0;const i=this.xf(Z_(e),iv(this.Gd)),{Ef:n,Nf:s,Mf:o}=i;if(this.Jd||!(o<5)){if(!this.Jd){const t=.5*n,e=s>=t&&!this._n.Ff(),i=t>s&&!this._n.Wf();e||i||(this.uf=!0),this.Jd=!0,this.tf=!0,this.Af(),this.Cf()}if(!this.uf){const i=this.gf(t,e);this.Sf(i,this.yf.jf),X_(t)}}}Hf(t){if(0!==t.button)return;const e=this.xf(Z_(t),iv(this.Zd)),{Mf:i}=e;if(i>=5&&(this.Qd=!0,this.Rf()),this.Qd){const e=this.gf(t);this.Tf(e,this.yf.$f)}}xf(t,e){const i=Math.abs(e.nt-t.nt),n=Math.abs(e.st-t.st);return{Ef:i,Nf:n,Mf:i+n}}Uf(t){let e=Q_(t.changedTouches,iv(this.ff));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.ff=null,this.df=K_(t),this.Af(),this.Gd=null,this.hf&&(this.hf(),this.hf=null);const i=this.gf(t,e);if(this.Sf(i,this.yf.qf),++this.Ud,this.qd&&this.Ud>1){const{Mf:t}=this.xf(Z_(e),this.Yd);t<30&&!this.tf&&this.Sf(i,this.yf.kf),this.Cf()}else this.tf||(this.Sf(i,this.yf.Yf),this.yf.Yf&&X_(t));0===this.Ud&&X_(t),0===t.touches.length&&this.Kd&&(this.Kd=!1,X_(t))}mf(t){if(0!==t.button)return;const e=this.gf(t);if(this.Zd=null,this.cf=!1,this.rf&&(this.rf(),this.rf=null),A_()&&this.Df.ownerDocument.documentElement.removeEventListener("mouseleave",this.pf),!this.wf(t))if(this.Tf(e,this.yf.Xf),++this.jd,this.Hd&&this.jd>1){const{Mf:i}=this.xf(Z_(t),this.$d);i<5&&!this.Qd&&this.Tf(e,this.yf.Pf),this.Rf()}else this.Qd||this.Tf(e,this.yf.Kf)}Af(){null!==this.Xd&&(clearTimeout(this.Xd),this.Xd=null)}Zf(t){if(null!==this.ff)return;const e=t.changedTouches[0];this.ff=e.identifier,this.df=K_(t);const i=this.Df.ownerDocument.documentElement;this.tf=!1,this.Jd=!1,this.uf=!1,this.Gd=Z_(e),this.hf&&(this.hf(),this.hf=null);{const e=this.Lf.bind(this),n=this.Uf.bind(this);this.hf=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.Af(),this.Xd=setTimeout(this.Gf.bind(this,t),240)}const n=this.gf(t,e);this.Sf(n,this.yf.Jf),this.qd||(this.Ud=0,this.qd=setTimeout(this.Cf.bind(this),500),this.Yd=Z_(e))}Qf(t){if(0!==t.button)return;const e=this.Df.ownerDocument.documentElement;A_()&&e.addEventListener("mouseleave",this.pf),this.Qd=!1,this.Zd=Z_(t),this.rf&&(this.rf(),this.rf=null);{const t=this.Hf.bind(this),i=this.mf.bind(this);this.rf=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.cf=!0,this.wf(t))return;const i=this.gf(t);this.Tf(i,this.yf.tv),this.Hd||(this.jd=0,this.Hd=setTimeout(this.Rf.bind(this),500),this.$d=Z_(t))}Of(){this.Df.addEventListener("mouseenter",this.Vf.bind(this)),this.Df.addEventListener("touchcancel",this.Af.bind(this));{const t=this.Df.ownerDocument,e=t=>{this.yf.iv&&(t.composed&&this.Df.contains(t.composedPath()[0])||t.target&&this.Df.contains(t.target)||this.yf.iv())};this.nf=()=>{t.removeEventListener("touchstart",e)},this.if=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}z_()&&(this.sf=()=>{this.Df.removeEventListener("dblclick",this.bf)},this.Df.addEventListener("dblclick",this.bf)),this.Df.addEventListener("mouseleave",this.nv.bind(this)),this.Df.addEventListener("touchstart",this.Zf.bind(this),{passive:!0}),function(t){R_&&void 0!==window.chrome&&t.addEventListener("mousedown",(t=>{if(1===t.button)return t.preventDefault(),!1}))}(this.Df),this.Df.addEventListener("mousedown",this.Qf.bind(this)),this.sv(),this.Df.addEventListener("touchmove",(()=>{}),{passive:!1})}sv(){void 0===this.yf.ev&&void 0===this.yf.rv&&void 0===this.yf.hv||(this.Df.addEventListener("touchstart",(t=>this.lv(t.touches)),{passive:!0}),this.Df.addEventListener("touchmove",(t=>{if(2===t.touches.length&&null!==this.lf&&void 0!==this.yf.rv){const e=G_(t.touches[0],t.touches[1])/this.af;this.yf.rv(this.lf,e),X_(t)}}),{passive:!1}),this.Df.addEventListener("touchend",(t=>{this.lv(t.touches)})))}lv(t){1===t.length&&(this._f=!1),2!==t.length||this._f||this.Kd?this.av():this.ov(t)}ov(t){const e=this.Df.getBoundingClientRect()||{left:0,top:0};this.lf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.af=G_(t[0],t[1]),void 0!==this.yf.ev&&this.yf.ev(),this.Af()}av(){null!==this.lf&&(this.lf=null,void 0!==this.yf.hv&&this.yf.hv())}nv(t){if(this.ef&&this.ef(),this.wf(t))return;if(!this.vf)return;const e=this.gf(t);this.Tf(e,this.yf._v),this.vf=!z_()}Gf(t){const e=Q_(t.touches,iv(this.ff));if(null===e)return;const i=this.gf(t,e);this.Sf(i,this.yf.uv),this.tf=!0,this.Kd=!0}wf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:K_(t)<this.df+500}Sf(t,e){e&&e.call(this.yf,t)}Tf(t,e){e&&e.call(this.yf,t)}gf(t,e){const i=e||t,n=this.Df.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,cv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,dv:t.type,fv:i.target,vv:t.view,pv:()=>{"touchstart"!==t.type&&X_(t)}}}}function G_(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function X_(t){t.cancelable&&t.preventDefault()}function Z_(t){return{nt:t.pageX,st:t.pageY}}function K_(t){return t.timeStamp||performance.now()}function Q_(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}function q_(t){return{zc:t.zc,mv:{mr:t.bv.externalId},wv:t.bv.cursorStyle}}function J_(t,e,i){for(const n of t){const t=n.gt();if(null!==t&&t.pr){const s=t.pr(e,i);if(null!==s)return{vv:n,mv:s}}}return null}function ty(t,e){return i=>{var n,s,o,r;return(null!==(s=null===(n=i.Dt())||void 0===n?void 0:n.xa())&&void 0!==s?s:"")!==e?[]:null!==(r=null===(o=i.la)||void 0===o?void 0:o.call(i,t))&&void 0!==r?r:[]}}class ey{constructor(t,e,i,n){this.zi=null,this.gv=null,this.Mv=!1,this.xv=new Wg(200),this.Zr=null,this.Sv=0,this.kv=!1,this.yv=()=>{this.kv||this.Qi.Cv().$t().Nh()},this.Tv=()=>{this.kv||this.Qi.Cv().$t().Nh()},this.Qi=t,this._n=e,this.mo=e.layout,this.yc=i,this.Pv="left"===n,this.Rv=ty("normal",n),this.Dv=ty("top",n),this.Ov=ty("bottom",n),this.Av=document.createElement("div"),this.Av.style.height="100%",this.Av.style.overflow="hidden",this.Av.style.width="25px",this.Av.style.left="0",this.Av.style.position="relative",this.Vv=V_(this.Av,Rm({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const s=this.Vv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Bv=V_(this.Av,Rm({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const o=this.Bv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const r={tv:this.Iv.bind(this),Jf:this.Iv.bind(this),$f:this.zv.bind(this),jf:this.zv.bind(this),iv:this.Lv.bind(this),Xf:this.Ev.bind(this),qf:this.Ev.bind(this),Pf:this.Nv.bind(this),kf:this.Nv.bind(this),If:this.Fv.bind(this),_v:this.Wv.bind(this)};this.jv=new Y_(this.Bv.canvasElement,r,{Ff:()=>!this._n.handleScroll.vertTouchDrag,Wf:()=>!0})}S(){this.jv.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),$_(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),$_(this.Vv.canvasElement),this.Vv.dispose(),null!==this.zi&&this.zi.$o().p(this),this.zi=null}Hv(){return this.Av}P(){return this.mo.fontSize}$v(){const t=this.yc.W();return this.Zr!==t.R&&(this.xv.Qe(),this.Zr=t.R),t}Uv(){if(null===this.zi)return 0;let t=0;const e=this.$v(),i=iv(this.Vv.canvasElement.getContext("2d"));i.save();const n=this.zi.La();i.font=this.qv(),n.length>0&&(t=Math.max(this.xv.Mi(i,n[0].Za),this.xv.Mi(i,n[n.length-1].Za)));const s=this.Yv();for(let l=s.length;l--;){const e=this.xv.Mi(i,s[l].Zt());e>t&&(t=e)}const o=this.zi.Ct();if(null!==o&&null!==this.gv){const e=this.zi.fn(1,o),n=this.zi.fn(this.gv.height-2,o);t=Math.max(t,this.xv.Mi(i,this.zi.Ni(Math.floor(Math.min(e,n))+.11111111111111,o)),this.xv.Mi(i,this.zi.Ni(Math.ceil(Math.max(e,n))-.11111111111111,o)))}i.restore();const r=t||34;return D_(Math.ceil(e.C+e.T+e.B+e.I+5+r))}Xv(t){null!==this.gv&&Am(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`)}Kv(){return iv(this.gv).width}Zi(t){this.zi!==t&&(null!==this.zi&&this.zi.$o().p(this),this.zi=t,t.$o().l(this.ao.bind(this),this))}Dt(){return this.zi}Qe(){const t=this.Qi.Zv();this.Qi.Cv().$t().A_(t,iv(this.Dt()))}Gv(t){if(null===this.gv)return;if(1!==t){this.Jv(),this.Vv.applySuggestedBitmapSize();const t=Um(this.Vv);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Qv(t),this.Ae(t)})),this.Qi.tp(t,this.Ov),this.ip(t),this.Qi.tp(t,this.Rv),this.np(t))}this.Bv.applySuggestedBitmapSize();const e=Um(this.Bv);null!==e&&(e.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.sp(e),this.Qi.tp(e,this.Dv))}ep(){return this.Vv.bitmapSize}rp(t,e,i){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,i)}bt(){var t;null===(t=this.zi)||void 0===t||t.La()}Iv(t){if(null===this.zi||this.zi.Ei()||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),i=this.Qi.Zv();this.Mv=!0,e.y_(i,this.zi,t.localY)}zv(t){if(null===this.zi||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),i=this.Qi.Zv(),n=this.zi;e.C_(i,n,t.localY)}Lv(){if(null===this.zi||!this._n.handleScale.axisPressedMouseMove.price)return;const t=this.Qi.Cv().$t(),e=this.Qi.Zv(),i=this.zi;this.Mv&&(this.Mv=!1,t.T_(e,i))}Ev(t){if(null===this.zi||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),i=this.Qi.Zv();this.Mv=!1,e.T_(i,this.zi)}Nv(t){this._n.handleScale.axisDoubleClickReset.price&&this.Qe()}Fv(t){null!==this.zi&&(!this.Qi.Cv().$t().W().handleScale.axisPressedMouseMove.price||this.zi.fh()||this.zi.Co()||this.hp(1))}Wv(t){this.hp(0)}Yv(){const t=[],e=null===this.zi?void 0:this.zi;return(i=>{for(let n=0;n<i.length;++n){const s=i[n].Tn(this.Qi.Zv(),e);for(let e=0;e<s.length;e++)t.push(s[e])}})(this.Qi.Zv().No()),t}Qv({context:t,bitmapSize:e}){const{width:i,height:n}=e,s=this.Qi.Zv().$t(),o=s.q(),r=s._d();o===r?Rv(t,0,0,i,n,o):Fv(t,0,0,i,n,o,r)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(null===this.gv||null===this.zi||!this.zi.W().borderVisible)return;t.fillStyle=this.zi.W().borderColor;const n=Math.max(1,Math.floor(this.$v().C*i));let s;s=this.Pv?e.width-n:0,t.fillRect(s,0,n,e.height)}ip(t){if(null===this.gv||null===this.zi)return;const e=this.zi.La(),i=this.zi.W(),n=this.$v(),s=this.Pv?this.gv.width-n.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:o,verticalPixelRatio:r})=>{t.fillStyle=i.borderColor;const l=Math.max(1,Math.floor(r)),a=Math.floor(.5*r),c=Math.round(n.T*o);t.beginPath();for(const i of e)t.rect(Math.floor(s*o),Math.round(i.Aa*r)-a,c,l);t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{var o;t.font=this.qv(),t.fillStyle=null!==(o=i.textColor)&&void 0!==o?o:this.mo.textColor,t.textAlign=this.Pv?"right":"left",t.textBaseline="middle";const r=this.Pv?Math.round(s-n.B):Math.round(s+n.T+n.B),l=e.map((e=>this.xv.gi(t,e.Za)));for(let i=e.length;i--;){const n=e[i];t.fillText(n.Za,r,n.Aa+l[i])}}))}Jv(){if(null===this.gv||null===this.zi)return;let t=this.gv.height/2;const e=[],i=this.zi.No().slice(),n=this.Qi.Zv(),s=this.$v();this.zi===n.cr()&&this.Qi.Zv().No().forEach((t=>{n.ur(t)&&i.push(t)}));const o=this.zi.Ta()[0],r=this.zi;i.forEach((i=>{const s=i.Tn(n,r);s.forEach((t=>{t.Oi(null),t.Ai()&&e.push(t)})),o===i&&s.length>0&&(t=s[0].Si())})),e.forEach((t=>t.Oi(t.Si()))),this.zi.W().alignLabels&&this.lp(e,s,t)}lp(t,e,i){if(null===this.gv)return;const n=t.filter((t=>t.Si()<=i)),s=t.filter((t=>t.Si()>i));n.sort(((t,e)=>e.Si()-t.Si())),n.length&&s.length&&s.push(n[0]),s.sort(((t,e)=>t.Si()-e.Si()));for(const o of t){const t=Math.floor(o.Bt(e)/2),i=o.Si();i>-t&&i<t&&o.Oi(t),i>this.gv.height-t&&i<this.gv.height+t&&o.Oi(this.gv.height-t)}for(let o=1;o<n.length;o++){const t=n[o],i=n[o-1],s=i.Bt(e,!1),r=t.Si(),l=i.Di();r>l-s&&t.Oi(l-s)}for(let o=1;o<s.length;o++){const t=s[o],i=s[o-1],n=i.Bt(e,!0),r=t.Si(),l=i.Di();r<l+n&&t.Oi(l+n)}}np(t){if(null===this.gv)return;const e=this.Yv(),i=this.$v(),n=this.Pv?"right":"left";e.forEach((e=>{e.Vi()&&e.gt(iv(this.zi)).K(t,i,this.xv,n)}))}sp(t){if(null===this.gv||null===this.zi)return;const e=this.Qi.Cv().$t(),i=[],n=this.Qi.Zv(),s=e.Wc().Tn(n,this.zi);s.length&&i.push(s);const o=this.$v(),r=this.Pv?"right":"left";i.forEach((e=>{e.forEach((e=>{e.gt(iv(this.zi)).K(t,o,this.xv,r)}))}))}hp(t){this.Av.style.cursor=1===t?"ns-resize":"default"}ao(){const t=this.Uv();this.Sv<t&&this.Qi.Cv().$t().$l(),this.Sv=t}qv(){return kv(this.mo.fontSize,this.mo.fontFamily)}}function iy(t,e){var i,n;return null!==(n=null===(i=t.ra)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function ny(t,e){var i,n;return null!==(n=null===(i=t.Cn)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function sy(t,e){var i,n;return null!==(n=null===(i=t.Gi)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function oy(t,e){var i,n;return null!==(n=null===(i=t.na)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}class ry{constructor(t,e){this.gv=Rm({width:0,height:0}),this.ap=null,this.op=null,this._p=null,this.up=!1,this.cp=new fv,this.dp=new fv,this.fp=0,this.vp=!1,this.pp=null,this.mp=!1,this.bp=null,this.wp=null,this.kv=!1,this.yv=()=>{this.kv||null===this.gp||this.Hi().Nh()},this.Tv=()=>{this.kv||null===this.gp||this.Hi().Nh()},this.Mp=t,this.gp=e,this.gp.I_().l(this.xp.bind(this),this,!0),this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.Sp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.kp=document.createElement("td"),this.kp.style.padding="0",this.yp=document.createElement("td"),this.yp.style.padding="0",this.Sp.appendChild(i),this.Vv=V_(i,Rm({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const n=this.Vv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Bv=V_(i,Rm({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const s=this.Bv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Cp=document.createElement("tr"),this.Cp.appendChild(this.kp),this.Cp.appendChild(this.Sp),this.Cp.appendChild(this.yp),this.Tp(),this.jv=new Y_(this.Bv.canvasElement,this,{Ff:()=>null===this.pp&&!this.Mp.W().handleScroll.vertTouchDrag,Wf:()=>null===this.pp&&!this.Mp.W().handleScroll.horzTouchDrag})}S(){null!==this.ap&&this.ap.S(),null!==this.op&&this.op.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),$_(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),$_(this.Vv.canvasElement),this.Vv.dispose(),null!==this.gp&&this.gp.I_().p(this),this.jv.S()}Zv(){return iv(this.gp)}Pp(t){null!==this.gp&&this.gp.I_().p(this),this.gp=t,null!==this.gp&&this.gp.I_().l(ry.prototype.xp.bind(this),this,!0),this.Tp()}Cv(){return this.Mp}Hv(){return this.Cp}Tp(){if(null!==this.gp&&(this.Rp(),0!==this.Hi().wt().length)){if(null!==this.ap){const t=this.gp.S_();this.ap.Zi(iv(t))}if(null!==this.op){const t=this.gp.k_();this.op.Zi(iv(t))}}}Dp(){null!==this.ap&&this.ap.bt(),null!==this.op&&this.op.bt()}v_(){return null!==this.gp?this.gp.v_():0}p_(t){this.gp&&this.gp.p_(t)}If(t){if(!this.gp)return;this.Op();const e=t.localX,i=t.localY;this.Ap(e,i,t)}tv(t){this.Op(),this.Vp(),this.Ap(t.localX,t.localY,t)}zf(t){var e;if(!this.gp)return;this.Op();const i=t.localX,n=t.localY;this.Ap(i,n,t);const s=this.pr(i,n);this.Mp.Bp(null!==(e=null==s?void 0:s.wv)&&void 0!==e?e:null),this.Hi().Ic(s&&{zc:s.zc,mv:s.mv})}Kf(t){null!==this.gp&&(this.Op(),this.Ip(t))}Pf(t){null!==this.gp&&this.zp(this.dp,t)}kf(t){this.Pf(t)}$f(t){this.Op(),this.Lp(t),this.Ap(t.localX,t.localY,t)}Xf(t){null!==this.gp&&(this.Op(),this.vp=!1,this.Ep(t))}Yf(t){null!==this.gp&&this.Ip(t)}uv(t){if(this.vp=!0,null===this.pp){const e={x:t.localX,y:t.localY};this.Np(e,e,t)}}_v(t){null!==this.gp&&(this.Op(),this.gp.$t().Ic(null),this.Fp())}Wp(){return this.cp}jp(){return this.dp}ev(){this.fp=1,this.Hi().Hn()}rv(t,e){if(!this.Mp.W().handleScale.pinch)return;const i=5*(e-this.fp);this.fp=e,this.Hi().qc(t.nt,i)}Jf(t){this.vp=!1,this.mp=null!==this.pp,this.Vp();const e=this.Hi().Wc();null!==this.pp&&e.yt()&&(this.bp={x:e.Yt(),y:e.Xt()},this.pp={x:t.localX,y:t.localY})}jf(t){if(null===this.gp)return;const e=t.localX,i=t.localY;if(null===this.pp)this.Lp(t);else{this.mp=!1;const n=iv(this.bp),s=n.x+(e-this.pp.x),o=n.y+(i-this.pp.y);this.Ap(s,o,t)}}qf(t){0===this.Cv().W().trackingMode.exitMode&&(this.mp=!0),this.Hp(),this.Ep(t)}pr(t,e){const i=this.gp;return null===i?null:function(t,e,i){const n=t.No(),s=function(t,e,i){var n,s;let o,r;for(const c of t){const t=null!==(s=null===(n=c.oa)||void 0===n?void 0:n.call(c,e,i))&&void 0!==s?s:[];for(const e of t)l=e.zOrder,(!(a=null==o?void 0:o.zOrder)||"top"===l&&"top"!==a||"normal"===l&&"bottom"===a)&&(o=e,r=c)}var l,a;return o&&r?{bv:o,zc:r}:null}(n,e,i);if("top"===(null==s?void 0:s.bv.zOrder))return q_(s);for(const o of n){if(s&&s.zc===o&&"bottom"!==s.bv.zOrder&&!s.bv.isBackground)return q_(s);const n=J_(o.Cn(t),e,i);if(null!==n)return{zc:o,vv:n.vv,mv:n.mv};if(s&&s.zc===o&&"bottom"!==s.bv.zOrder&&s.bv.isBackground)return q_(s)}return(null==s?void 0:s.bv)?q_(s):null}(i,t,e)}$p(t,e){iv("left"===e?this.ap:this.op).Xv(Rm({width:t,height:this.gv.height}))}Up(){return this.gv}Xv(t){Am(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Sp.style.width=t.width+"px",this.Sp.style.height=t.height+"px")}qp(){const t=iv(this.gp);t.x_(t.S_()),t.x_(t.k_());for(const e of t.Ta())if(t.ur(e)){const i=e.Dt();null!==i&&t.x_(i),e.Rn()}}ep(){return this.Vv.bitmapSize}rp(t,e,i){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,i)}Gv(t){if(0===t)return;if(null===this.gp)return;if(t>1&&this.qp(),null!==this.ap&&this.ap.Gv(t),null!==this.op&&this.op.Gv(t),1!==t){this.Vv.applySuggestedBitmapSize();const t=Um(this.Vv);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Qv(t)})),this.gp&&(this.Yp(t,iy),this.Xp(t),this.Kp(t),this.Yp(t,ny),this.Yp(t,sy)))}this.Bv.applySuggestedBitmapSize();const e=Um(this.Bv);null!==e&&(e.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.Zp(e),this.Yp(e,oy))}Gp(){return this.ap}Jp(){return this.op}tp(t,e){this.Yp(t,e)}xp(){null!==this.gp&&this.gp.I_().p(this),this.gp=null}Ip(t){this.zp(this.cp,t)}zp(t,e){const i=e.localX,n=e.localY;t.M()&&t.m(this.Hi().St().Vu(i),{x:i,y:n},e)}Qv({context:t,bitmapSize:e}){const{width:i,height:n}=e,s=this.Hi(),o=s.q(),r=s._d();o===r?Rv(t,0,0,i,n,r):Fv(t,0,0,i,n,o,r)}Xp(t){const e=iv(this.gp).z_().Fh().gt();null!==e&&e.K(t,!1)}Kp(t){const e=this.Hi().Fc();this.Qp(t,ny,B_,e),this.Qp(t,ny,j_,e)}Zp(t){this.Qp(t,ny,j_,this.Hi().Wc())}Yp(t,e){const i=iv(this.gp).No();for(const n of i)this.Qp(t,e,B_,n);for(const n of i)this.Qp(t,e,j_,n)}Qp(t,e,i,n){const s=iv(this.gp),o=s.$t().Bc(),r=null!==o&&o.zc===n,l=null!==o&&r&&void 0!==o.mv?o.mv.br:void 0;H_(e,(e=>i(e,t,r,l)),n,s)}Rp(){if(null===this.gp)return;const t=this.Mp,e=this.gp.S_().W().visible,i=this.gp.k_().W().visible;e||null===this.ap||(this.kp.removeChild(this.ap.Hv()),this.ap.S(),this.ap=null),i||null===this.op||(this.yp.removeChild(this.op.Hv()),this.op.S(),this.op=null);const n=t.$t().ed();e&&null===this.ap&&(this.ap=new ey(this,t.W(),n,"left"),this.kp.appendChild(this.ap.Hv())),i&&null===this.op&&(this.op=new ey(this,t.W(),n,"right"),this.yp.appendChild(this.op.Hv()))}tm(t){return t.cv&&this.vp||null!==this.pp}im(t){return Math.max(0,Math.min(t,this.gv.width-1))}nm(t){return Math.max(0,Math.min(t,this.gv.height-1))}Ap(t,e,i){this.Hi().Qc(this.im(t),this.nm(e),i,iv(this.gp))}Fp(){this.Hi().nd()}Hp(){this.mp&&(this.pp=null,this.Fp())}Np(t,e,i){this.pp=t,this.mp=!1,this.Ap(e.x,e.y,i);const n=this.Hi().Wc();this.bp={x:n.Yt(),y:n.Xt()}}Hi(){return this.Mp.$t()}Ep(t){if(!this.up)return;const e=this.Hi(),i=this.Zv();if(e.D_(i,i.dn()),this._p=null,this.up=!1,e.Zc(),null!==this.wp){const t=performance.now(),i=e.St();this.wp.Pr(i.Lu(),t),this.wp.Yu(t)||e.qn(this.wp)}}Op(){this.pp=null}Vp(){if(this.gp){if(this.Hi().Hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)iv(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.gp.dn().Ei()&&this.Hi().St().Ei()}}Lp(t){if(null===this.gp)return;const e=this.Hi(),i=e.St();if(i.Ei())return;const n=this.Mp.W(),s=n.handleScroll,o=n.kineticScroll;if((!s.pressedMouseMove||t.cv)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!t.cv))return;const r=this.gp.dn(),l=performance.now();if(null!==this._p||this.tm(t)||(this._p={x:t.clientX,y:t.clientY,yd:l,sm:t.localX,rm:t.localY}),null!==this._p&&!this.up&&(this._p.x!==t.clientX||this._p.y!==t.clientY)){if(t.cv&&o.touch||!t.cv&&o.mouse){const t=i.ee();this.wp=new U_(.2/t,7/t,.997,15/t),this.wp.Fd(i.Lu(),this._p.yd)}else this.wp=null;r.Ei()||e.P_(this.gp,r,t.localY),e.Xc(t.localX),this.up=!0}this.up&&(r.Ei()||e.R_(this.gp,r,t.localY),e.Kc(t.localX),null!==this.wp&&this.wp.Fd(i.Lu(),l))}}class ly{constructor(t,e,i,n,s){this.ft=!0,this.gv=Rm({width:0,height:0}),this.yv=()=>this.Gv(3),this.Pv="left"===t,this.yc=i.ed,this._n=e,this.hm=n,this.lm=s,this.Av=document.createElement("div"),this.Av.style.width="25px",this.Av.style.height="100%",this.Av.style.overflow="hidden",this.Vv=V_(this.Av,Rm({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv)}S(){this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),$_(this.Vv.canvasElement),this.Vv.dispose()}Hv(){return this.Av}Up(){return this.gv}Xv(t){Am(this.gv,t)||(this.gv=t,this.Vv.resizeCanvasElement(t),this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`,this.ft=!0)}Gv(t){if(t<3&&!this.ft)return;if(0===this.gv.width||0===this.gv.height)return;this.ft=!1,this.Vv.applySuggestedBitmapSize();const e=Um(this.Vv);null!==e&&e.useBitmapCoordinateSpace((t=>{this.Qv(t),this.Ae(t)}))}ep(){return this.Vv.bitmapSize}rp(t,e,i){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,i)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(!this.hm())return;t.fillStyle=this._n.timeScale.borderColor;const s=Math.floor(this.yc.W().C*i),o=Math.floor(this.yc.W().C*n),r=this.Pv?e.width-s:0;t.fillRect(r,0,s,o)}Qv({context:t,bitmapSize:e}){Rv(t,0,0,e.width,e.height,this.lm())}}function ay(t){return e=>{var i,n;return null!==(n=null===(i=e.aa)||void 0===i?void 0:i.call(e,t))&&void 0!==n?n:[]}}const cy=ay("normal"),hy=ay("top"),uy=ay("bottom");class dy{constructor(t,e){this.am=null,this.om=null,this.k=null,this._m=!1,this.gv=Rm({width:0,height:0}),this.um=new fv,this.xv=new Wg(5),this.kv=!1,this.yv=()=>{this.kv||this.Mp.$t().Nh()},this.Tv=()=>{this.kv||this.Mp.$t().Nh()},this.Mp=t,this.N_=e,this._n=t.W().layout,this.dm=document.createElement("tr"),this.fm=document.createElement("td"),this.fm.style.padding="0",this.vm=document.createElement("td"),this.vm.style.padding="0",this.Av=document.createElement("td"),this.Av.style.height="25px",this.Av.style.padding="0",this.pm=document.createElement("div"),this.pm.style.width="100%",this.pm.style.height="100%",this.pm.style.position="relative",this.pm.style.overflow="hidden",this.Av.appendChild(this.pm),this.Vv=V_(this.pm,Rm({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const i=this.Vv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Bv=V_(this.pm,Rm({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const n=this.Bv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.dm.appendChild(this.fm),this.dm.appendChild(this.Av),this.dm.appendChild(this.vm),this.bm(),this.Mp.$t().f_().l(this.bm.bind(this),this),this.jv=new Y_(this.Bv.canvasElement,this,{Ff:()=>!0,Wf:()=>!this.Mp.W().handleScroll.horzTouchDrag})}S(){this.jv.S(),null!==this.am&&this.am.S(),null!==this.om&&this.om.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),$_(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),$_(this.Vv.canvasElement),this.Vv.dispose()}Hv(){return this.dm}wm(){return this.am}gm(){return this.om}tv(t){if(this._m)return;this._m=!0;const e=this.Mp.$t();!e.St().Ei()&&this.Mp.W().handleScale.axisPressedMouseMove.time&&e.Uc(t.localX)}Jf(t){this.tv(t)}iv(){const t=this.Mp.$t();!t.St().Ei()&&this._m&&(this._m=!1,this.Mp.W().handleScale.axisPressedMouseMove.time&&t.Jc())}$f(t){const e=this.Mp.$t();!e.St().Ei()&&this.Mp.W().handleScale.axisPressedMouseMove.time&&e.Gc(t.localX)}jf(t){this.$f(t)}Xf(){this._m=!1;const t=this.Mp.$t();t.St().Ei()&&!this.Mp.W().handleScale.axisPressedMouseMove.time||t.Jc()}qf(){this.Xf()}Pf(){this.Mp.W().handleScale.axisDoubleClickReset.time&&this.Mp.$t().Xn()}kf(){this.Pf()}If(){this.Mp.$t().W().handleScale.axisPressedMouseMove.time&&this.hp(1)}_v(){this.hp(0)}Up(){return this.gv}Mm(){return this.um}xm(t,e,i){Am(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`,this.um.m(t)),null!==this.am&&this.am.Xv(Rm({width:e,height:t.height})),null!==this.om&&this.om.Xv(Rm({width:i,height:t.height}))}Sm(){const t=this.km();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.ym)}bt(){this.Mp.$t().St().La()}ep(){return this.Vv.bitmapSize}rp(t,e,i){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,i)}Gv(t){if(0===t)return;if(1!==t){this.Vv.applySuggestedBitmapSize();const e=Um(this.Vv);null!==e&&(e.useBitmapCoordinateSpace((t=>{this.Qv(t),this.Ae(t),this.Cm(e,uy)})),this.ip(e),this.Cm(e,cy)),null!==this.am&&this.am.Gv(t),null!==this.om&&this.om.Gv(t)}this.Bv.applySuggestedBitmapSize();const e=Um(this.Bv);null!==e&&(e.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.Tm([...this.Mp.$t().wt(),this.Mp.$t().Wc()],e),this.Cm(e,hy))}Cm(t,e){const i=this.Mp.$t().wt();for(const n of i)H_(e,(e=>B_(e,t,!1,void 0)),n,void 0);for(const n of i)H_(e,(e=>j_(e,t,!1,void 0)),n,void 0)}Qv({context:t,bitmapSize:e}){Rv(t,0,0,e.width,e.height,this.Mp.$t()._d())}Ae({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Mp.W().timeScale.borderVisible){t.fillStyle=this.Pm();const n=Math.max(1,Math.floor(this.km().C*i));t.fillRect(0,0,e.width,n)}}ip(t){const e=this.Mp.$t().St(),i=e.La();if(!i||0===i.length)return;const n=this.N_.maxTickMarkWeight(i),s=this.km(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:e,verticalPixelRatio:n})=>{t.strokeStyle=this.Pm(),t.fillStyle=this.Pm();const o=Math.max(1,Math.floor(e)),r=Math.floor(.5*e);t.beginPath();const l=Math.round(s.T*n);for(let s=i.length;s--;){const n=Math.round(i[s].coord*e);t.rect(n-r,0,o,l)}t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{const e=s.C+s.T+s.L+s.P/2;t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.$(),t.font=this.qv();for(const s of i)if(s.weight<n){const i=s.needAlignCoordinate?this.Rm(t,s.coord,s.label):s.coord;t.fillText(s.label,i,e)}this.Mp.W().timeScale.allowBoldLabels&&(t.font=this.Dm());for(const s of i)if(s.weight>=n){const i=s.needAlignCoordinate?this.Rm(t,s.coord,s.label):s.coord;t.fillText(s.label,i,e)}}))}Rm(t,e,i){const n=this.xv.Mi(t,i),s=n/2,o=Math.floor(e-s)+.5;return o<0?e+=Math.abs(0-o):o+n>this.gv.width&&(e-=Math.abs(this.gv.width-(o+n))),e}Tm(t,e){const i=this.km();for(const n of t)for(const t of n.Ji())t.gt().K(e,i)}Pm(){return this.Mp.W().timeScale.borderColor}$(){return this._n.textColor}j(){return this._n.fontSize}qv(){return kv(this.j(),this._n.fontFamily)}Dm(){return kv(this.j(),this._n.fontFamily,"bold")}km(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Wi:NaN,T:5,P:NaN,R:"",Fi:new Wg,ym:0});const t=this.k,e=this.qv();if(t.R!==e){const i=this.j();t.P=i,t.R=e,t.L=3*i/12,t.V=3*i/12,t.Wi=9*i/12,t.N=0,t.ym=4*i/12,t.Fi.Qe()}return this.k}hp(t){this.Av.style.cursor=1===t?"ew-resize":"default"}bm(){const t=this.Mp.$t(),e=t.W();e.leftPriceScale.visible||null===this.am||(this.fm.removeChild(this.am.Hv()),this.am.S(),this.am=null),e.rightPriceScale.visible||null===this.om||(this.vm.removeChild(this.om.Hv()),this.om.S(),this.om=null);const i={ed:this.Mp.$t().ed()},n=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,s=()=>t._d();e.leftPriceScale.visible&&null===this.am&&(this.am=new ly("left",e,i,n,s),this.fm.appendChild(this.am.Hv())),e.rightPriceScale.visible&&null===this.om&&(this.om=new ly("right",e,i,n,s),this.vm.appendChild(this.om.Hv()))}}const fy=!!R_&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!R_&&((null===(py=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===py?void 0:py.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);var py;class my{constructor(t,e,i){var n;this.Om=[],this.Am=0,this.Qa=0,this.e_=0,this.Vm=0,this.Bm=0,this.Im=null,this.zm=!1,this.cp=new fv,this.dp=new fv,this.xc=new fv,this.Lm=null,this.Em=null,this.Nm=t,this._n=e,this.N_=i,this.dm=document.createElement("div"),this.dm.classList.add("tv-lightweight-charts"),this.dm.style.overflow="hidden",this.dm.style.direction="ltr",this.dm.style.width="100%",this.dm.style.height="100%",(n=this.dm).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.Fm=document.createElement("table"),this.Fm.setAttribute("cellspacing","0"),this.dm.appendChild(this.Fm),this.Wm=this.jm.bind(this),vy(this._n)&&this.Hm(!0),this.Hi=new g_(this.kc.bind(this),this._n,i),this.$t().jc().l(this.$m.bind(this),this),this.Um=new dy(this,this.N_),this.Fm.appendChild(this.Um.Hv());const s=e.autoSize&&this.qm();let o=this._n.width,r=this._n.height;if(s||0===o||0===r){const e=t.getBoundingClientRect();o=o||e.width,r=r||e.height}this.Ym(o,r),this.Xm(),t.appendChild(this.dm),this.Km(),this.Hi.St().Gu().l(this.Hi.$l.bind(this.Hi),this),this.Hi.f_().l(this.Hi.$l.bind(this.Hi),this)}$t(){return this.Hi}W(){return this._n}Zm(){return this.Om}Gm(){return this.Um}S(){this.Hm(!1),0!==this.Am&&window.cancelAnimationFrame(this.Am),this.Hi.jc().p(this),this.Hi.St().Gu().p(this),this.Hi.f_().p(this),this.Hi.S();for(const t of this.Om)this.Fm.removeChild(t.Hv()),t.Wp().p(this),t.jp().p(this),t.S();this.Om=[],iv(this.Um).S(),null!==this.dm.parentElement&&this.dm.parentElement.removeChild(this.dm),this.xc.S(),this.cp.S(),this.dp.S(),this.Jm()}Ym(t,e,i=!1){if(this.Qa===e&&this.e_===t)return;const n=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return Rm({width:e-e%2,height:i-i%2})}(Rm({width:t,height:e}));this.Qa=n.height,this.e_=n.width;const s=this.Qa+"px",o=this.e_+"px";iv(this.dm).style.height=s,iv(this.dm).style.width=o,this.Fm.style.height=s,this.Fm.style.width=o,i?this.Qm(Zv.ns(),performance.now()):this.Hi.$l()}Gv(t){void 0===t&&(t=Zv.ns());for(let e=0;e<this.Om.length;e++)this.Om[e].Gv(t.Wn(e).En);this._n.timeScale.visible&&this.Um.Gv(t.Fn())}Eh(t){const e=vy(this._n);this.Hi.Eh(t);const i=vy(this._n);i!==e&&this.Hm(i),this.Km(),this.tb(t)}Wp(){return this.cp}jp(){return this.dp}jc(){return this.xc}ib(){null!==this.Im&&(this.Qm(this.Im,performance.now()),this.Im=null);const t=this.nb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=iv(e.getContext("2d"));return this.nb(i),e}sb(t){return("left"!==t||this.eb())&&("right"!==t||this.rb())?0===this.Om.length?0:iv("left"===t?this.Om[0].Gp():this.Om[0].Jp()).Kv():0}hb(){return this._n.autoSize&&null!==this.Lm}lb(){return this.dm}Bp(t){this.Em=t,this.Em?this.lb().style.setProperty("cursor",t):this.lb().style.removeProperty("cursor")}ab(){return this.Em}ob(){return ev(this.Om[0]).Up()}tb(t){(void 0!==t.autoSize||!this.Lm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.Lm&&this.qm(),!1===t.autoSize&&null!==this.Lm&&this.Jm(),t.autoSize||void 0===t.width&&void 0===t.height||this.Ym(t.width||this.e_,t.height||this.Qa))}nb(t){let e=0,i=0;const n=this.Om[0],s=(e,i)=>{let n=0;for(let s=0;s<this.Om.length;s++){const o=this.Om[s],r=iv("left"===e?o.Gp():o.Jp()),l=r.ep();null!==t&&r.rp(t,i,n),n+=l.height}};this.eb()&&(s("left",0),e+=iv(n.Gp()).ep().width);for(let r=0;r<this.Om.length;r++){const n=this.Om[r],s=n.ep();null!==t&&n.rp(t,e,i),i+=s.height}e+=n.ep().width,this.rb()&&(s("right",e),e+=iv(n.Jp()).ep().width);const o=(e,i,n)=>{iv("left"===e?this.Um.wm():this.Um.gm()).rp(iv(t),i,n)};if(this._n.timeScale.visible){const e=this.Um.ep();if(null!==t){let s=0;this.eb()&&(o("left",s,i),s=iv(n.Gp()).ep().width),this.Um.rp(t,s,i),s+=e.width,this.rb()&&o("right",s,i)}i+=e.height}return Rm({width:e,height:i})}_b(){let t=0,e=0,i=0;for(const f of this.Om)this.eb()&&(e=Math.max(e,iv(f.Gp()).Uv(),this._n.leftPriceScale.minimumWidth)),this.rb()&&(i=Math.max(i,iv(f.Jp()).Uv(),this._n.rightPriceScale.minimumWidth)),t+=f.v_();e=D_(e),i=D_(i);const n=this.e_,s=this.Qa,o=Math.max(n-e-i,0),r=this._n.timeScale.visible;let l=r?Math.max(this.Um.Sm(),this._n.timeScale.minimumHeight):0;var a;l=(a=l)+a%2;const c=0+l,h=s<c?0:s-c,u=h/t;let d=0;for(let f=0;f<this.Om.length;++f){const t=this.Om[f];t.Pp(this.Hi.Nc()[f]);let n=0,s=0;s=f===this.Om.length-1?h-d:Math.round(t.v_()*u),n=Math.max(s,2),d+=n,t.Xv(Rm({width:o,height:n})),this.eb()&&t.$p(e,"left"),this.rb()&&t.$p(i,"right"),t.Zv()&&this.Hi.Hc(t.Zv(),n)}this.Um.xm(Rm({width:r?o:0,height:l}),r?e:0,r?i:0),this.Hi.m_(o),this.Vm!==e&&(this.Vm=e),this.Bm!==i&&(this.Bm=i)}Hm(t){t?this.dm.addEventListener("wheel",this.Wm,{passive:!1}):this.dm.removeEventListener("wheel",this.Wm)}ub(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return fy?1/window.devicePixelRatio:1}jm(t){if(!(0!==t.deltaX&&this._n.handleScroll.mouseWheel||0!==t.deltaY&&this._n.handleScale.mouseWheel))return;const e=this.ub(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this._n.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.dm.getBoundingClientRect().left;this.$t().qc(i,e)}0!==i&&this._n.handleScroll.mouseWheel&&this.$t().Yc(-80*i)}Qm(t,e){var i;const n=t.Fn();3===n&&this.cb(),3!==n&&2!==n||(this.fb(t),this.vb(t,e),this.Um.bt(),this.Om.forEach((t=>{t.Dp()})),3===(null===(i=this.Im)||void 0===i?void 0:i.Fn())&&(this.Im.Jn(t),this.cb(),this.fb(this.Im),this.vb(this.Im,e),t=this.Im,this.Im=null)),this.Gv(t)}vb(t,e){for(const i of t.Gn())this.Qn(i,e)}fb(t){const e=this.Hi.Nc();for(let i=0;i<e.length;i++)t.Wn(i).Nn&&e[i].V_()}Qn(t,e){const i=this.Hi.St();switch(t.$n){case 0:i.Qu();break;case 1:i.tc(t.Ot);break;case 2:i.Kn(t.Ot);break;case 3:i.Zn(t.Ot);break;case 4:i.Fu();break;case 5:t.Ot.Yu(e)||i.Zn(t.Ot.Xu(e))}}kc(t){null!==this.Im?this.Im.Jn(t):this.Im=t,this.zm||(this.zm=!0,this.Am=window.requestAnimationFrame((t=>{if(this.zm=!1,this.Am=0,null!==this.Im){const e=this.Im;this.Im=null,this.Qm(e,t);for(const i of e.Gn())if(5===i.$n&&!i.Ot.Yu(t)){this.$t().qn(i.Ot);break}}})))}cb(){this.Xm()}Xm(){const t=this.Hi.Nc(),e=t.length,i=this.Om.length;for(let n=e;n<i;n++){const t=ev(this.Om.pop());this.Fm.removeChild(t.Hv()),t.Wp().p(this),t.jp().p(this),t.S()}for(let n=i;n<e;n++){const e=new ry(this,t[n]);e.Wp().l(this.pb.bind(this),this),e.jp().l(this.mb.bind(this),this),this.Om.push(e),this.Fm.insertBefore(e.Hv(),this.Um.Hv())}for(let n=0;n<e;n++){const e=t[n],i=this.Om[n];i.Zv()!==e?i.Pp(e):i.Tp()}this.Km(),this._b()}bb(t,e,i){var n;const s=new Map;let o;if(null!==t&&this.Hi.wt().forEach((e=>{const i=e.Vn().il(t);null!==i&&s.set(e,i)})),null!==t){const e=null===(n=this.Hi.St().$i(t))||void 0===n?void 0:n.originalTime;void 0!==e&&(o=e)}const r=this.$t().Bc(),l=null!==r&&r.zc instanceof Nb?r.zc:void 0,a=null!==r&&void 0!==r.mv?r.mv.mr:void 0;return{wb:o,ie:null!=t?t:void 0,gb:null!=e?e:void 0,Mb:l,xb:s,Sb:a,kb:null!=i?i:void 0}}pb(t,e,i){this.cp.m((()=>this.bb(t,e,i)))}mb(t,e,i){this.dp.m((()=>this.bb(t,e,i)))}$m(t,e,i){this.xc.m((()=>this.bb(t,e,i)))}Km(){const t=this._n.timeScale.visible?"":"none";this.Um.Hv().style.display=t}eb(){return this.Om[0].Zv().S_().W().visible}rb(){return this.Om[0].Zv().k_().W().visible}qm(){return"ResizeObserver"in window&&(this.Lm=new ResizeObserver((t=>{const e=t.find((t=>t.target===this.Nm));e&&this.Ym(e.contentRect.width,e.contentRect.height)})),this.Lm.observe(this.Nm,{box:"border-box"}),!0)}Jm(){null!==this.Lm&&this.Lm.disconnect(),this.Lm=null}}function vy(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function gy(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}function by(t,e,i,n){const s=i.value,o={ie:e,ot:t,Ot:[s,s,s,s],wb:n};return void 0!==i.color&&(o.O=i.color),o}function _y(t,e,i,n){const s=i.value,o={ie:e,ot:t,Ot:[s,s,s,s],wb:n};return void 0!==i.lineColor&&(o.lt=i.lineColor),void 0!==i.topColor&&(o.ys=i.topColor),void 0!==i.bottomColor&&(o.Cs=i.bottomColor),o}function yy(t,e,i,n){const s=i.value,o={ie:e,ot:t,Ot:[s,s,s,s],wb:n};return void 0!==i.topLineColor&&(o.Ce=i.topLineColor),void 0!==i.bottomLineColor&&(o.Te=i.bottomLineColor),void 0!==i.topFillColor1&&(o.Me=i.topFillColor1),void 0!==i.topFillColor2&&(o.xe=i.topFillColor2),void 0!==i.bottomFillColor1&&(o.Se=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(o.ke=i.bottomFillColor2),o}function wy(t,e,i,n){const s={ie:e,ot:t,Ot:[i.open,i.high,i.low,i.close],wb:n};return void 0!==i.color&&(s.O=i.color),s}function Sy(t,e,i,n){const s={ie:e,ot:t,Ot:[i.open,i.high,i.low,i.close],wb:n};return void 0!==i.color&&(s.O=i.color),void 0!==i.borderColor&&(s.At=i.borderColor),void 0!==i.wickColor&&(s.Hh=i.wickColor),s}function ky(t,e,i,n,s){const o=ev(s)(i),r=Math.max(...o),l=Math.min(...o),a=o[o.length-1],c=[a,r,l,a],h=i,{time:u,color:d}=h;return{ie:e,ot:t,Ot:c,wb:n,We:gy(h,["time","color"]),O:d}}function Ey(t){return void 0!==t.Ot}function Cy(t,e){return void 0!==e.customValues&&(t.yb=e.customValues),t}function xy(t){return(e,i,n,s,o,r)=>{return l=n,((a=r)?a(l):void 0===(c=l).open&&void 0===c.value)?Cy({ot:e,ie:i,wb:s},n):Cy(t(e,i,n,s,o),n);var l,a,c}}function My(t){return{Candlestick:xy(Sy),Bar:xy(wy),Area:xy(_y),Baseline:xy(yy),Histogram:xy(by),Line:xy(by),Custom:xy(ky)}[t]}function Oy(t){return{ie:0,Cb:new Map,ia:t}}function Ty(t,e){if(void 0!==t&&0!==t.length)return{Tb:e.key(t[0].ot),Pb:e.key(t[t.length-1].ot)}}function Py(t){let e;return t.forEach((t=>{void 0===e&&(e=t.wb)})),ev(e)}class Ly{constructor(t){this.Rb=new Map,this.Db=new Map,this.Ob=new Map,this.Ab=[],this.N_=t}S(){this.Rb.clear(),this.Db.clear(),this.Ob.clear(),this.Ab=[]}Vb(t,e){let i=0!==this.Rb.size,n=!1;const s=this.Db.get(t);if(void 0!==s)if(1===this.Db.size)i=!1,n=!0,this.Rb.clear();else for(const l of this.Ab)l.pointData.Cb.delete(t)&&(n=!0);let o=[];if(0!==e.length){const i=e.map((t=>t.time)),s=this.N_.createConverterToInternalObj(e),r=My(t.Yh()),l=t.ga(),a=t.Ma();o=e.map(((e,o)=>{const c=s(e.time),h=this.N_.key(c);let u=this.Rb.get(h);void 0===u&&(u=Oy(c),this.Rb.set(h,u),n=!0);const d=r(c,u.ie,e,i[o],l,a);return u.Cb.set(t,d),d}))}i&&this.Bb(),this.Ib(t,o);let r=-1;if(n){const t=[];this.Rb.forEach((e=>{t.push({timeWeight:0,time:e.ia,pointData:e,originalTime:Py(e.Cb)})})),t.sort(((t,e)=>this.N_.key(t.time)-this.N_.key(e.time))),r=this.zb(t)}return this.Lb(t,r,function(t,e,i){const n=Ty(t,i),s=Ty(e,i);if(void 0!==n&&void 0!==s)return{Xl:n.Pb>=s.Pb&&n.Tb>=s.Tb}}(this.Db.get(t),s,this.N_))}ld(t){return this.Vb(t,[])}Eb(t,e){const i=e;var n;void 0===(n=i).wb&&(n.wb=n.time),this.N_.preprocessData(e);const s=this.N_.createConverterToInternalObj([e])(e.time),o=this.Ob.get(t);if(void 0!==o&&this.N_.key(s)<this.N_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${s}`);let r=this.Rb.get(this.N_.key(s));const l=void 0===r;void 0===r&&(r=Oy(s),this.Rb.set(this.N_.key(s),r));const a=My(t.Yh()),c=t.ga(),h=t.Ma(),u=a(s,r.ie,e,i.wb,c,h);r.Cb.set(t,u),this.Nb(t,u);const d={Xl:Ey(u)};if(!l)return this.Lb(t,-1,d);const f={timeWeight:0,time:r.ia,pointData:r,originalTime:Py(r.Cb)},p=vg(this.Ab,this.N_.key(f.time),((t,e)=>this.N_.key(t.time)<e));this.Ab.splice(p,0,f);for(let m=p;m<this.Ab.length;++m)Ny(this.Ab[m].pointData,m);return this.N_.fillWeightsForPoints(this.Ab,p),this.Lb(t,p,d)}Nb(t,e){let i=this.Db.get(t);void 0===i&&(i=[],this.Db.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.N_.key(e.ot)>this.N_.key(n.ot)?Ey(e)&&i.push(e):Ey(e)?i[i.length-1]=e:i.splice(-1,1),this.Ob.set(t,e.ot)}Ib(t,e){0!==e.length?(this.Db.set(t,e.filter(Ey)),this.Ob.set(t,e[e.length-1].ot)):(this.Db.delete(t),this.Ob.delete(t))}Bb(){for(const t of this.Ab)0===t.pointData.Cb.size&&this.Rb.delete(this.N_.key(t.time))}zb(t){let e=-1;for(let i=0;i<this.Ab.length&&i<t.length;++i){const n=this.Ab[i],s=t[i];if(this.N_.key(n.time)!==this.N_.key(s.time)){e=i;break}s.timeWeight=n.timeWeight,Ny(s.pointData,i)}if(-1===e&&this.Ab.length!==t.length&&(e=Math.min(this.Ab.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)Ny(t[i].pointData,i);return this.N_.fillWeightsForPoints(t,e),this.Ab=t,e}Fb(){if(0===this.Db.size)return null;let t=0;return this.Db.forEach((e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].ie))})),t}Lb(t,e,i){const n={Wb:new Map,St:{Au:this.Fb()}};if(-1!==e)this.Db.forEach(((e,s)=>{n.Wb.set(s,{We:e,jb:s===t?i:void 0})})),this.Db.has(t)||n.Wb.set(t,{We:[],jb:i}),n.St.Hb=this.Ab,n.St.$b=e;else{const e=this.Db.get(t);n.Wb.set(t,{We:e||[],jb:i})}return n}}function Ny(t,e){t.ie=e,t.Cb.forEach((t=>{t.ie=e}))}function Iy(t){const e={value:t.Ot[3],time:t.wb};return void 0!==t.yb&&(e.customValues=t.yb),e}function Ry(t){const e=Iy(t);return void 0!==t.O&&(e.color=t.O),e}function Ay(t){const e=Iy(t);return void 0!==t.lt&&(e.lineColor=t.lt),void 0!==t.ys&&(e.topColor=t.ys),void 0!==t.Cs&&(e.bottomColor=t.Cs),e}function zy(t){const e=Iy(t);return void 0!==t.Ce&&(e.topLineColor=t.Ce),void 0!==t.Te&&(e.bottomLineColor=t.Te),void 0!==t.Me&&(e.topFillColor1=t.Me),void 0!==t.xe&&(e.topFillColor2=t.xe),void 0!==t.Se&&(e.bottomFillColor1=t.Se),void 0!==t.ke&&(e.bottomFillColor2=t.ke),e}function Dy(t){const e={open:t.Ot[0],high:t.Ot[1],low:t.Ot[2],close:t.Ot[3],time:t.wb};return void 0!==t.yb&&(e.customValues=t.yb),e}function Fy(t){const e=Dy(t);return void 0!==t.O&&(e.color=t.O),e}function Wy(t){const e=Dy(t),{O:i,At:n,Hh:s}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==s&&(e.wickColor=s),e}function Uy(t){return{Area:Ay,Line:Ry,Baseline:zy,Histogram:Ry,Bar:Fy,Candlestick:Wy,Custom:Vy}[t]}function Vy(t){const e=t.wb;return Object.assign(Object.assign({},t.We),{time:e})}const $y={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},By={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},jy={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Sv},Hy={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Yy={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Gy={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Sv,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Xy(){return{width:0,height:0,autoSize:!1,layout:jy,crosshair:$y,grid:By,overlayPriceScales:Object.assign({},Hy),leftPriceScale:Object.assign(Object.assign({},Hy),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Hy),{visible:!0}),timeScale:Yy,watermark:Gy,localization:{locale:R_?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Zy{constructor(t,e){this.Ub=t,this.qb=e}applyOptions(t){this.Ub.$t().Lc(this.qb,t)}options(){return this.zi().W()}width(){return Xv(this.qb)?this.Ub.sb(this.qb):0}zi(){return iv(this.Ub.$t().Ec(this.qb)).Dt}}function Ky(t,e,i){const n=gy(t,["time","originalTime"]),s=Object.assign({time:e},n);return void 0!==i&&(s.originalTime=i),s}const Qy={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class qy{constructor(t){this.Vh=t}applyOptions(t){this.Vh.Eh(t)}options(){return this.Vh.W()}Yb(){return this.Vh}}class Jy{constructor(t,e,i,n,s){this.Xb=new fv,this.Is=t,this.Kb=e,this.Zb=i,this.N_=s,this.Gb=n}S(){this.Xb.S()}priceFormatter(){return this.Is.ca()}priceToCoordinate(t){const e=this.Is.Ct();return null===e?null:this.Is.Dt().Rt(t,e.Ot)}coordinateToPrice(t){const e=this.Is.Ct();return null===e?null:this.Is.Dt().fn(t,e.Ot)}barsInLogicalRange(t){if(null===t)return null;const e=new o_(new i_(t.from,t.to)).iu(),i=this.Is.Vn();if(i.Ei())return null;const n=i.il(e.Rs(),1),s=i.il(e.ui(),-1),o=iv(i.Jh()),r=iv(i.An());if(null!==n&&null!==s&&n.ie>s.ie)return{barsBefore:t.from-o,barsAfter:r-t.to};const l={barsBefore:null===n||n.ie===o?t.from-o:n.ie-o,barsAfter:null===s||s.ie===r?r-t.to:r-s.ie};return null!==n&&null!==s&&(l.from=n.wb,l.to=s.wb),l}setData(t){this.N_,this.Is.Yh(),this.Kb.Jb(this.Is,t),this.Qb("full")}update(t){this.Is.Yh(),this.Kb.tw(this.Is,t),this.Qb("update")}dataByIndex(t,e){const i=this.Is.Vn().il(t,e);return null===i?null:Uy(this.seriesType())(i)}data(){const t=Uy(this.seriesType());return this.Is.Vn().Qs().map((e=>t(e)))}subscribeDataChanged(t){this.Xb.l(t)}unsubscribeDataChanged(t){this.Xb.v(t)}setMarkers(t){this.N_;const e=t.map((t=>Ky(t,this.N_.convertHorzItemToInternal(t.time),t.time)));this.Is.Zl(e)}markers(){return this.Is.Gl().map((t=>Ky(t,t.originalTime,void 0)))}applyOptions(t){this.Is.Eh(t)}options(){return _v(this.Is.W())}priceScale(){return this.Zb.priceScale(this.Is.Dt().xa())}createPriceLine(t){const e=pv(_v(Qy),t),i=this.Is.Jl(e);return new qy(i)}removePriceLine(t){this.Is.Ql(t.Yb())}seriesType(){return this.Is.Yh()}attachPrimitive(t){this.Is.ba(t),t.attached&&t.attached({chart:this.Gb,series:this,requestUpdate:()=>this.Is.$t().$l()})}detachPrimitive(t){this.Is.wa(t),t.detached&&t.detached()}Qb(t){this.Xb.M()&&this.Xb.m(t)}}class tw{constructor(t,e,i){this.iw=new fv,this.uu=new fv,this.um=new fv,this.Hi=t,this.wl=t.St(),this.Um=e,this.wl.Ku().l(this.nw.bind(this)),this.wl.Zu().l(this.sw.bind(this)),this.Um.Mm().l(this.ew.bind(this)),this.N_=i}S(){this.wl.Ku().p(this),this.wl.Zu().p(this),this.Um.Mm().p(this),this.iw.S(),this.uu.S(),this.um.S()}scrollPosition(){return this.wl.Lu()}scrollToPosition(t,e){e?this.wl.qu(t,1e3):this.Hi.Zn(t)}scrollToRealTime(){this.wl.Uu()}getVisibleRange(){const t=this.wl.yu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},i=this.wl.Ru(e);this.Hi.ad(i)}getVisibleLogicalRange(){const t=this.wl.ku();return null===t?null:{from:t.Rs(),to:t.ui()}}setVisibleLogicalRange(t){tv(t.from<=t.to,"The from index cannot be after the to index."),this.Hi.ad(t)}resetTimeScale(){this.Hi.Xn()}fitContent(){this.Hi.Qu()}logicalToCoordinate(t){const e=this.Hi.St();return e.Ei()?null:e.It(t)}coordinateToLogical(t){return this.wl.Ei()?null:this.wl.Vu(t)}timeToCoordinate(t){const e=this.N_.convertHorzItemToInternal(t),i=this.wl.ya(e,!1);return null===i?null:this.wl.It(i)}coordinateToTime(t){const e=this.Hi.St(),i=e.Vu(t),n=e.$i(i);return null===n?null:n.originalTime}width(){return this.Um.Up().width}height(){return this.Um.Up().height}subscribeVisibleTimeRangeChange(t){this.iw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.iw.v(t)}subscribeVisibleLogicalRangeChange(t){this.uu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.uu.v(t)}subscribeSizeChange(t){this.um.l(t)}unsubscribeSizeChange(t){this.um.v(t)}applyOptions(t){this.wl.Eh(t)}options(){return Object.assign(Object.assign({},_v(this.wl.W())),{barSpacing:this.wl.ee()})}nw(){this.iw.M()&&this.iw.m(this.getVisibleRange())}sw(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}ew(t){this.um.m(t.width,t.height)}}function ew(t){return function(t){if(bv(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;bv(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),bv(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;bv(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class iw{constructor(t,e,i){this.rw=new Map,this.hw=new Map,this.lw=new fv,this.aw=new fv,this.ow=new fv,this._w=new Ly(e);const n=void 0===i?_v(Xy()):pv(_v(Xy()),ew(i));this.N_=e,this.Ub=new my(t,n,e),this.Ub.Wp().l((t=>{this.lw.M()&&this.lw.m(this.uw(t()))}),this),this.Ub.jp().l((t=>{this.aw.M()&&this.aw.m(this.uw(t()))}),this),this.Ub.jc().l((t=>{this.ow.M()&&this.ow.m(this.uw(t()))}),this);const s=this.Ub.$t();this.cw=new tw(s,this.Ub.Gm(),this.N_)}remove(){this.Ub.Wp().p(this),this.Ub.jp().p(this),this.Ub.jc().p(this),this.cw.S(),this.Ub.S(),this.rw.clear(),this.hw.clear(),this.lw.S(),this.aw.S(),this.ow.S(),this._w.S()}resize(t,e,i){this.autoSizeActive()||this.Ub.Ym(t,e,i)}addCustomSeries(t,e){const i=nv(t),n=Object.assign(Object.assign({},Gm),i.defaultOptions());return this.dw("Custom",n,e,i)}addAreaSeries(t){return this.dw("Area",jm,t)}addBaselineSeries(t){return this.dw("Baseline",Hm,t)}addBarSeries(t){return this.dw("Bar",$m,t)}addCandlestickSeries(t={}){return void 0!==(e=t).borderColor&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),void 0!==e.wickColor&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor),this.dw("Candlestick",Vm,t);var e}addHistogramSeries(t){return this.dw("Histogram",Ym,t)}addLineSeries(t){return this.dw("Line",Bm,t)}removeSeries(t){const e=ev(this.rw.get(t)),i=this._w.ld(e);this.Ub.$t().ld(e),this.fw(i),this.rw.delete(t),this.hw.delete(e)}Jb(t,e){this.fw(this._w.Vb(t,e))}tw(t,e){this.fw(this._w.Eb(t,e))}subscribeClick(t){this.lw.l(t)}unsubscribeClick(t){this.lw.v(t)}subscribeCrosshairMove(t){this.ow.l(t)}unsubscribeCrosshairMove(t){this.ow.v(t)}subscribeDblClick(t){this.aw.l(t)}unsubscribeDblClick(t){this.aw.v(t)}priceScale(t){return new Zy(this.Ub,t)}timeScale(){return this.cw}applyOptions(t){this.Ub.Eh(ew(t))}options(){return this.Ub.W()}takeScreenshot(){return this.Ub.ib()}autoSizeActive(){return this.Ub.hb()}chartElement(){return this.Ub.lb()}paneSize(){const t=this.Ub.ob();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,i){const n=this.rw.get(i);if(void 0===n)return;const s=this.Ub.$t()._r(n);null!==s&&this.Ub.$t().td(t,e,s)}clearCrosshairPosition(){this.Ub.$t().nd(!0)}dw(t,e,i={},n){!function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}(i.priceFormat);const s=pv(_v(Xm),_v(e),i),o=this.Ub.$t().rd(t,s,n),r=new Jy(o,this,this,this,this.N_);return this.rw.set(r,o),this.hw.set(o,r),r}fw(t){const e=this.Ub.$t();e.sd(t.St.Au,t.St.Hb,t.St.$b),t.Wb.forEach(((t,e)=>e.J(t.We,t.jb))),e.Iu()}pw(t){return ev(this.hw.get(t))}uw(t){const e=new Map;t.xb.forEach(((t,i)=>{const n=i.Yh(),s=Uy(n)(t);if("Custom"!==n)tv(void 0!==(o=s).open||void 0!==o.value);else{const t=i.Ma();tv(!t||!1===t(s))}var o;e.set(this.pw(i),s)}));const i=void 0===t.Mb?void 0:this.pw(t.Mb);return{time:t.wb,logical:t.ie,point:t.gb,hoveredSeries:i,hoveredObjectId:t.Sb,seriesData:e,sourceEvent:t.kb}}}function nw(t,e){return function(t,e,i){let n;if(gv(t)){const e=document.getElementById(t);tv(null!==e,`Cannot find element in DOM with id=${t}`),n=e}else n=t;const s=new iw(n,e,i);return e.setOptions(s.options()),s}(t,new I_,I_.Pd(e))}Object.assign(Object.assign({},Xm),Gm);const sw=Si({__name:"PriceChart",props:{resourcesData:{type:Object,required:!0}},setup(t){const{t:e}=bh(),i=t;let n=null;const s=we({}),o=we(null);let r=0,l=!1,a=null,c=!1;const h=Eh(),u=async()=>{if(l||c)return;l=!0;await h.fetchMoreData()||(c=!0),r+=Object.values(i.resourcesData)[0].length,l=!1,(a&&a.to>r||0===r)&&u()},d=t=>{switch(t){case"FOOD":return"blue";case"GOLD":return"gold";case"WOOD":return"green";case"INGOT":return"gray";case"PLANKS":return"brown";case"SOUP":return"orange";case"STONE":return"darkgray";default:return"black"}};return mi((()=>i.resourcesData),(()=>{(()=>{var t;for(const e in i.resourcesData){const n=i.resourcesData[e].slice().filter((t=>t.value)).sort(((t,e)=>t.time-e.time));0===n.length?u():null==(t=s.value[e])||t.setData(n)}})()}),{deep:!0}),Ni((()=>{(()=>{var t;if(o.value){n=nw(o.value,{width:o.value.clientWidth,height:o.value.clientHeight,timeScale:{timeVisible:!0,secondsVisible:!1,rightBarStaysOnScroll:!0,barSpacing:3,tickMarkFormatter:(t,e,i)=>{const n=1e3*t,s=new Date(n);return e===v_.DayOfMonth?s.toLocaleString(i,{day:"2-digit",month:"short"}):e===v_.Month?s.toLocaleString(i,{month:"long",year:"numeric"}):e===v_.Year?s.getUTCFullYear().toString():e===v_.Time?`${s.getUTCHours().toString().padStart(2,"0")}:${(10*Math.floor(s.getUTCMinutes()/10)).toString().padStart(2,"0")}`:n}},localization:{priceFormatter:t=>Bh(t,3)},layout:{background:{color:"#fff"},textColor:"#333333"},grid:{vertLines:{color:"rgba(197, 203, 206, 0.5)"},horzLines:{color:"rgba(197, 203, 206, 0.5)"}}});for(const o in i.resourcesData){const r=i.resourcesData[o].slice().filter((t=>t.value)).sort(((t,e)=>t.time-e.time));s.value[o]=n.addLineSeries({color:d(o),lineWidth:2,title:e(o.toLowerCase())}),0===r.length?u():null==(t=s.value[o])||t.setData(r)}n.timeScale().fitContent(),n.timeScale().subscribeVisibleLogicalRangeChange((t=>{a=t,!l&&t&&t.from<0&&u()}))}})()})),(t,e)=>(Wn(),Bn("div",{ref_key:"chartContainer",ref:o,style:{position:"relative",width:"100%",height:"100%"}},null,512))}}),ow=t=>(ii("data-v-883117e7"),t=t(),ni(),t),rw={class:"modal chart-modal"},lw={class:"modal-dialog"},aw={class:"modal-content"},cw={class:"modal-header"},hw={class:"modal-title"},uw=[ow((()=>Kn("span",{"aria-hidden":"true"},"×",-1)))],dw={class:"modal-body"},fw={key:0,class:"alert alert-danger"},pw={key:1},mw={class:"chart-buttons"},vw=[ow((()=>Kn("img",{src:xh,width:"40px",height:"40px"},null,-1))),ow((()=>Kn("img",{src:Mh,width:"40px",height:"40px"},null,-1))),ow((()=>Kn("img",{src:Oh,width:"40px",height:"40px"},null,-1))),ow((()=>Kn("img",{src:"/farm-world-space-calculator/img/stone.png",width:"40px",height:"40px"},null,-1)))],gw=[ow((()=>Kn("img",{src:"/farm-world-space-calculator/img/planks.png",width:"40px",height:"40px"},null,-1))),ow((()=>Kn("img",{src:"/farm-world-space-calculator/img/soup.png",width:"40px",height:"40px"},null,-1))),ow((()=>Kn("img",{src:"/farm-world-space-calculator/img/ingot.png",width:"40px",height:"40px"},null,-1)))],bw={key:0,class:"chart-container"},_w={key:1,class:"chart-container"},yw=Ph(Si({__name:"PriceChartModal",setup(t){const{t:e}=bh(),i=Th(),n=Eh(),s=ws((()=>i.showChartModal)),o=ws((()=>n.chartPrices)),r=ws((()=>n.chartError)),l=we("");function a(){i.closeChartModal()}function c(t){l.value=t}return(t,i)=>yi((Wn(),Bn("div",rw,[Kn("div",lw,[Kn("div",aw,[Kn("div",cw,[Kn("h5",hw,Z(Ce(e)("priceCharts")),1),Kn("button",{type:"button",class:"close",onClick:a,"aria-label":"Close"},uw)]),Kn("div",dw,[r.value&&!o.value.length?(Wn(),Bn("div",fw,Z(Ce(e)("chartError")),1)):(Wn(),Bn("div",pw,[Kn("div",mw,[Kn("button",{type:"button",class:j(["chart-button btn btn-link",{"chart-button-active":"simple"===l.value}]),onClick:i[0]||(i[0]=t=>c("simple"))},vw,2),Kn("button",{type:"button",class:j(["chart-button btn btn-link",{"chart-button-active":"factories"===l.value}]),onClick:i[1]||(i[1]=t=>c("factories"))},gw,2)]),"simple"===l.value?(Wn(),Bn("div",bw,[Qn(sw,{"resources-data":{FOOD:Ce(n).foodData,GOLD:Ce(n).goldData,WOOD:Ce(n).woodData,STONE:Ce(n).StoneData}},null,8,["resources-data"])])):es("",!0),"factories"===l.value?(Wn(),Bn("div",_w,[Qn(sw,{"resources-data":{INGOT:Ce(n).IngotData,PLANKS:Ce(n).PlanksData,SOUP:Ce(n).SoupData}},null,8,["resources-data"])])):es("",!0)]))])])])],512)),[[Ps,s.value]])}}),[["__scopeId","data-v-883117e7"]]),ww={},Sw={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",style:{"enable-background":"new 0 0 115.77 122.88"},"xml:space":"preserve",width:"20px",height:"20px"},kw=[(t=>(ii("data-v-2a31bbe2"),t=t(),ni(),t))((()=>Kn("g",null,[Kn("path",{class:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})],-1)))];const Ew=Ph(ww,[["render",function(t,e){return Wn(),Bn("svg",Sw,kw)}],["__scopeId","data-v-2a31bbe2"]]),Cw={class:"resources-container useful-tools-container"},xw={class:"col-lg-4 col-md-6 col-sm-12 mb-4 pl-2 text-center useful-tool-item"},Mw={class:"card card-cascade wider"},Ow={class:"view view-cascade grey darken-3"},Tw={class:"m-1"},Pw={key:0,class:"modal"},Lw={class:"modal-dialog"},Nw={class:"modal-content"},Iw={class:"modal-header"},Rw={class:"modal-title"},Aw=[Kn("span",{"aria-hidden":"true"},"×",-1)],zw={class:"modal-body"},Dw={class:"form-group"},Fw={for:"resourceAmount"},Ww={class:"form-group"},Uw={for:"resourceType"},Vw={class:"icon-resource-select-wrapper"},$w=["onClick"],Bw=["src"],jw={class:"icon-resource-select-resource"},Hw={class:"form-group"},Yw={for:"pricePerUnit"},Gw=["disabled"],Xw={class:"form-group form-check"},Zw={class:"form-check-label",for:"autoPrice"},Kw={class:"form-group"},Qw=Kn("i",{class:"ton-icon"},null,-1),qw=Si({__name:"StackPriceCalculator",setup(t){const{t:e}=bh(),i=Th(),n=Ch(),s=ws((()=>i.showStackPriceModal));function o(){i.openStackPriceModal()}const r=["wood","food","gold","stone","planks","ingot","soup"],l=we(1),a=we("wood"),c=we(n.getResourcePrice(a.value)),h=we(!0);function u(){h.value&&(c.value=n.getResourcePrice(a.value))}mi(a,(()=>{h.value&&(c.value=n.getResourcePrice(a.value))})),mi(n.prices,(()=>{h.value&&(c.value=n.getResourcePrice(a.value))}),{deep:!0});const d=ws((()=>{const t=.001/10**f.value,e=h.value?n.getResourcePrice(a.value)-t:c.value;return l.value*e})),f=ws((()=>{const t=Bh(n.getResourcePrice(a.value)),e=String(t).match(/\.0+/);return e?e[0].length-1:0}));function p(){i.closeStackPriceModal()}async function m(){try{const t=f.value+3;await navigator.clipboard.writeText(d.value.toFixed(t).toString())}catch(t){}}return(t,i)=>(Wn(),Bn(In,null,[Kn("div",Cw,[Kn("div",xw,[Kn("div",Mw,[Kn("div",Ow,[Kn("div",Tw,[Kn("button",{onClick:o,class:"btn btn-primary"},Z(Ce(e)("stackPriceCalculator")),1)])])])])]),s.value?(Wn(),Bn("div",Pw,[Kn("div",Lw,[Kn("div",Nw,[Kn("div",Iw,[Kn("h5",Rw,Z(Ce(e)("stackPriceCalculator")),1),Kn("button",{type:"button",class:"close",onClick:p,"aria-label":"Close"},Aw)]),Kn("div",zw,[Kn("div",Dw,[Kn("label",Fw,Z(Ce(e)("resourceAmount")),1),yi(Kn("input",{type:"number",id:"resourceAmount",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t)},null,512),[[Qs,l.value,void 0,{number:!0}]])]),Kn("div",Ww,[Kn("label",Uw,Z(Ce(e)("resourceType")),1),Kn("div",Vw,[(Wn(),Bn(In,null,Vi(r,(t=>Kn("div",{key:t,class:j(["icon-resource-select-row",{"icon-resource-select-row--active":a.value===t}]),onClick:e=>a.value=t},[Kn("img",{src:`/farm-world-space-calculator/img/${t}.png`,class:"icon-resource-select-img"},null,8,Bw),Kn("div",jw,Z(Ce(e)(t)),1)],10,$w))),64))])]),Kn("div",Hw,[Kn("label",Yw,Z(Ce(e)("pricePerUnit")),1),yi(Kn("input",{type:"number",id:"pricePerUnit",class:"form-control","onUpdate:modelValue":i[1]||(i[1]=t=>c.value=t),disabled:h.value,step:"0.0001"},null,8,Gw),[[Qs,c.value,void 0,{number:!0}]])]),Kn("div",Xw,[yi(Kn("input",{type:"checkbox",id:"autoPrice",class:"form-check-input","onUpdate:modelValue":i[2]||(i[2]=t=>h.value=t),onChange:u},null,544),[[qs,h.value]]),Kn("label",Zw,Z(Ce(e)("autoPrice")),1)]),Kn("div",Kw,[Kn("label",null,[Jn(Z(Ce(e)("stackPrice")),1),Qw,Jn(": "+Z(d.value.toFixed(6)),1)]),Kn("button",{onClick:m,class:"btn btn-link p-0"},[Qn(Ew)])])])])])])):es("",!0)],64))}}),Jw={class:"page-outer"},tS={class:"title"},eS=Kn("a",{href:"https://t.me/Farm_world_bot/app?startapp=ref_8485",target:"_blank"}," Farm World ",-1),iS={key:0,class:"server-error red mb-3"},nS=Si({__name:"HomeView",setup(t){const{t:e}=bh(),i=Sh(),n=Ch(),s=kh(),o=ws((()=>s.serverError));let r;return Ni((()=>{const t=localStorage.getItem("selectedLanguage");if(t){const{locale:e}=bh();e.value=t}i.loadAccounts(),r=window.setTimeout((()=>{window.location.reload()}),18e5),n.startPricesTimers(),window.addEventListener("beforeunload",(()=>{window.clearTimeout(r)})),n.loadPricesForThreeDays()})),zi((()=>{window.clearTimeout(r),n.stopPricesTimers()})),(t,i)=>(Wn(),Bn(In,null,[Kn("div",Jw,[Qn(su),Kn("h1",tS,[Jn(Z(Ce(e)("title"))+" ",1),eS]),o.value?(Wn(),Bn("div",iS,Z(Ce(e)("serverError")),1)):es("",!0),Qn(Xu),Qn(qw),Qn(zf)]),Qn(Vf),Qn(op),Qn(Mp),Qn(Im),Qn(yw),Qn(zp)],64))}}),sS=function(t){const e=Dr(t.routes,t),i=t.parseQuery||jr,n=t.stringifyQuery||Hr,s=t.history,o=qr(),r=qr(),l=qr(),a=Se(Sr);let c=Sr;Lo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Io.bind(null,(t=>""+t)),u=Io.bind(null,qo),d=Io.bind(null,Jo);function f(t,o){if(o=No({},o||a.value),"string"==typeof t){const n=ir(i,t,o.path),r=e.resolve({path:n.path},o),l=s.createHref(n.fullPath);return No(n,r,{params:d(r.params),hash:Jo(n.hash),redirectedFrom:void 0,href:l})}let r;if(null!=t.path)r=No({},t,{path:ir(i,t.path,o.path).path});else{const e=No({},t.params);for(const t in e)null==e[t]&&delete e[t];r=No({},t,{params:u(e)}),o.params=u(o.params)}const l=e.resolve(r,o),c=t.hash||"";l.params=h(d(l.params));const f=function(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}(n,No({},t,{hash:(p=c,Ko(p).replace(Yo,"{").replace(Xo,"}").replace(jo,"^")),path:l.path}));var p;const m=s.createHref(f);return No({fullPath:f,hash:c,query:n===Hr?Yr(t.query):t.query||{}},l,{redirectedFrom:void 0,href:m})}function p(t){return"string"==typeof t?ir(i,t,a.value.path):No({},t)}function m(t,e){if(c!==t)return xr(8,{from:e,to:t})}function v(t){return b(t)}function g(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:i}=e;let n="function"==typeof i?i(t):i;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=p(n):{path:n},n.params={}),No({query:t.query,hash:t.hash,params:null!=n.path?{}:t.params},n)}}function b(t,e){const i=c=f(t),s=a.value,o=t.state,r=t.force,l=!0===t.replace,h=g(i);if(h)return b(No(p(h),{state:"object"==typeof h?No({},o,h.state):o,force:r,replace:l}),e||i);const u=i;let d;return u.redirectedFrom=e,!r&&function(t,e,i){const n=e.matched.length-1,s=i.matched.length-1;return n>-1&&n===s&&sr(e.matched[n],i.matched[s])&&or(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}(n,s,i)&&(d=xr(16,{to:u,from:s}),L(s,s,!0,!1)),(d?Promise.resolve(d):w(u,s)).catch((t=>Mr(t)?Mr(t,2)?t:P(t):T(t,u,s))).then((t=>{if(t){if(Mr(t,2))return b(No({replace:l},p(t.to),{state:"object"==typeof t.to?No({},o,t.to.state):o,force:r}),e||u)}else t=k(u,s,!0,l,o);return S(u,s,t),t}))}function _(t,e){const i=m(t,e);return i?Promise.reject(i):Promise.resolve()}function y(t){const e=R.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function w(t,e){let i;const[n,s,l]=function(t,e){const i=[],n=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let r=0;r<o;r++){const o=e.matched[r];o&&(t.matched.find((t=>sr(t,o)))?n.push(o):i.push(o));const l=t.matched[r];l&&(e.matched.find((t=>sr(t,l)))||s.push(l))}return[i,n,s]}(t,e);i=tl(n.reverse(),"beforeRouteLeave",t,e);for(const o of n)o.leaveGuards.forEach((n=>{i.push(Jr(n,t,e))}));const a=_.bind(null,t,e);return i.push(a),z(i).then((()=>{i=[];for(const n of o.list())i.push(Jr(n,t,e));return i.push(a),z(i)})).then((()=>{i=tl(s,"beforeRouteUpdate",t,e);for(const n of s)n.updateGuards.forEach((n=>{i.push(Jr(n,t,e))}));return i.push(a),z(i)})).then((()=>{i=[];for(const n of l)if(n.beforeEnter)if(Ao(n.beforeEnter))for(const s of n.beforeEnter)i.push(Jr(s,t,e));else i.push(Jr(n.beforeEnter,t,e));return i.push(a),z(i)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),i=tl(l,"beforeRouteEnter",t,e,y),i.push(a),z(i)))).then((()=>{i=[];for(const n of r.list())i.push(Jr(n,t,e));return i.push(a),z(i)})).catch((t=>Mr(t,8)?t:Promise.reject(t)))}function S(t,e,i){l.list().forEach((n=>y((()=>n(t,e,i)))))}function k(t,e,i,n,o){const r=m(t,e);if(r)return r;const l=e===Sr,c=Lo?history.state:{};i&&(n||l?s.replace(t.fullPath,No({scroll:l&&c&&c.scroll},o)):s.push(t.fullPath,o)),a.value=t,L(t,e,i,l),P()}let E;function C(){E||(E=s.listen(((t,e,i)=>{if(!A.listening)return;const n=f(t),o=g(n);if(o)return void b(No(o,{replace:!0}),n).catch(Ro);c=n;const r=a.value;var l,h;Lo&&(l=vr(r.fullPath,i.delta),h=pr(),gr.set(l,h)),w(n,r).catch((t=>Mr(t,12)?t:Mr(t,2)?(b(t.to,n).then((t=>{Mr(t,20)&&!i.delta&&i.type===ar.pop&&s.go(-1,!1)})).catch(Ro),Promise.reject()):(i.delta&&s.go(-i.delta,!1),T(t,n,r)))).then((t=>{(t=t||k(n,r,!1))&&(i.delta&&!Mr(t,8)?s.go(-i.delta,!1):i.type===ar.pop&&Mr(t,20)&&s.go(-1,!1)),S(n,r,t)})).catch(Ro)})))}let x,M=qr(),O=qr();function T(t,e,i){P(t);const n=O.list();return n.length&&n.forEach((n=>n(t,e,i))),Promise.reject(t)}function P(t){return x||(x=!t,C(),M.list().forEach((([e,i])=>t?i(t):e())),M.reset()),t}function L(e,i,n,s){const{scrollBehavior:o}=t;if(!Lo||!o)return Promise.resolve();const r=!n&&function(t){const e=gr.get(t);return gr.delete(t),e}(vr(e.fullPath,0))||(s||!n)&&history.state&&history.state.scroll||null;return $e().then((()=>o(e,i,r))).then((t=>t&&mr(t))).catch((t=>T(t,e,i)))}const N=t=>s.go(t);let I;const R=new Set,A={currentRoute:a,listening:!0,addRoute:function(t,i){let n,s;return wr(t)?(n=e.getRecordMatcher(t),s=i):s=t,e.addRoute(s,n)},removeRoute:function(t){const i=e.getRecordMatcher(t);i&&e.removeRoute(i)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:f,options:t,push:v,replace:function(t){return v(No(p(t),{replace:!0}))},go:N,back:()=>N(-1),forward:()=>N(1),beforeEach:o.add,beforeResolve:r.add,afterEach:l.add,onError:O.add,isReady:function(){return x&&a.value!==Sr?Promise.resolve():new Promise(((t,e)=>{M.add([t,e])}))},install(t){t.component("RouterLink",il),t.component("RouterView",rl),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>Ce(a)}),Lo&&!I&&a.value===Sr&&(I=!0,v(s.location).catch((t=>{})));const e={};for(const n in Sr)Object.defineProperty(e,n,{get:()=>a.value[n],enumerable:!0});t.provide(Zr,this),t.provide(Kr,re(e)),t.provide(Qr,a);const i=t.unmount;R.add(t),t.unmount=function(){R.delete(t),R.size<1&&(c=Sr,E&&E(),E=null,a.value=Sr,I=!1,x=!1),i()}}};function z(t){return t.reduce(((t,e)=>t.then((()=>y(e)))),Promise.resolve())}return A}({history:function(t){const e=function(t){const{history:e,location:i}=window,n={value:_r(t,i)},s={value:e.state};function o(n,o,r){const l=t.indexOf("#"),a=l>-1?(i.host&&document.querySelector("base")?t:t.slice(l))+n:br()+t+n;try{e[r?"replaceState":"pushState"](o,"",a),s.value=o}catch(c){i[r?"replace":"assign"](a)}}return s.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:n,state:s,push:function(t,i){const r=No({},s.value,e.state,{forward:t,scroll:pr()});o(r.current,r,!0),o(t,No({},yr(n.value,t,null),{position:r.position+1},i),!1),n.value=t},replace:function(t,i){o(t,No({},e.state,yr(s.value.back,t,s.value.forward,!0),i,{position:s.value.position}),!0),n.value=t}}}(t=function(t){if(!t)if(Lo){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),er(t)}(t)),i=function(t,e,i,n){let s=[],o=[],r=null;const l=({state:o})=>{const l=_r(t,location),a=i.value,c=e.value;let h=0;if(o){if(i.value=l,e.value=o,r&&r===a)return void(r=null);h=c?o.position-c.position:0}else n(l);s.forEach((t=>{t(i.value,a,{delta:h,type:ar.pop,direction:h?h>0?hr.forward:hr.back:hr.unknown})}))};function a(){const{history:t}=window;t.state&&t.replaceState(No({},t.state,{scroll:pr()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",a,{passive:!0}),{pauseListeners:function(){r=i.value},listen:function(t){s.push(t);const e=()=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",a)}}}(t,e.state,e.location,e.replace),n=No({location:"",base:t,go:function(t,e=!0){e||i.pauseListeners(),history.go(t)},createHref:fr.bind(null,t)},e,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}("/farm-world-space-calculator/"),routes:[{path:"/",name:"home",component:nS}]}),oS=function(t={},e){const i=__VUE_I18N_LEGACY_API__&&Cl(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=!Cl(t.globalInjection)||t.globalInjection,s=!__VUE_I18N_LEGACY_API__||!i||!!t.allowComposition,o=new Map,[r,l]=function(t,e,i){const n=et();{const i=__VUE_I18N_LEGACY_API__&&e?n.run((()=>rh(t))):n.run((()=>oh(t)));if(null==i)throw Bc($c.UNEXPECTED_ERROR);return[n,i]}}(t,i),a=cl("");{const t={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return s},async install(e,...s){if(e.__VUE_I18N_SYMBOL__=a,e.provide(e.__VUE_I18N_SYMBOL__,t),Pl(s[0])){const e=s[0];t.__composerExtend=e.__composerExtend,t.__vueI18nExtend=e.__vueI18nExtend}let o=null;!i&&n&&(o=function(t,e){const i=Object.create(null);_h.forEach((t=>{const n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw Bc($c.UNEXPECTED_ERROR);const s=ye(n.value)?{get:()=>n.value.value,set(t){n.value.value=t}}:{get:()=>n.get&&n.get()};Object.defineProperty(i,t,s)})),t.config.globalProperties.$i18n=i,yh.forEach((i=>{const n=Object.getOwnPropertyDescriptor(e,i);if(!n||!n.value)throw Bc($c.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,n)}));const n=()=>{delete t.config.globalProperties.$i18n,yh.forEach((e=>{delete t.config.globalProperties[`$${e}`]}))};return n}(e,t.global)),__VUE_I18N_FULL_INSTALL__&&mh(e,t,...s),__VUE_I18N_LEGACY_API__&&i&&e.mixin(function(t,e,i){return{beforeCreate(){const n=cs();if(!n)throw Bc($c.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=e,this===this.$root)this.$i18n=vh(t,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=rh(n);const t=this.$i18n;t.__extender&&(t.__disposer=t.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=vh(t,s);else{this.$i18n=rh({__i18n:s.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:e});const t=this.$i18n;t.__extender&&(t.__disposer=t.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&Jc(e,s,s),this.$t=(...t)=>this.$i18n.t(...t),this.$rt=(...t)=>this.$i18n.rt(...t),this.$tc=(...t)=>this.$i18n.tc(...t),this.$te=(t,e)=>this.$i18n.te(t,e),this.$d=(...t)=>this.$i18n.d(...t),this.$n=(...t)=>this.$i18n.n(...t),this.$tm=t=>this.$i18n.tm(t),i.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const t=cs();if(!t)throw Bc($c.UNEXPECTED_ERROR);const e=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,e.__disposer&&(e.__disposer(),delete e.__disposer,delete e.__extender),i.__deleteInstance(t),delete this.$i18n}}}(l,l.__composer,t));const r=e.unmount;e.unmount=()=>{o&&o(),t.dispose(),r()}},get global(){return l},dispose(){r.stop()},__instances:o,__getInstance:function(t){return o.get(t)||null},__setInstance:function(t,e){o.set(t,e)},__deleteInstance:function(t){o.delete(t)}};return t}}({locale:navigator.language.includes("ru")?"ru":"en",fallbackLocale:"en",legacy:!1,messages:{en:{title:"Tool ROI Calculator",description:"Calculate the return on investment for tools in Farm World",woodPrice:"Price per unit of Wood",foodPrice:"Price per unit of Food",goldPrice:"Price per unit of Gold",fetchPrices:"Auto-update prices",manualPrices:"Set prices manually",addTool:"Add Tool",addedTools:"My Tools",noAddedTools:"No tools",dailyProfit:"Daily",dailyProfitFull:"Daily total",craftCost:"Craft Cost",days:"days",remove:"Remove",chooseToolType:"Choose tool type",addFactory:"Add Factory",chooseFactoryType:"Choose factory type",chooseFactoryLevel:"Choose factory level",craftPriceFull:"Craft Price",craftPriceShort:"Investments",cancel:"Cancel",add:"Add",appreciationText:"Say thanks❤️ to the author:",copiedMessage:"Address copied to clipboard",settings:"Settings",myTools:"My Tools",noToolsAdded:"No tools added yet.",noAccounts:"No accounts added yet.",addToolsInSettings:"Add your tools in the settings.",production:"Income",consumption:"Costs",income:"Profit",invested:"Invested",roi:"ROI",serverError:"The prices from server is unavailable. Manually enter the current prices in the settings.",accounts:"My accounts",addAccount:"Add Account",myAccount:"My Account",fullDailyProfit:"Full daily",showCharts:"Show Charts",priceCharts:"Price Charts",prevDay:"Previous Day",nextDay:"Next Day",chartError:"Failed to load chart data.",stackPriceCalculator:"Stack Price Calculator",resourceAmount:"Resource Amount",resourceType:"Resource Type",pricePerUnit:"Price per Unit",autoPrice:"Auto Price",stackPrice:"Stack Price",wood:"Wood",food:"Food",gold:"Gold",stone:"Stone",planks:"Planks",ingot:"Ingot",soup:"Soup",upgradeCost:"Upgrade Cost",buildSlotCost:"Build Slot Cost",level:"Level",sawmill:"Sawmill",kitchen:"Kitchen",forge:"Forge",buff:"Buff",mining_buff:"Mining up 30%",energy_buff:"Energy spent -100%",durability_buff:"Durability spent -100%",buffs_roi:"Buffs ROI",buffs_roi_hint:"(buff duration - 30 days)",siteNews:"New functionality"},ru:{title:"Калькулятор окупаемости",description:"Рассчитайте окупаемость инструментов в Farm World",woodPrice:"Цена за единицу дерева",foodPrice:"Цена за единицу еды",goldPrice:"Цена за единицу золота",fetchPrices:"Авто-обновление цен",manualPrices:"Ввести цены вручную",addTool:"Добавить инструмент",addedTools:"Мои инструменты",noAddedTools:"Нет иструментов",dailyProfit:"В день",dailyProfitFull:"В день всего",craftCost:"Цена крафта",days:"дней",remove:"Удалить",chooseToolType:"Выберите тип инструмента",addFactory:"Добавить факторию",chooseFactoryType:"Выберите тип фактории",chooseFactoryLevel:"Выберите уровень фактории",craftPriceFull:"Цена покупки/крафта",craftPriceShort:"Вложения",cancel:"Отмена",add:"Добавить",appreciationText:"Сказать спасибо❤️ автору:",copiedMessage:"Адрес скопирован в буфер обмена",settings:"Настройки",myTools:"Мои инструменты",noToolsAdded:"Пока не добавлено ни одного инструмента.",noAccounts:"Пока не добавлено ни аккаунта.",addToolsInSettings:"Добавьте свои инструменты в настройках.",production:"Добыча",consumption:"Расход",income:"Доход",invested:"Вложено",roi:"ROI",serverError:"Сервер цен недоступен. Вручную введите актуальные цены в настройках.",accounts:"Мои аккаунты",addAccount:"Добавить аккаунт",myAccount:"Мой аккаунт",fullDailyProfit:"Всего в день",showCharts:"Показать графики",priceCharts:"Графики цен",prevDay:"Предыдущий день",nextDay:"Следующий день",chartError:"Не удалось загрузить данные графика.",stackPriceCalculator:"Калькулятор цен на стаки",resourceAmount:"Количество ресурсов",resourceType:"Тип ресурса",pricePerUnit:"Цена за штуку",autoPrice:"Автоматическая цена",stackPrice:"Цена стака",wood:"Дерево",food:"Еда",gold:"Золото",stone:"Камень",planks:"Доски",ingot:"Слитки",soup:"Суп",upgradeCost:"Цена Улучшения",buildSlotCost:"Цена постройки слота",level:"Уровень",sawmill:"Лесопилка",kitchen:"Кухня",forge:"Кузница",buff:"Бафф",mining_buff:"Увеличение добычи +30%",energy_buff:"Энергия не тратится",durability_buff:"Починка не требуется",buffs_roi:"Окупаемость баффов",buffs_roi_hint:"(время действия баффа - 30 дней)",siteNews:"Новый функционал"}}}),rS=((...t)=>{const e=(lo||(lo=On(ro))).createApp(...t),{mount:i}=e;return e.mount=t=>{const n=function(t){if(v(t)){return document.querySelector(t)}return t}(t);if(!n)return;const s=e._component;m(s)||s.render||s.template||(s.template=n.innerHTML),n.innerHTML="";const o=i(n,!1,function(t){if(t instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&t instanceof MathMLElement)return"mathml"}(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e})(ll),lS={id:"97014735",router:sS,env:"production",scriptSrc:"https://mc.yandex.ru/metrika/tag.js"};rS.use(function(){const t=et(!0),e=t.run((()=>we({})));let i=[],n=[];const s=pe({install(t){co(s),s._a=t,t.provide(ho,s),t.config.globalProperties.$pinia=s,n.forEach((t=>i.push(t))),n=[]},use(t){return this._a?i.push(t):n.push(t),this},_p:i,_a:null,_e:t,_s:new Map,state:e});return s}()),rS.use(sS),rS.use((function(t,e){Po(),function(t){Po(),To=t}(t),function(t){if(!To)throw Error("Update available after init");To.config.globalProperties.$yandexMetrika=Oo,function(t){const e=Co;Object.keys(t).forEach((function(i){e[i]=t[i]}))}(t),function(){if("undefined"!=typeof document){if(!Co.id)throw new Error("[vue-yandex-metrika] Please enter a Yandex Metrika tracking ID");Co.router||Co.env}}(),function(t,e=Co.scriptSrc){var i=document.head||document.getElementsByTagName("head")[0];const n=document.createElement("script");n.async=!0,n.charset="utf-8",n.src=e,i.appendChild(n),n.onload=t}((()=>{if(!To)throw Error("Update available after init");const t=function(t){if("production"===Co.env){let e=Mo(Object.assign({id:Co.id},Co.options),{tryMetrika1:"https://mc.yandex.ru/metrika/watch.js"===Co.scriptSrc});return t.config.globalProperties.$yandexMetrika=e}return Co.debug,t.config.globalProperties.$yandexMetrika=new xo}(To);Oo.setMetrika(t),function(t){Co.router&&Co.router.afterEach((function(e,i){Co.ignoreRoutes&&Co.ignoreRoutes.indexOf(String(e.name))>-1||Co.skipSamePath&&e.path==i.path||t.hit(e.path,{referer:i.path})}))}(Oo)}),t.scriptSrc)}(e)}),lS),rS.use(oS),rS.mount("#app");
